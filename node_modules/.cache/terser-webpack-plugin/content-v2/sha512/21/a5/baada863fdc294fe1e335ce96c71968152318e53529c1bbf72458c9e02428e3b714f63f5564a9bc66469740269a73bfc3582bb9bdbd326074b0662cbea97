{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{\"+qE3\":function(e,t,r){\"use strict\";var n,s=\"object\"==typeof Reflect?Reflect:null,i=s&&\"function\"==typeof s.apply?s.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=s&&\"function\"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function s(){void 0!==i&&e.removeListener(\"error\",i),r([].slice.call(arguments))}var i;\"error\"!==t&&(i=function(r){e.removeListener(t,s),n(r)},e.once(\"error\",i)),e.once(t,s)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var s,i,o;if(l(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit(\"newListener\",t,r.listener?r.listener:r),i=e._events),o=i[t]),void 0===o)o=i[t]=r,++e._eventsCount;else if(\"function\"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(s=d(e))>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");a.name=\"MaxListenersExceededWarning\",a.emitter=e,a.type=t,a.count=o.length,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=h.bind(n);return s.listener=r,n.wrapFn=s,s}function f(e,t,r){var n=e._events;if(void 0===n)return[];var s=n[t];return void 0===s?[]:\"function\"==typeof s?r?[s.listener||s]:[s]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(s):g(s,s.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if(\"function\"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,\"defaultMaxListeners\",{enumerable:!0,get:function(){return c},set:function(e){if(\"number\"!=typeof e||e<0||o(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||o(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=\"error\"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if(\"function\"==typeof c)i(c,this,t);else{var l=c.length,d=g(c,l);for(r=0;r<l;++r)i(d[r],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var r,n,s,i,o;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit(\"removeListener\",e,r.listener||t));else if(\"function\"!=typeof r){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,s=i;break}if(s<0)return this;0===s?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,s),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit(\"removeListener\",e,o||t)}return this},a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var s,i=Object.keys(r);for(n=0;n<i.length;++n)\"removeListener\"!==(s=i[n])&&this.removeAllListeners(s);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},\"/pdn\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"8xwj\"),o=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"sSRp\"),l=r(\"1z2d\"),d=r(\"Gffd\"),u=new s.Logger(\"Safari11\"),h={OS:1024,MIS:1024};class p extends l.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new p}get name(){return\"Safari11\"}close(){if(u.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const s=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:h}){u.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters(\"audio\",h),video:o.getSendingRtpParameters(\"video\",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters(\"audio\",h),video:o.getSendingRemoteRtpParameters(\"video\",h)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){u.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),u.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),s&&u.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let l,d=await this._pc.createOffer(),h=n.parse(d.sdp);const p=i.clone(this._sendingRtpParametersByKind[e.kind],{});p.codecs=o.reduceCodecs(p.codecs);const f=i.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=o.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:h}),\"video\"===e.kind&&t&&t.length>1&&(u.debug(\"send() | enabling simulcast\"),h=n.parse(d.sdp),l=h.media.find(e=>\"video\"===e.type),c.addLegacySimulcast({offerMediaObject:l,track:e,numStreams:t.length}),d={type:\"offer\",sdp:n.write(h)}),u.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",d),await this._pc.setLocalDescription(d),h=n.parse(this._pc.localDescription.sdp),l=h.media.find(t=>t.type===e.kind),p.rtcp.cname=a.getCname({offerMediaObject:l}),p.encodings=c.getRtpEncodings({offerMediaObject:l,track:e}),t)for(let n=0;n<p.encodings.length;++n)t[n]&&Object.assign(p.encodings[n],t[n]);if(p.encodings.length>1&&\"video/vp8\"===p.codecs[0].mimeType.toLowerCase())for(const n of p.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:l,offerRtpParameters:p,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find(t=>t.track===e);return this._mapSendLocalIdRtpSender.set(g,y),{localId:g,rtpParameters:p,rtpSender:y}}async stopSending(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();u.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(s){if(0===this._sendStream.getTracks().length)return void u.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",s.toString());throw s}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?u.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):u.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),u.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),u.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:i,priority:o};u.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),u.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),u.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=e,i=t;this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const o={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",o),await this._pc.setRemoteDescription(o);let c=await this._pc.createAnswer();const l=n.parse(c.sdp),d=l.media.find(e=>String(e.mid)===i);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:d}),c={type:\"answer\",sdp:n.write(l)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:l}),u.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",c),await this._pc.setLocalDescription(c);const h=this._pc.getReceivers().find(e=>e.track&&e.track.id===s);if(!h)throw new Error(\"new RTCRtpReceiver not\");return this._mapRecvLocalIdInfo.set(s,{mid:i,rtpParameters:r,rtpReceiver:h}),{localId:s,track:h.track,rtpReceiver:h}}async stopReceiving(e){this._assertRecvDirection(),u.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const s=await this._pc.createAnswer();u.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error(\"associated RTCRtpReceiver not found\");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};u.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}u.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Safari11=p},\"/rqz\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"nreB\"),s=r(\"8xwj\");function i(e){const t=new RegExp(\"^(audio|video)/(.+)\",\"i\");if(\"object\"!=typeof e)throw new TypeError(\"codec is not an object\");if(!e.mimeType||\"string\"!=typeof e.mimeType)throw new TypeError(\"missing codec.mimeType\");const r=t.exec(e.mimeType);if(!r)throw new TypeError(\"invalid codec.mimeType\");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&\"number\"!=typeof e.preferredPayloadType)throw new TypeError(\"invalid codec.preferredPayloadType\");if(\"number\"!=typeof e.clockRate)throw new TypeError(\"missing codec.clockRate\");\"audio\"===e.kind?\"number\"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&\"object\"==typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]=\"\",t=\"\"),\"string\"!=typeof t&&\"number\"!=typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if(\"apt\"===n&&\"number\"!=typeof t)throw new TypeError(\"invalid codec apt parameter\")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)o(n)}function o(e){if(\"object\"!=typeof e)throw new TypeError(\"fb is not an object\");if(!e.type||\"string\"!=typeof e.type)throw new TypeError(\"missing fb.type\");e.parameter&&\"string\"==typeof e.parameter||(e.parameter=\"\")}function a(e){if(\"object\"!=typeof e)throw new TypeError(\"ext is not an object\");if(e.kind&&\"string\"==typeof e.kind||(e.kind=\"\"),\"\"!==e.kind&&\"audio\"!==e.kind&&\"video\"!==e.kind)throw new TypeError(\"invalid ext.kind\");if(!e.uri||\"string\"!=typeof e.uri)throw new TypeError(\"missing ext.uri\");if(\"number\"!=typeof e.preferredId)throw new TypeError(\"missing ext.preferredId\");if(e.preferredEncrypt&&\"boolean\"!=typeof e.preferredEncrypt)throw new TypeError(\"invalid ext.preferredEncrypt\");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&\"string\"!=typeof e.direction)throw new TypeError(\"invalid ext.direction\");e.direction||(e.direction=\"sendrecv\")}function c(e){if(\"object\"!=typeof e)throw new TypeError(\"params is not an object\");if(e.mid&&\"string\"!=typeof e.mid)throw new TypeError(\"params.mid is not a string\");if(!Array.isArray(e.codecs))throw new TypeError(\"missing params.codecs\");for(const t of e.codecs)l(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError(\"params.headerExtensions is not an array\");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)d(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError(\"params.encodings is not an array\");e.encodings||(e.encodings=[]);for(const t of e.encodings)u(t);if(e.rtcp&&\"object\"!=typeof e.rtcp)throw new TypeError(\"params.rtcp is not an object\");e.rtcp||(e.rtcp={}),h(e.rtcp)}function l(e){const t=new RegExp(\"^(audio|video)/(.+)\",\"i\");if(\"object\"!=typeof e)throw new TypeError(\"codec is not an object\");if(!e.mimeType||\"string\"!=typeof e.mimeType)throw new TypeError(\"missing codec.mimeType\");const r=t.exec(e.mimeType);if(!r)throw new TypeError(\"invalid codec.mimeType\");if(\"number\"!=typeof e.payloadType)throw new TypeError(\"missing codec.payloadType\");if(\"number\"!=typeof e.clockRate)throw new TypeError(\"missing codec.clockRate\");\"audio\"===r[1].toLowerCase()?\"number\"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&\"object\"==typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]=\"\",t=\"\"),\"string\"!=typeof t&&\"number\"!=typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if(\"apt\"===n&&\"number\"!=typeof t)throw new TypeError(\"invalid codec apt parameter\")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)o(n)}function d(e){if(\"object\"!=typeof e)throw new TypeError(\"ext is not an object\");if(!e.uri||\"string\"!=typeof e.uri)throw new TypeError(\"missing ext.uri\");if(\"number\"!=typeof e.id)throw new TypeError(\"missing ext.id\");if(e.encrypt&&\"boolean\"!=typeof e.encrypt)throw new TypeError(\"invalid ext.encrypt\");e.encrypt||(e.encrypt=!1),e.parameters&&\"object\"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(void 0===r&&(e.parameters[t]=\"\",r=\"\"),\"string\"!=typeof r&&\"number\"!=typeof r)throw new TypeError(\"invalid header extension parameter\")}}function u(e){if(\"object\"!=typeof e)throw new TypeError(\"encoding is not an object\");if(e.ssrc&&\"number\"!=typeof e.ssrc)throw new TypeError(\"invalid encoding.ssrc\");if(e.rid&&\"string\"!=typeof e.rid)throw new TypeError(\"invalid encoding.rid\");if(e.rtx&&\"object\"!=typeof e.rtx)throw new TypeError(\"invalid encoding.rtx\");if(e.rtx&&\"number\"!=typeof e.rtx.ssrc)throw new TypeError(\"missing encoding.rtx.ssrc\");if(e.dtx&&\"boolean\"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&\"string\"!=typeof e.scalabilityMode)throw new TypeError(\"invalid encoding.scalabilityMode\")}function h(e){if(\"object\"!=typeof e)throw new TypeError(\"rtcp is not an object\");if(e.cname&&\"string\"!=typeof e.cname)throw new TypeError(\"invalid rtcp.cname\");e.reducedSize&&\"boolean\"==typeof e.reducedSize||(e.reducedSize=!0)}function p(e){if(\"object\"!=typeof e)throw new TypeError(\"numStreams is not an object\");if(\"number\"!=typeof e.OS)throw new TypeError(\"missing numStreams.OS\");if(\"number\"!=typeof e.MIS)throw new TypeError(\"missing numStreams.MIS\")}function f(e){return!!e&&/.+\\/rtx$/i.test(e.mimeType)}function m(e,t,{strict:r=!1,modify:s=!1}={}){const i=e.mimeType.toLowerCase();if(i!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(i){case\"video/h264\":if((e.parameters[\"packetization-mode\"]||0)!==(t.parameters[\"packetization-mode\"]||0))return!1;if(r){if(!n.isSameProfile(e.parameters,t.parameters))return!1;let r;try{r=n.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(o){return!1}s&&(r?(e.parameters[\"profile-level-id\"]=r,t.parameters[\"profile-level-id\"]=r):(delete e.parameters[\"profile-level-id\"],delete t.parameters[\"profile-level-id\"]))}break;case\"video/vp9\":if(r&&(e.parameters[\"profile-id\"]||0)!==(t.parameters[\"profile-id\"]||0))return!1}return!0}function g(e,t){const r=[];for(const n of e.rtcpFeedback||[]){const e=(t.rtcpFeedback||[]).find(e=>e.type===n.type&&(e.parameter===n.parameter||!e.parameter&&!n.parameter));e&&r.push(e)}return r}t.validateRtpCapabilities=function(e){if(\"object\"!=typeof e)throw new TypeError(\"caps is not an object\");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError(\"caps.codecs is not an array\");e.codecs||(e.codecs=[]);for(const t of e.codecs)i(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError(\"caps.headerExtensions is not an array\");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)a(t)},t.validateRtpCodecCapability=i,t.validateRtcpFeedback=o,t.validateRtpHeaderExtension=a,t.validateRtpParameters=c,t.validateRtpCodecParameters=l,t.validateRtpHeaderExtensionParameters=d,t.validateRtpEncodingParameters=u,t.validateRtcpParameters=h,t.validateSctpCapabilities=function(e){if(\"object\"!=typeof e)throw new TypeError(\"caps is not an object\");if(!e.numStreams||\"object\"!=typeof e.numStreams)throw new TypeError(\"missing caps.numStreams\");p(e.numStreams)},t.validateNumSctpStreams=p,t.validateSctpParameters=function(e){if(\"object\"!=typeof e)throw new TypeError(\"params is not an object\");if(\"number\"!=typeof e.port)throw new TypeError(\"missing params.port\");if(\"number\"!=typeof e.OS)throw new TypeError(\"missing params.OS\");if(\"number\"!=typeof e.MIS)throw new TypeError(\"missing params.MIS\");if(\"number\"!=typeof e.maxMessageSize)throw new TypeError(\"missing params.maxMessageSize\")},t.validateSctpStreamParameters=function(e){if(\"object\"!=typeof e)throw new TypeError(\"params is not an object\");if(\"number\"!=typeof e.streamId)throw new TypeError(\"missing params.streamId\");let t=!1;if(\"boolean\"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&\"number\"!=typeof e.maxPacketLifeTime)throw new TypeError(\"invalid params.maxPacketLifeTime\");if(e.maxRetransmits&&\"number\"!=typeof e.maxRetransmits)throw new TypeError(\"invalid params.maxRetransmits\");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError(\"cannot provide both maxPacketLifeTime and maxRetransmits\");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError(\"cannot be ordered with maxPacketLifeTime or maxRetransmits\");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.priority&&\"string\"!=typeof e.priority)throw new TypeError(\"invalid params.priority\");if(e.label&&\"string\"!=typeof e.label)throw new TypeError(\"invalid params.label\");if(e.protocol&&\"string\"!=typeof e.protocol)throw new TypeError(\"invalid params.protocol\")},t.getExtendedRtpCapabilities=function(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs||[]){if(f(n))continue;const t=(e.codecs||[]).find(e=>m(e,n,{strict:!0,modify:!0}));if(!t)continue;const s={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:n.parameters,rtcpFeedback:g(t,n)};r.codecs.push(s)}for(const n of r.codecs){const r=e.codecs.find(e=>f(e)&&e.parameters.apt===n.localPayloadType),s=t.codecs.find(e=>f(e)&&e.parameters.apt===n.remotePayloadType);r&&s&&(n.localRtxPayloadType=r.preferredPayloadType,n.remoteRtxPayloadType=s.preferredPayloadType)}for(const n of t.headerExtensions){const t=e.headerExtensions.find(e=>{return r=n,!((t=e).kind&&r.kind&&t.kind!==r.kind||t.uri!==r.uri);var t,r});if(!t)continue;const s={kind:n.kind,uri:n.uri,sendId:t.preferredId,recvId:n.preferredId,encrypt:t.preferredEncrypt,direction:\"sendrecv\"};switch(n.direction){case\"sendrecv\":s.direction=\"sendrecv\";break;case\"recvonly\":s.direction=\"sendonly\";break;case\"sendonly\":s.direction=\"recvonly\";break;case\"inactive\":s.direction=\"inactive\"}r.headerExtensions.push(s)}return r},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs)t.codecs.push({mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback}),r.remoteRtxPayloadType&&t.codecs.push({mimeType:r.kind+\"/rtx\",kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]});for(const r of e.headerExtensions)\"sendrecv\"!==r.direction&&\"recvonly\"!==r.direction||t.headerExtensions.push({kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction});return t},t.getSendingRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs)n.kind===e&&(r.codecs.push({mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback}),n.localRtxPayloadType&&r.codecs.push({mimeType:n.kind+\"/rtx\",payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]}));for(const n of t.headerExtensions)n.kind&&n.kind!==e||\"sendrecv\"!==n.direction&&\"sendonly\"!==n.direction||r.headerExtensions.push({uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}});return r},t.getSendingRemoteRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs)n.kind===e&&(r.codecs.push({mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback}),n.localRtxPayloadType&&r.codecs.push({mimeType:n.kind+\"/rtx\",payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]}));for(const n of t.headerExtensions)n.kind&&n.kind!==e||\"sendrecv\"!==n.direction&&\"sendonly\"!==n.direction||r.headerExtensions.push({uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}});if(r.headerExtensions.some(e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.uri))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(e=>\"goog-remb\"!==e.type);else if(r.headerExtensions.some(e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.uri))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(e=>\"transport-cc\"!==e.type);else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(e=>\"transport-cc\"!==e.type&&\"goog-remb\"!==e.type);return r},t.reduceCodecs=function(e,t){const r=[];if(t){for(let n=0;n<e.length;++n)if(m(e[n],t)){r.push(e[n]),f(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError(\"no matching codec found\")}else r.push(e[0]),f(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){c(e=s.clone(e,{}));const t={mid:\"probator\",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:\"probator\"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some(t=>t.kind===e)},t.canReceive=function(e,t){if(c(e),0===e.codecs.length)return!1;const r=e.codecs[0];return t.codecs.some(e=>e.remotePayloadType===r.payloadType)}},0:function(e,t,r){e.exports=r(\"zUnb\")},\"0+mJ\":function(e,t,r){var n=r(\"fg2H\"),s=r(\"K/+X\"),i=r(\"rfC7\"),o=r(\"YzUL\");t.polling=function(e){var t=!1,r=!1,o=!1!==e.jsonp;if(\"undefined\"!=typeof location){var a=\"https:\"===location.protocol,c=location.port;c||(c=a?443:80),t=e.hostname!==location.hostname||c!==e.port,r=e.secure!==a}if(e.xdomain=t,e.xscheme=r,\"open\"in new n(e)&&!e.forceJSONP)return new s(e);if(!o)throw new Error(\"JSONP disabled\");return new i(e)},t.websocket=o},\"0NQQ\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"8xwj\"),o=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"iHzg\"),l=r(\"1z2d\"),d=r(\"Gffd\"),u=r(\"gEDQ\"),h=new s.Logger(\"Chrome74\"),p={OS:1024,MIS:1024};class f extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Chrome74\"}close(){if(h.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"});try{e.addTransceiver(\"audio\"),e.addTransceiver(\"video\");const r=await e.createOffer();try{e.close()}catch(t){}const s=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return h.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){h.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters(\"audio\",u),video:o.getSendingRtpParameters(\"video\",u)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters(\"audio\",u),video:o.getSendingRemoteRtpParameters(\"video\",u)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){h.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),h.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),t&&t.length>1&&t.forEach((e,t)=>{e.rid=\"r\"+t});const l=i.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=o.reduceCodecs(l.codecs,s);const d=i.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});d.codecs=o.reduceCodecs(d.codecs,s);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream],sendEncodings:t});let m,g=await this._pc.createOffer(),y=n.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:y});let v=!1;const w=u.parse((t||[{}])[0].scalabilityMode);t&&1===t.length&&w.spatialLayers>1&&\"video/vp9\"===l.codecs[0].mimeType.toLowerCase()&&(h.debug(\"send() | enabling legacy simulcast for VP9 SVC\"),v=!0,y=n.parse(g.sdp),m=y.media[p.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:w.spatialLayers}),g={type:\"offer\",sdp:n.write(y)}),h.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",g),await this._pc.setLocalDescription(g);const b=f.mid;if(l.mid=b,y=n.parse(this._pc.localDescription.sdp),m=y.media[p.idx],l.rtcp.cname=a.getCname({offerMediaObject:m}),t)if(1===t.length){let e=c.getRtpEncodings({offerMediaObject:m});Object.assign(e[0],t[0]),v&&(e=[e[0]]),l.encodings=e}else l.encodings=t;else l.encodings=c.getRtpEncodings({offerMediaObject:m});if(l.encodings.length>1&&(\"video/vp8\"===l.codecs[0].mimeType.toLowerCase()||\"video/h264\"===l.codecs[0].mimeType.toLowerCase()))for(const n of l.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:m,reuseMid:p.reuseMid,offerRtpParameters:l,answerRtpParameters:d,codecOptions:r,extmapAllowMixed:!0});const _={type:\"answer\",sdp:this._remoteSdp.getSdp()};return h.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",_),await this._pc.setRemoteDescription(_),this._mapMidTransceiver.set(b,f),{localId:b,rtpParameters:l,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),h.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const r=await this._pc.createOffer();h.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):h.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:i,priority:o};h.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),h.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),h.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const i={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const c=n.parse(o.sdp),l=c.media.find(e=>String(e.mid)===s);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:l}),o={type:\"answer\",sdp:n.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:c}),h.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",o),await this._pc.setLocalDescription(o);const d=this._pc.getTransceivers().find(e=>e.mid===s);if(!d)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(s,d),{localId:s,track:d.receiver.track,rtpReceiver:d.receiver}}async stopReceiving(e){this._assertRecvDirection(),h.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();h.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};h.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome74=f},\"0zaL\":function(e,t,r){var n=r(\"Wm4p\"),s=r(\"cpc2\");function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState=\"\",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,s(i.prototype),i.prototype.onError=function(e,t){var r=new Error(e);return r.type=\"TransportError\",r.description=t,this.emit(\"error\",r),this},i.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},i.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(e)},i.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},i.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit(\"packet\",e)},i.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},1:function(e,t){},\"14A5\":function(e,t){var r=void 0!==r?r:\"undefined\"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:\"undefined\"!=typeof MSBlobBuilder?MSBlobBuilder:\"undefined\"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob([\"hi\"]).size}catch(e){return!1}}(),s=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function a(e,t){t=t||{};var n=new r;return o(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function c(e,t){return new Blob(o(e),t||{})}\"undefined\"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=n?s?Blob:c:i?a:void 0},\"1gGv\":function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;t.splice(1,0,r,\"color: inherit\");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&(n++,\"%c\"===e&&(s=n))}),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem(\"debug\",e):t.storage.removeItem(\"debug\")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem(\"debug\")}catch(r){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type&&!window.process.__nwjs)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.log=console.debug||console.log||(()=>{}),e.exports=r(\"2gMR\")(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}}},\"1z2d\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"GygU\");t.HandlerInterface=class extends n.EnhancedEventEmitter{constructor(){super()}}},\"2Fkq\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"nAs4\"),o=r(\"8xwj\"),a=r(\"/rqz\"),c=r(\"YwPy\"),l=r(\"iHzg\"),d=r(\"1z2d\"),u=r(\"Gffd\"),h=new s.Logger(\"Firefox60\"),p={OS:16,MIS:2048};class f extends d.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Firefox60\"}close(){if(h.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"}),t=document.createElement(\"canvas\");t.getContext(\"2d\");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver(\"audio\",{direction:\"sendrecv\"});const i=e.addTransceiver(r,{direction:\"sendrecv\"}),o=i.sender.getParameters();o.encodings=[{rid:\"r0\",maxBitrate:1e5},{rid:\"r1\",maxBitrate:5e5}],await i.sender.setParameters(o);const a=await e.createOffer();try{t.remove()}catch(s){}try{r.stop()}catch(s){}try{e.close()}catch(s){}const l=n.parse(a.sdp);return c.extractRtpCapabilities({sdpObject:l})}catch(s){try{t.remove()}catch(i){}try{r.stop()}catch(i){}try{e.close()}catch(i){}throw s}}async getNativeSctpCapabilities(){return h.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){h.debug(\"run()\"),this._direction=e,this._remoteSdp=new u.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters(\"audio\",d),video:a.getSendingRtpParameters(\"video\",d)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters(\"audio\",d),video:a.getSendingRemoteRtpParameters(\"video\",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:o||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){throw new i.UnsupportedError(\"not supported\")}async restartIce(e){if(h.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),h.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),t&&(t=o.clone(t,[])).length>1&&(t.forEach((e,t)=>{e.rid=\"r\"+t}),t.reverse());const i=o.clone(this._sendingRtpParametersByKind[e.kind],{});i.codecs=a.reduceCodecs(i.codecs,s);const d=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});d.codecs=a.reduceCodecs(d.codecs,s);const u=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream]});if(t){const e=u.sender.getParameters();e.encodings=t,await u.sender.setParameters(e)}const p=await this._pc.createOffer();let f=n.parse(p.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:f}),h.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",p),await this._pc.setLocalDescription(p);const m=u.mid;i.mid=m,f=n.parse(this._pc.localDescription.sdp);const g=f.media[f.media.length-1];if(i.rtcp.cname=c.getCname({offerMediaObject:g}),t)if(1===t.length){const e=l.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],t[0]),i.encodings=e}else i.encodings=t.reverse();else i.encodings=l.getRtpEncodings({offerMediaObject:g});if(i.encodings.length>1&&(\"video/vp8\"===i.codecs[0].mimeType.toLowerCase()||\"video/h264\"===i.codecs[0].mimeType.toLowerCase()))for(const n of i.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:g,offerRtpParameters:i,answerRtpParameters:d,codecOptions:r,extmapAllowMixed:!0});const y={type:\"answer\",sdp:this._remoteSdp.getSdp()};return h.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(m,u),{localId:m,rtpParameters:i,rtpSender:u.sender}}async stopSending(e){h.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated transceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();h.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):h.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated transceiver not found\");const n=r.sender.getParameters();t=n.encodings.length-1-t,n.encodings.forEach((e,r)=>{e.active=r>=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:i,priority:o};h.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),h.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),h.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const i={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=n.parse(o.sdp),l=a.media.find(e=>String(e.mid)===s);c.applyCodecParameters({offerRtpParameters:r,answerMediaObject:l}),o={type:\"answer\",sdp:n.write(a)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:a}),h.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",o),await this._pc.setLocalDescription(o);const d=this._pc.getTransceivers().find(e=>e.mid===s);if(!d)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(s,d),{localId:s,track:d.receiver.track,rtpReceiver:d.receiver}}async stopReceiving(e){this._assertRecvDirection(),h.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();h.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};h.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=c.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Firefox60=f},\"2gMR\":function(e,t,r){e.exports=function(e){function t(e){let r,s=null;function i(...e){if(!i.enabled)return;const n=i,s=Number(new Date);n.diff=s-(r||s),n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,s)=>{if(\"%%\"===r)return\"%\";o++;const i=t.formatters[s];return\"function\"==typeof i&&(r=i.call(n,e[o]),e.splice(o,1),o--),r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null===s?t.enabled(e):s,set:e=>{s=e}}),\"function\"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?\":\":r)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map(e=>\"-\"+e)].join(\",\");return t.enable(\"\"),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(\"u6rE\"),t.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},\"3exg\":function(e,t,r){var n=r(\"0zaL\"),s=r(\"TypT\"),i=r(\"Wm4p\"),o=r(\"Yvos\"),a=r(\"Aplp\"),c=r(\"Bn1Y\")(\"engine.io-client:polling\");e.exports=d;var l=null!=new(r(\"fg2H\"))({xdomain:!1}).responseType;function d(e){l&&!(e&&e.forceBase64)||(this.supportsBinary=!1),n.call(this,e)}o(d,n),d.prototype.name=\"polling\",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(e){var t=this;function r(){c(\"paused\"),t.readyState=\"paused\",e()}if(this.readyState=\"pausing\",this.polling||!this.writable){var n=0;this.polling&&(c(\"we are currently polling - waiting to pause\"),n++,this.once(\"pollComplete\",(function(){c(\"pre-pause polling complete\"),--n||r()}))),this.writable||(c(\"we are currently writing - waiting to pause\"),n++,this.once(\"drain\",(function(){c(\"pre-pause writing complete\"),--n||r()})))}else r()},d.prototype.poll=function(){c(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},d.prototype.onData=function(e){var t=this;c(\"polling got data %s\",e),i.decodePayload(e,this.socket.binaryType,(function(e,r,n){if(\"opening\"===t.readyState&&\"open\"===e.type&&t.onOpen(),\"close\"===e.type)return t.onClose(),!1;t.onPacket(e)})),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():c('ignoring poll - transport state \"%s\"',this.readyState))},d.prototype.doClose=function(){var e=this;function t(){c(\"writing close packet\"),e.write([{type:\"close\"}])}\"open\"===this.readyState?(c(\"transport open - closing\"),t()):(c(\"transport not open - deferring close\"),this.once(\"open\",t))},d.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit(\"drain\")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,r)}))},d.prototype.uri=function(){var e=this.query||{},t=this.secure?\"https\":\"http\",r=\"\";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&(\"https\"===t&&443!==Number(this.port)||\"http\"===t&&80!==Number(this.port))&&(r=\":\"+this.port),e.length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+e}},\"3fo0\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"Nj9v\");t.Device=n.Device,t.detectDevice=n.detectDevice;const s=r(\"Ay4W\");t.types=s,t.version=\"3.6.26\";var i=r(\"gEDQ\");t.parseScalabilityMode=i.parse},\"4+Ds\":function(e,t,r){e.exports=r(\"uKDP\"),e.exports.parser=r(\"Wm4p\")},\"4Eqw\":function(e,t,r){\"use strict\";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AwaitQueue=class{constructor({ClosedErrorClass:e=Error,StoppedErrorClass:t=Error}={ClosedErrorClass:Error,StoppedErrorClass:Error}){this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.ClosedErrorClass=e,this.StoppedErrorClass=t}get size(){return this.pendingTasks.length}close(){if(!this.closed){this.closed=!0;for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.ClosedErrorClass(\"AwaitQueue closed\"));this.pendingTasks.length=0}}push(e,t){return n(this,void 0,void 0,(function*(){if(this.closed)throw new this.ClosedErrorClass(\"AwaitQueue closed\");if(\"function\"!=typeof e)throw new TypeError(\"given task is not a function\");if(!e.name&&t)try{Object.defineProperty(e,\"name\",{value:t})}catch(r){}return new Promise((r,n)=>{const s={task:e,name:t,resolve:r,reject:n,stopped:!1,enqueuedAt:new Date,executedAt:void 0};this.pendingTasks.push(s),1===this.pendingTasks.length&&this.next()})}))}stop(){if(!this.closed){for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.StoppedErrorClass(\"AwaitQueue stopped\"));this.pendingTasks.length=0}}dump(){const e=new Date;return this.pendingTasks.map(t=>({task:t.task,name:t.name,enqueuedTime:t.executedAt?t.executedAt.getTime()-t.enqueuedAt.getTime():e.getTime()-t.enqueuedAt.getTime(),executingTime:t.executedAt?e.getTime()-t.executedAt.getTime():0}))}next(){return n(this,void 0,void 0,(function*(){const e=this.pendingTasks[0];e&&(yield this.executeTask(e),this.pendingTasks.shift(),this.next())}))}executeTask(e){return n(this,void 0,void 0,(function*(){if(!e.stopped){e.executedAt=new Date;try{const t=yield e.task();if(e.stopped)return;e.resolve(t)}catch(t){if(e.stopped)return;e.reject(t)}}}))}}},\"4NJD\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"nAs4\"),o=r(\"8xwj\"),a=r(\"/rqz\"),c=r(\"YwPy\"),l=r(\"sSRp\"),d=r(\"1z2d\"),u=r(\"Gffd\"),h=new s.Logger(\"Chrome55\"),p={OS:1024,MIS:1024};class f extends d.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Chrome55\"}close(){if(h.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const s=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return h.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){h.debug(\"run()\"),this._direction=e,this._remoteSdp=new u.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters(\"audio\",d),video:a.getSendingRtpParameters(\"video\",d)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters(\"audio\",d),video:a.getSendingRemoteRtpParameters(\"video\",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:o||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){h.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),h.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),s&&h.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let i,d=await this._pc.createOffer(),u=n.parse(d.sdp);const p=o.clone(this._sendingRtpParametersByKind[e.kind],{});p.codecs=a.reduceCodecs(p.codecs);const f=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=a.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:u}),\"video\"===e.kind&&t&&t.length>1&&(h.debug(\"send() | enabling simulcast\"),u=n.parse(d.sdp),i=u.media.find(e=>\"video\"===e.type),l.addLegacySimulcast({offerMediaObject:i,track:e,numStreams:t.length}),d={type:\"offer\",sdp:n.write(u)}),h.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",d),await this._pc.setLocalDescription(d),u=n.parse(this._pc.localDescription.sdp),i=u.media.find(t=>t.type===e.kind),p.rtcp.cname=c.getCname({offerMediaObject:i}),p.encodings=l.getRtpEncodings({offerMediaObject:i,track:e}),t)for(let n=0;n<p.encodings.length;++n)t[n]&&Object.assign(p.encodings[n],t[n]);if(p.encodings.length>1&&\"video/vp8\"===p.codecs[0].mimeType.toLowerCase())for(const n of p.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:i,offerRtpParameters:p,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,e),{localId:g,rtpParameters:p}}async stopSending(e){this._assertSendDirection(),h.debug(\"stopSending() [localId:%s]\",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error(\"track not found\");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();h.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(s){if(0===this._sendStream.getTracks().length)return void h.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",s.toString());throw s}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){throw new i.UnsupportedError(\"not implemented\")}async setMaxSpatialLayer(e,t){throw new i.UnsupportedError(\" not implemented\")}async setRtpEncodingParameters(e,t){throw new i.UnsupportedError(\"not supported\")}async getSenderStats(e){throw new i.UnsupportedError(\"not implemented\")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:i,priority:o};h.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),h.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),h.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=e,i=t,o=r.rtcp.cname;this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:o,trackId:e});const a={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",a),await this._pc.setRemoteDescription(a);let l=await this._pc.createAnswer();const d=n.parse(l.sdp),u=d.media.find(e=>String(e.mid)===i);c.applyCodecParameters({offerRtpParameters:r,answerMediaObject:u}),l={type:\"answer\",sdp:n.write(d)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:d}),h.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",l),await this._pc.setLocalDescription(l);const p=this._pc.getRemoteStreams().find(e=>e.id===o).getTrackById(s);if(!p)throw new Error(\"remote track not found\");return this._mapRecvLocalIdInfo.set(s,{mid:i,rtpParameters:r}),{localId:s,track:p}}async stopReceiving(e){this._assertRecvDirection(),h.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const s=await this._pc.createAnswer();h.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s)}async getReceiverStats(e){throw new i.UnsupportedError(\"not implemented\")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};h.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=c.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome55=f},\"6C75\":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},\"7h/2\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"1gGv\"),s=\"mediasoup-client\";t.Logger=class{constructor(e){e?(this._debug=n.default(`${s}:${e}`),this._warn=n.default(`${s}:WARN:${e}`),this._error=n.default(`${s}:ERROR:${e}`)):(this._debug=n.default(s),this._warn=n.default(s+\":WARN\"),this._error=n.default(s+\":ERROR\")),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},\"7jRU\":function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},\"7kHm\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"nAs4\"),o=r(\"8xwj\"),a=r(\"/rqz\"),c=r(\"YwPy\"),l=r(\"sSRp\"),d=r(\"1z2d\"),u=r(\"Gffd\"),h=new s.Logger(\"ReactNative\"),p={OS:1024,MIS:1024};class f extends d.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"ReactNative\"}close(){if(h.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const s=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return h.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){h.debug(\"run()\"),this._direction=e,this._remoteSdp=new u.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters(\"audio\",d),video:a.getSendingRtpParameters(\"video\",d)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters(\"audio\",d),video:a.getSendingRemoteRtpParameters(\"video\",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:o||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){h.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),h.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),s&&h.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let i,d=await this._pc.createOffer(),u=n.parse(d.sdp);const p=o.clone(this._sendingRtpParametersByKind[e.kind],{});p.codecs=a.reduceCodecs(p.codecs);const f=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=a.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:u}),\"video\"===e.kind&&t&&t.length>1&&(h.debug(\"send() | enabling simulcast\"),u=n.parse(d.sdp),i=u.media.find(e=>\"video\"===e.type),l.addLegacySimulcast({offerMediaObject:i,track:e,numStreams:t.length}),d={type:\"offer\",sdp:n.write(u)}),h.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",d),await this._pc.setLocalDescription(d),u=n.parse(this._pc.localDescription.sdp),i=u.media.find(t=>t.type===e.kind),p.rtcp.cname=c.getCname({offerMediaObject:i}),p.encodings=l.getRtpEncodings({offerMediaObject:i,track:e}),t)for(let n=0;n<p.encodings.length;++n)t[n]&&Object.assign(p.encodings[n],t[n]);if(p.encodings.length>1&&(\"video/vp8\"===p.codecs[0].mimeType.toLowerCase()||\"video/h264\"===p.codecs[0].mimeType.toLowerCase()))for(const n of p.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:i,offerRtpParameters:p,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,e),{localId:g,rtpParameters:p}}async stopSending(e){this._assertSendDirection(),h.debug(\"stopSending() [localId:%s]\",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error(\"track not found\");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();h.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(s){if(0===this._sendStream.getTracks().length)return void h.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",s.toString());throw s}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){throw new i.UnsupportedError(\"not implemented\")}async setMaxSpatialLayer(e,t){throw new i.UnsupportedError(\"not implemented\")}async setRtpEncodingParameters(e,t){throw new i.UnsupportedError(\"not implemented\")}async getSenderStats(e){throw new i.UnsupportedError(\"not implemented\")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:i,priority:o};h.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),h.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),h.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=e,i=t;let a=r.rtcp.cname;h.debug(\"receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc\"),a+=\"-hack-\"+o.generateRandomNumber(),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a,trackId:e});const l={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",l),await this._pc.setRemoteDescription(l);let d=await this._pc.createAnswer();const u=n.parse(d.sdp),p=u.media.find(e=>String(e.mid)===i);c.applyCodecParameters({offerRtpParameters:r,answerMediaObject:p}),d={type:\"answer\",sdp:n.write(u)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:u}),h.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",d),await this._pc.setLocalDescription(d);const f=this._pc.getRemoteStreams().find(e=>e.id===a).getTrackById(s);if(!f)throw new Error(\"remote track not found\");return this._mapRecvLocalIdInfo.set(s,{mid:i,rtpParameters:r}),{localId:s,track:f}}async stopReceiving(e){this._assertRecvDirection(),h.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const s=await this._pc.createAnswer();h.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s)}async getReceiverStats(e){throw new i.UnsupportedError(\"not implemented\")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};h.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=c.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.ReactNative=f},\"7m5y\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),s=r(\"nAs4\"),i=r(\"8xwj\"),o=r(\"/rqz\"),a=r(\"GhxY\"),c=r(\"1z2d\"),l=new n.Logger(\"Edge11\");class d extends c.HandlerInterface{constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}static createFactory(){return()=>new d}get name(){return\"Edge11\"}close(){l.debug(\"close()\");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const t of this._rtpSenders.values())try{t.stop()}catch(e){}for(const t of this._rtpReceivers.values())try{t.stop()}catch(e){}}async getNativeRtpCapabilities(){return l.debug(\"getNativeRtpCapabilities()\"),a.getCapabilities()}async getNativeSctpCapabilities(){return l.debug(\"getNativeSctpCapabilities()\"),{numStreams:{OS:0,MIS:0}}}run({iceParameters:e,iceCandidates:t,dtlsParameters:r,iceServers:n,iceTransportPolicy:s,extendedRtpCapabilities:a}){l.debug(\"run()\"),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters(\"audio\",a),video:o.getSendingRtpParameters(\"video\",a)},this._remoteIceParameters=e,this._remoteIceCandidates=t,this._remoteDtlsParameters=r,this._cname=\"CNAME-\"+i.generateRandomNumber(),this._setIceGatherer({iceServers:n,iceTransportPolicy:s}),this._setIceTransport(),this._setDtlsTransport()}async updateIceServers(e){throw new s.UnsupportedError(\"not supported\")}async restartIce(e){if(l.debug(\"restartIce()\"),this._remoteIceParameters=e,this._transportReady){l.debug(\"restartIce() | calling iceTransport.start()\"),this._iceTransport.start(this._iceGatherer,e,\"controlling\");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:e,encodings:t,codec:r}){l.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),this._transportReady||await this._setupTransport({localDtlsRole:\"server\"}),l.debug(\"send() | calling new RTCRtpSender()\");const n=new RTCRtpSender(e,this._dtlsTransport),s=i.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=o.reduceCodecs(s.codecs,r);const c=s.codecs.some(e=>/.+\\/rtx$/i.test(e.mimeType));t||(t=[{}]);for(const o of t)o.ssrc=i.generateRandomNumber(),c&&(o.rtx={ssrc:i.generateRandomNumber()});s.encodings=t,s.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const d=a.mangleRtpParameters(s);l.debug(\"send() | calling rtpSender.send() [params:%o]\",d),await n.send(d);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(u,n),{localId:u,rtpParameters:s,rtpSender:n}}async stopSending(e){l.debug(\"stopSending() [localId:%s]\",e);const t=this._rtpSenders.get(e);if(!t)throw new Error(\"RTCRtpSender not found\");this._rtpSenders.delete(e);try{l.debug(\"stopSending() | calling rtpSender.stop()\"),t.stop()}catch(r){throw l.warn(\"stopSending() | rtpSender.stop() failed:%o\",r),r}}async replaceTrack(e,t){t?l.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):l.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._rtpSenders.get(e);if(!r)throw new Error(\"RTCRtpSender not found\");r.setTrack(t)}async setMaxSpatialLayer(e,t){l.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error(\"RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.setParameters(n)}async setRtpEncodingParameters(e,t){l.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error(\"RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.setParameters(n)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error(\"RTCRtpSender not found\");return t.getStats()}async sendDataChannel(e){throw new s.UnsupportedError(\"not implemented\")}async receive({trackId:e,kind:t,rtpParameters:r}){l.debug(\"receive() [trackId:%s, kind:%s]\",e,t),this._transportReady||await this._setupTransport({localDtlsRole:\"server\"}),l.debug(\"receive() | calling new RTCRtpReceiver()\");const n=new RTCRtpReceiver(this._dtlsTransport,t);n.addEventListener(\"error\",e=>{l.error('rtpReceiver \"error\" event [event:%o]',e)});const s=a.mangleRtpParameters(r);l.debug(\"receive() | calling rtpReceiver.receive() [params:%o]\",s),await n.receive(s);const i=e;return this._rtpReceivers.set(i,n),{localId:i,track:n.track,rtpReceiver:n}}async stopReceiving(e){l.debug(\"stopReceiving() [localId:%s]\",e);const t=this._rtpReceivers.get(e);if(!t)throw new Error(\"RTCRtpReceiver not found\");this._rtpReceivers.delete(e);try{l.debug(\"stopReceiving() | calling rtpReceiver.stop()\"),t.stop()}catch(r){l.warn(\"stopReceiving() | rtpReceiver.stop() failed:%o\",r)}}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error(\"RTCRtpReceiver not found\");return t.getStats()}async receiveDataChannel(e){throw new s.UnsupportedError(\"not implemented\")}_setIceGatherer({iceServers:e,iceTransportPolicy:t}){const r=new RTCIceGatherer({iceServers:e||[],gatherPolicy:t||\"all\"});r.addEventListener(\"error\",e=>{l.error('iceGatherer \"error\" event [event:%o]',e)});try{r.gather()}catch(n){l.debug(\"_setIceGatherer() | iceGatherer.gather() failed: %s\",n.toString())}this._iceGatherer=r}_setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener(\"statechange\",()=>{switch(e.state){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}}),e.addEventListener(\"icestatechange\",()=>{switch(e.state){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}}),e.addEventListener(\"candidatepairchange\",e=>{l.debug('iceTransport \"candidatepairchange\" event [pair:%o]',e.pair)}),this._iceTransport=e}_setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener(\"statechange\",()=>{l.debug('dtlsTransport \"statechange\" event [state:%s]',e.state)}),e.addEventListener(\"dtlsstatechange\",()=>{l.debug('dtlsTransport \"dtlsstatechange\" event [state:%s]',e.state),\"closed\"===e.state&&this.emit(\"@connectionstatechange\",\"closed\")}),e.addEventListener(\"error\",e=>{l.error('dtlsTransport \"error\" event [event:%o]',e)}),this._dtlsTransport=e}async _setupTransport({localDtlsRole:e}){l.debug(\"_setupTransport()\");const t=this._dtlsTransport.getLocalParameters();t.role=e,await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:t}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,\"controlling\");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(e=>\"sha-256\"===e.algorithm||\"sha-384\"===e.algorithm||\"sha-512\"===e.algorithm),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=d},\"8Lyy\":function(e,t,r){var n=r(\"O6qx\"),s=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(s,(function(e){if(t>=n)return e;var s=r[t];switch(t+=1,e){case\"%%\":return\"%\";case\"%s\":return String(s);case\"%d\":return Number(s);case\"%v\":return\"\"}}))},o=function(e,t,r){var n=[e+\"=\"+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var s=0;s<t.names.length;s+=1)n.push(t.name?r[t.name][t.names[s]]:r[t.names[s]]);else n.push(r[t.name]);return i.apply(null,n)},a=[\"v\",\"o\",\"s\",\"i\",\"u\",\"e\",\"p\",\"c\",\"b\",\"t\",\"r\",\"z\",\"a\"],c=[\"i\",\"c\",\"b\",\"a\"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=\" \"),e.media.forEach((function(e){null==e.payloads&&(e.payloads=\"\")}));var r=t.innerOrder||c,s=[];return(t.outerOrder||a).forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?s.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){s.push(o(t,r,e))}))}))})),e.media.forEach((function(e){s.push(o(\"m\",n.m[0],e)),r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?s.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){s.push(o(t,r,e))}))}))}))})),s.join(\"\\r\\n\")+\"\\r\\n\"}},\"8xwj\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.clone=function(e,t){return void 0===e?t:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},\"AZE+\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),s=r(\"GygU\"),i=r(\"nAs4\"),o=new n.Logger(\"Producer\");t.Producer=class extends s.EnhancedEventEmitter{constructor({id:e,localId:t,rtpSender:r,track:n,rtpParameters:i,stopTracks:a,disableTrackOnPause:c,zeroRtpOnPause:l,appData:d}){super(),this._closed=!1,this._observer=new s.EnhancedEventEmitter,o.debug(\"constructor()\"),this._id=e,this._localId=t,this._rtpSender=r,this._track=n,this._kind=n.kind,this._rtpParameters=i,this._paused=!!c&&!n.enabled,this._maxSpatialLayer=void 0,this._stopTracks=a,this._disableTrackOnPause=c,this._zeroRtpOnPause=l,this._appData=d,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(o.debug(\"close()\"),this._closed=!0,this._destroyTrack(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(o.debug(\"transportClosed()\"),this._closed=!0,this._destroyTrack(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}async getStats(){if(this._closed)throw new i.InvalidStateError(\"closed\");return this.safeEmitAsPromise(\"@getstats\")}pause(){o.debug(\"pause()\"),this._closed?o.error(\"pause() | Producer closed\"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise(\"@replacetrack\",null).catch(()=>{}),this._observer.safeEmit(\"pause\"))}resume(){o.debug(\"resume()\"),this._closed?o.error(\"resume() | Producer closed\"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise(\"@replacetrack\",this._track).catch(()=>{}),this._observer.safeEmit(\"resume\"))}async replaceTrack({track:e}){if(o.debug(\"replaceTrack() [track:%o]\",e),this._closed){if(e&&this._stopTracks)try{e.stop()}catch(t){}throw new i.InvalidStateError(\"closed\")}if(e&&\"ended\"===e.readyState)throw new i.InvalidStateError(\"track ended\");e!==this._track?(this._zeroRtpOnPause&&this._paused||await this.safeEmitAsPromise(\"@replacetrack\",e),this._destroyTrack(),this._track=e,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack()):o.debug(\"replaceTrack() | same track, ignored\")}async setMaxSpatialLayer(e){if(this._closed)throw new i.InvalidStateError(\"closed\");if(\"video\"!==this._kind)throw new i.UnsupportedError(\"not a video Producer\");if(\"number\"!=typeof e)throw new TypeError(\"invalid spatialLayer\");e!==this._maxSpatialLayer&&(await this.safeEmitAsPromise(\"@setmaxspatiallayer\",e),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new i.InvalidStateError(\"closed\");if(\"object\"!=typeof e)throw new TypeError(\"invalid params\");await this.safeEmitAsPromise(\"@setrtpencodingparameters\",e)}_onTrackEnded(){o.debug('track \"ended\" event'),this.safeEmit(\"trackended\"),this._observer.safeEmit(\"trackended\")}_handleTrack(){this._track&&this._track.addEventListener(\"ended\",this._onTrackEnded)}_destroyTrack(){if(this._track)try{this._track.removeEventListener(\"ended\",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}},Aplp:function(e,t,r){\"use strict\";var n,s=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),i={},o=0,a=0;function c(e){var t=\"\";do{t=s[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function l(){var e=c(+new Date);return e!==n?(o=0,n=e):e+\".\"+c(o++)}for(;a<64;a++)i[s[a]]=a;l.encode=c,l.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+i[e.charAt(a)];return t},e.exports=l},Ay4W:function(e,t,r){\"use strict\";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,\"__esModule\",{value:!0}),n(r(\"Nj9v\")),n(r(\"UloB\")),n(r(\"AZE+\")),n(r(\"sZ75\")),n(r(\"Uli8\")),n(r(\"hUSI\")),n(r(\"1z2d\")),n(r(\"nAs4\"))},BbHu:function(e,t,r){e.exports=function(e){function t(e){let r,s=null;function i(...e){if(!i.enabled)return;const n=i,s=Number(new Date);n.diff=s-(r||s),n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,s)=>{if(\"%%\"===r)return\"%\";o++;const i=t.formatters[s];return\"function\"==typeof i&&(r=i.call(n,e[o]),e.splice(o,1),o--),r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null===s?t.enabled(e):s,set:e=>{s=e}}),\"function\"==typeof t.init&&t.init(i),i}function n(e,r){const n=t(this.namespace+(void 0===r?\":\":r)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map(e=>\"-\"+e)].join(\",\");return t.enable(\"\"),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(\"jWG7\"),t.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},Bn1Y:function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(r){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(\"Odm+\")).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+e[0]+(r?\"%c \":\" \")+\"+\"+t.humanize(this.diff),r){var n=\"color: \"+this.color;e.splice(1,0,n,\"color: inherit\");var s=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){\"%%\"!==e&&(s++,\"%c\"===e&&(i=s))})),e.splice(i,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem(\"debug\"):t.storage.debug=e}catch(r){}},t.load=n,t.useColors=function(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))},t.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}},t.enable(n())},C2QD:function(e,t){function r(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},EL67:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"8xwj\"),o=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"sSRp\"),l=r(\"1z2d\"),d=r(\"Gffd\"),u=new s.Logger(\"Chrome67\"),h={OS:1024,MIS:1024};class p extends l.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new p}get name(){return\"Chrome67\"}close(){if(u.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const s=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:h}){u.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters(\"audio\",h),video:o.getSendingRtpParameters(\"video\",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters(\"audio\",h),video:o.getSendingRemoteRtpParameters(\"video\",h)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){u.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),u.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),s&&u.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let l,d=await this._pc.createOffer(),h=n.parse(d.sdp);const p=i.clone(this._sendingRtpParametersByKind[e.kind],{});p.codecs=o.reduceCodecs(p.codecs);const f=i.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=o.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:h}),\"video\"===e.kind&&t&&t.length>1&&(u.debug(\"send() | enabling simulcast\"),h=n.parse(d.sdp),l=h.media.find(e=>\"video\"===e.type),c.addLegacySimulcast({offerMediaObject:l,track:e,numStreams:t.length}),d={type:\"offer\",sdp:n.write(h)}),u.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",d),await this._pc.setLocalDescription(d),h=n.parse(this._pc.localDescription.sdp),l=h.media.find(t=>t.type===e.kind),p.rtcp.cname=a.getCname({offerMediaObject:l}),p.encodings=c.getRtpEncodings({offerMediaObject:l,track:e}),t)for(let n=0;n<p.encodings.length;++n)t[n]&&Object.assign(p.encodings[n],t[n]);if(p.encodings.length>1&&\"video/vp8\"===p.codecs[0].mimeType.toLowerCase())for(const n of p.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:l,offerRtpParameters:p,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find(t=>t.track===e);return this._mapSendLocalIdRtpSender.set(g,y),{localId:g,rtpParameters:p,rtpSender:y}}async stopSending(e){this._assertSendDirection(),u.debug(\"stopSending() [localId:%s]\",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();u.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(s){if(0===this._sendStream.getTracks().length)return void u.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",s.toString());throw s}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?u.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):u.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),u.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),u.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:i,priority:o};u.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),u.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),u.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=e,i=t;this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const o={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",o),await this._pc.setRemoteDescription(o);let c=await this._pc.createAnswer();const l=n.parse(c.sdp),d=l.media.find(e=>String(e.mid)===i);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:d}),c={type:\"answer\",sdp:n.write(l)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:l}),u.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",c),await this._pc.setLocalDescription(c);const h=this._pc.getReceivers().find(e=>e.track&&e.track.id===s);if(!h)throw new Error(\"new RTCRtpReceiver not\");return this._mapRecvLocalIdInfo.set(s,{mid:i,rtpParameters:r,rtpReceiver:h}),{localId:s,track:h.track,rtpReceiver:h}}async stopReceiving(e){this._assertRecvDirection(),u.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const s=await this._pc.createAnswer();u.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error(\"associated RTCRtpReceiver not found\");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};u.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}u.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome67=p},FGiv:function(e,t){var r=1e3,n=6e4,s=60*n,i=24*s;function o(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+\" \"+r:Math.ceil(e/t)+\" \"+r+\"s\"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if(\"string\"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*o;case\"days\":case\"day\":case\"d\":return o*i;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return o*s;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return o*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return o*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return o;default:return}}}}(e);if(\"number\"===c&&!1===isNaN(e))return t.long?o(a=e,i,\"day\")||o(a,s,\"hour\")||o(a,n,\"minute\")||o(a,r,\"second\")||a+\" ms\":function(e){return e>=i?Math.round(e/i)+\"d\":e>=s?Math.round(e/s)+\"h\":e>=n?Math.round(e/n)+\"m\":e>=r?Math.round(e/r)+\"s\":e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},Gffd:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"R7wK\"),o=new s.Logger(\"RemoteSdp\");t.RemoteSdp=class{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,sctpParameters:n,plainRtpParameters:s,planB:i=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=e,this._iceCandidates=t,this._dtlsParameters=r,this._sctpParameters=n,this._plainRtpParameters=s,this._planB=i,this._sdpObject={version:0,origin:{address:\"0.0.0.0\",ipVer:4,netType:\"IN\",sessionId:1e4,sessionVersion:0,username:\"mediasoup-client\"},name:\"-\",timing:{start:0,stop:0},media:[]},e&&e.iceLite&&(this._sdpObject.icelite=\"ice-lite\"),r){this._sdpObject.msidSemantic={semantic:\"WMS\",token:\"*\"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:r.fingerprints[e-1].algorithm,hash:r.fingerprints[e-1].value},this._sdpObject.groups=[{type:\"BUNDLE\",mids:\"\"}]}s&&(this._sdpObject.origin.address=s.ip,this._sdpObject.origin.ipVer=s.ipVersion)}updateIceParameters(e){o.debug(\"updateIceParameters() [iceParameters:%o]\",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?\"ice-lite\":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){o.debug(\"updateDtlsRole() [role:%s]\",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:e,reuseMid:t,offerRtpParameters:r,answerRtpParameters:n,codecOptions:s,extmapAllowMixed:o=!1}){const a=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:e,offerRtpParameters:r,answerRtpParameters:n,codecOptions:s,extmapAllowMixed:o});t?this._replaceMediaSection(a,t):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:e,kind:t,offerRtpParameters:r,streamId:n,trackId:s}){const o=this._midToIndex.get(e);let a;if(void 0!==o&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:r,streamId:n,trackId:s}),this._replaceMediaSection(a);else{a=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:e,kind:t,offerRtpParameters:r,streamId:n,trackId:s});const o=this._mediaSections.find(e=>e.closed);o?this._replaceMediaSection(a,o.mid):this._addMediaSection(a)}}disableMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);this._mediaSections[t].disable()}closeMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);const r=this._mediaSections[t];if(e===this._firstMid)return o.debug(\"closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]\",e),void this.disableMediaSection(e);r.close(),this._regenerateBundleMids()}planBStopReceiving({mid:e,offerRtpParameters:t}){const r=this._midToIndex.get(e);if(void 0===r)throw new Error(`no media section found with mid '${e}'`);const n=this._mediaSections[r];n.planBStopReceiving({offerRtpParameters:t}),this._replaceMediaSection(n)}sendSctpAssociation({offerMediaObject:e}){const t=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:e});this._addMediaSection(t)}receiveSctpAssociation({oldDataChannelSpec:e=!1}={}){const t=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:\"datachannel\",kind:\"application\",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if(\"string\"==typeof t){const r=this._midToIndex.get(t);if(void 0===r)throw new Error(`no media section found for reuseMid '${t}'`);const n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(e=>!e.closed).map(e=>e.mid).join(\" \"))}}},GhxY:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"8xwj\");t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=n.clone(e,{});for(const r of t.codecs){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType||`${r.kind}/${r.name}`,r.parameters){const e=r.parameters;e.apt&&(e.apt=Number(e.apt)),e[\"packetization-mode\"]&&(e[\"packetization-mode\"]=Number(e[\"packetization-mode\"]))}for(const e of r.rtcpFeedback||[])e.parameter||(e.parameter=\"\")}return t},t.mangleRtpParameters=function(e){const t=n.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split(\"/\")[1]),delete r.mimeType;return t}},GygU:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"+qE3\"),s=new(r(\"7h/2\").Logger)(\"EnhancedEventEmitter\");t.EnhancedEventEmitter=class extends n.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}safeEmit(e,...t){const r=this.listenerCount(e);try{return this.emit(e,...t)}catch(n){return s.error(\"safeEmit() | event listener threw an error [event:%s]:%o\",e,n),Boolean(r)}}async safeEmitAsPromise(e,...t){return new Promise((r,n)=>{try{this.emit(e,...t,r,n)}catch(i){s.error(\"safeEmitAsPromise() | event listener threw an error [event:%s]:%o\",e,i),n(i)}})}}},\"K/+X\":function(e,t,r){var n=r(\"fg2H\"),s=r(\"3exg\"),i=r(\"cpc2\"),o=r(\"Yvos\"),a=r(\"Bn1Y\")(\"engine.io-client:polling-xhr\"),c=r(\"y508\");function l(){}function d(e){if(s.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,\"undefined\"!=typeof location){var t=\"https:\"===location.protocol,r=location.port;r||(r=t?443:80),this.xd=\"undefined\"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||\"GET\",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function h(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}e.exports=d,e.exports.Request=u,o(d,s),d.prototype.supportsBinary=!0,d.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},d.prototype.doWrite=function(e,t){var r=this.request({method:\"POST\",data:e,isBinary:\"string\"!=typeof e&&void 0!==e}),n=this;r.on(\"success\",t),r.on(\"error\",(function(e){n.onError(\"xhr post error\",e)})),this.sendXhr=r},d.prototype.doPoll=function(){a(\"xhr poll\");var e=this.request(),t=this;e.on(\"data\",(function(e){t.onData(e)})),e.on(\"error\",(function(e){t.onError(\"xhr poll error\",e)})),this.pollXhr=e},i(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{a(\"xhr open %s: %s\",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var s in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.extraHeaders[s])}catch(i){}if(\"POST\"===this.method)try{t.setRequestHeader(\"Content-type\",this.isBinary?\"application/octet-stream\":\"text/plain;charset=UTF-8\")}catch(i){}try{t.setRequestHeader(\"Accept\",\"*/*\")}catch(i){}\"withCredentials\"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader(\"Content-Type\");(r.supportsBinary&&\"application/octet-stream\"===e||\"application/octet-stream; charset=UTF-8\"===e)&&(t.responseType=\"arraybuffer\")}catch(i){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError(\"number\"==typeof t.status?t.status:0)}),0))},a(\"xhr data %s\",this.data),t.send(this.data)}catch(i){return void setTimeout((function(){r.onError(i)}),0)}\"undefined\"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},u.prototype.onData=function(e){this.emit(\"data\",e),this.onSuccess()},u.prototype.onError=function(e){this.emit(\"error\",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}\"undefined\"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader(\"Content-Type\")}catch(r){}e=(\"application/octet-stream\"===t||\"application/octet-stream; charset=UTF-8\"===t)&&this.xhr.response||this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return\"undefined\"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},\"undefined\"!=typeof document&&(\"function\"==typeof attachEvent?attachEvent(\"onunload\",h):\"function\"==typeof addEventListener&&addEventListener(\"onpagehide\"in c?\"pagehide\":\"unload\",h,!1))},M39V:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(n,s,(function(t){return e[t]}).bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),s=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var s=e.getVersionPrecision(t),i=e.getVersionPrecision(r),o=Math.max(s,i),a=0,c=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var s=e[r];if(t(s,r))return s}},e.assign=function(e){for(var t,r,n=e,s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=s,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,s=(n=r(91))&&n.__esModule?n:{default:n},i=r(18),o=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new s.default(e,t)},e.parse=function(e){return new s.default(e).getResult()},(t=[{key:\"BROWSER_MAP\",get:function(){return i.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return i.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return i.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return i.PLATFORMS_MAP}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e,t),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=c(r(92)),s=c(r(93)),i=c(r(94)),o=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(o.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,s={},i=0;if(Object.keys(e).forEach((function(t){var o=e[t];\"string\"==typeof o?(s[t]=o,i+=1):\"object\"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),c=a.default.find(o,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(r[c]);if(void 0!==l)return l}var d=a.default.find(o,(function(e){return t.isPlatform(e)}));if(d){var u=this.satisfies(r[d]);if(void 0!==u)return u}}if(i>0){var h=Object.keys(s),p=a.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(s[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),s=a.default.getBrowserTypeByAlias(n);return t&&s&&(n=s.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,s=this.getBrowserVersion();if(\"string\"==typeof s)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],t.push(\">\"===e[0]?1:-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(s,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=/version\\/(\\d+(\\.?_?\\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=s.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=s.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=s.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=s.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=s.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=s.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=s.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=s.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=s.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=s.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=s.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=s.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=s.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=s.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=s.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=s.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=s.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=s.default.getFirstMatch(i,e)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=s.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=s.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=s.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=s.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=s.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=s.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=s.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=s.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=s.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:s.default.getFirstMatch(t,e),version:s.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/Roku\\/DVP/],describe:function(e){var t=s.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=s.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=s.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=s.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=s.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=s.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=s.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=s.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=s.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=s.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=s.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=s.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||s.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||s.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=s.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=s.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=s.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=r(18);t.default=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=s.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:i.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=s.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}],e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=s.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=s.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=s.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=s.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=s.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=o,e.exports=t.default}})},Nj9v:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"M39V\"),s=r(\"7h/2\"),i=r(\"GygU\"),o=r(\"nAs4\"),a=r(\"8xwj\"),c=r(\"/rqz\"),l=r(\"UloB\"),d=r(\"0NQQ\"),u=r(\"UThS\"),h=r(\"EL67\"),p=r(\"4NJD\"),f=r(\"2Fkq\"),m=r(\"jZQw\"),g=r(\"/pdn\"),y=r(\"7m5y\"),v=r(\"7kHm\"),w=new s.Logger(\"Device\");function b(){if(\"object\"==typeof navigator&&\"ReactNative\"===navigator.product)return\"undefined\"==typeof RTCPeerConnection?void w.warn(\"this._detectDevice() | unsupported ReactNative without RTCPeerConnection\"):(w.debug(\"this._detectDevice() | ReactNative handler chosen\"),\"ReactNative\");if(\"object\"!=typeof navigator||\"string\"!=typeof navigator.userAgent)w.warn(\"this._detectDevice() | unknown device\");else{const e=navigator.userAgent,t=n.getParser(e),r=t.getEngine();if(t.satisfies({chrome:\">=74\",chromium:\">=74\"}))return\"Chrome74\";if(t.satisfies({chrome:\">=70\",chromium:\">=70\"}))return\"Chrome70\";if(t.satisfies({chrome:\">=67\",chromium:\">=67\"}))return\"Chrome67\";if(t.satisfies({chrome:\">=55\",chromium:\">=55\"}))return\"Chrome55\";if(t.satisfies({firefox:\">=60\"}))return\"Firefox60\";if(t.satisfies({safari:\">=12.0\"})&&\"undefined\"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty(\"currentDirection\"))return\"Safari12\";if(t.satisfies({safari:\">=11\"}))return\"Safari11\";if(t.satisfies({\"microsoft edge\":\">=11\"})&&t.satisfies({\"microsoft edge\":\"<=18\"}))return\"Edge11\";if(r.name&&\"blink\"===r.name.toLowerCase()){const t=e.match(/(?:(?:Chrome|Chromium))[ /](\\w+)/i);if(t){const e=Number(t[1]);return e>=74?\"Chrome74\":e>=70?\"Chrome70\":e>=67?\"Chrome67\":\"Chrome55\"}return\"Chrome74\"}w.warn(\"this._detectDevice() | browser not supported [name:%s, version:%s]\",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=b,t.Device=class{constructor({handlerName:e,handlerFactory:t,Handler:r}={}){if(this._loaded=!1,this._observer=new i.EnhancedEventEmitter,w.debug(\"constructor()\"),r){if(w.warn(\"constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead\"),\"string\"!=typeof r)throw new TypeError(\"non string Handler option no longer supported, use handlerFactory instead\");e=r}if(e&&t)throw new TypeError(\"just one of handlerName or handlerInterface can be given\");if(t)this._handlerFactory=t;else{if(e)w.debug(\"constructor() | handler given: %s\",e);else{if(!(e=b()))throw new o.UnsupportedError(\"device not supported\");w.debug(\"constructor() | detected handler: %s\",e)}switch(e){case\"Chrome74\":this._handlerFactory=d.Chrome74.createFactory();break;case\"Chrome70\":this._handlerFactory=u.Chrome70.createFactory();break;case\"Chrome67\":this._handlerFactory=h.Chrome67.createFactory();break;case\"Chrome55\":this._handlerFactory=p.Chrome55.createFactory();break;case\"Firefox60\":this._handlerFactory=f.Firefox60.createFactory();break;case\"Safari12\":this._handlerFactory=m.Safari12.createFactory();break;case\"Safari11\":this._handlerFactory=g.Safari11.createFactory();break;case\"Edge11\":this._handlerFactory=y.Edge11.createFactory();break;case\"ReactNative\":this._handlerFactory=v.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName \"${e}\"`)}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new o.InvalidStateError(\"not loaded\");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new o.InvalidStateError(\"not loaded\");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:e}){let t;w.debug(\"load() [routerRtpCapabilities:%o]\",e),e=a.clone(e,void 0);try{if(this._loaded)throw new o.InvalidStateError(\"already loaded\");c.validateRtpCapabilities(e),t=this._handlerFactory();const r=await t.getNativeRtpCapabilities();w.debug(\"load() | got native RTP capabilities:%o\",r),c.validateRtpCapabilities(r),this._extendedRtpCapabilities=c.getExtendedRtpCapabilities(r,e),w.debug(\"load() | got extended RTP capabilities:%o\",this._extendedRtpCapabilities),this._canProduceByKind.audio=c.canSend(\"audio\",this._extendedRtpCapabilities),this._canProduceByKind.video=c.canSend(\"video\",this._extendedRtpCapabilities),this._recvRtpCapabilities=c.getRecvRtpCapabilities(this._extendedRtpCapabilities),c.validateRtpCapabilities(this._recvRtpCapabilities),w.debug(\"load() | got receiving RTP capabilities:%o\",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),w.debug(\"load() | got native SCTP capabilities:%o\",this._sctpCapabilities),c.validateSctpCapabilities(this._sctpCapabilities),w.debug(\"load() succeeded\"),this._loaded=!0,t.close()}catch(r){throw t&&t.close(),r}}canProduce(e){if(!this._loaded)throw new o.InvalidStateError(\"not loaded\");if(\"audio\"!==e&&\"video\"!==e)throw new TypeError(`invalid kind \"${e}\"`);return this._canProduceByKind[e]}createSendTransport({id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:a,proprietaryConstraints:c,appData:l={}}){return w.debug(\"createSendTransport()\"),this._createTransport({direction:\"send\",id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:a,proprietaryConstraints:c,appData:l})}createRecvTransport({id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:a,proprietaryConstraints:c,appData:l={}}){return w.debug(\"createRecvTransport()\"),this._createTransport({direction:\"recv\",id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:o,additionalSettings:a,proprietaryConstraints:c,appData:l})}_createTransport({direction:e,id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:a,iceTransportPolicy:c,additionalSettings:d,proprietaryConstraints:u,appData:h={}}){if(!this._loaded)throw new o.InvalidStateError(\"not loaded\");if(\"string\"!=typeof t)throw new TypeError(\"missing id\");if(\"object\"!=typeof r)throw new TypeError(\"missing iceParameters\");if(!Array.isArray(n))throw new TypeError(\"missing iceCandidates\");if(\"object\"!=typeof s)throw new TypeError(\"missing dtlsParameters\");if(i&&\"object\"!=typeof i)throw new TypeError(\"wrong sctpParameters\");if(h&&\"object\"!=typeof h)throw new TypeError(\"if given, appData must be an object\");const p=new l.Transport({direction:e,id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:a,iceTransportPolicy:c,additionalSettings:d,proprietaryConstraints:u,appData:h,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit(\"newtransport\",p),p}}},O6qx:function(e,t){var r=e.exports={v:[{name:\"version\",reg:/^(\\d*)$/}],o:[{name:\"origin\",reg:/^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,names:[\"username\",\"sessionId\",\"sessionVersion\",\"netType\",\"ipVer\",\"address\"],format:\"%s %s %d %s IP%d %s\"}],s:[{name:\"name\"}],i:[{name:\"description\"}],u:[{name:\"uri\"}],e:[{name:\"email\"}],p:[{name:\"phone\"}],z:[{name:\"timezones\"}],r:[{name:\"repeats\"}],t:[{name:\"timing\",reg:/^(\\d*) (\\d*)/,names:[\"start\",\"stop\"],format:\"%d %d\"}],c:[{name:\"connection\",reg:/^IN IP(\\d) (\\S*)/,names:[\"version\",\"ip\"],format:\"IN IP%d %s\"}],b:[{push:\"bandwidth\",reg:/^(TIAS|AS|CT|RR|RS):(\\d*)/,names:[\"type\",\"limit\"],format:\"%s:%s\"}],m:[{reg:/^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,names:[\"type\",\"port\",\"protocol\",\"payloads\"],format:\"%s %d %s %s\"}],a:[{push:\"rtp\",reg:/^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,names:[\"payload\",\"codec\",\"rate\",\"encoding\"],format:function(e){return e.encoding?\"rtpmap:%d %s/%s/%s\":e.rate?\"rtpmap:%d %s/%s\":\"rtpmap:%d %s\"}},{push:\"fmtp\",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:[\"payload\",\"config\"],format:\"fmtp:%d %s\"},{name:\"control\",reg:/^control:(.*)/,format:\"control:%s\"},{name:\"rtcp\",reg:/^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,names:[\"port\",\"netType\",\"ipVer\",\"address\"],format:function(e){return null!=e.address?\"rtcp:%d %s IP%d %s\":\"rtcp:%d\"}},{push:\"rtcpFbTrrInt\",reg:/^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,names:[\"payload\",\"value\"],format:\"rtcp-fb:%s trr-int %d\"},{push:\"rtcpFb\",reg:/^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,names:[\"payload\",\"type\",\"subtype\"],format:function(e){return null!=e.subtype?\"rtcp-fb:%s %s %s\":\"rtcp-fb:%s %s\"}},{push:\"ext\",reg:/^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,names:[\"value\",\"direction\",\"encrypt-uri\",\"uri\",\"config\"],format:function(e){return\"extmap:%d\"+(e.direction?\"/%s\":\"%v\")+(e[\"encrypt-uri\"]?\" %s\":\"%v\")+\" %s\"+(e.config?\" %s\":\"\")}},{name:\"extmapAllowMixed\",reg:/^(extmap-allow-mixed)/},{push:\"crypto\",reg:/^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,names:[\"id\",\"suite\",\"config\",\"sessionConfig\"],format:function(e){return null!=e.sessionConfig?\"crypto:%d %s %s %s\":\"crypto:%d %s %s\"}},{name:\"setup\",reg:/^setup:(\\w*)/,format:\"setup:%s\"},{name:\"connectionType\",reg:/^connection:(new|existing)/,format:\"connection:%s\"},{name:\"mid\",reg:/^mid:([^\\s]*)/,format:\"mid:%s\"},{name:\"msid\",reg:/^msid:(.*)/,format:\"msid:%s\"},{name:\"ptime\",reg:/^ptime:(\\d*(?:\\.\\d*)*)/,format:\"ptime:%d\"},{name:\"maxptime\",reg:/^maxptime:(\\d*(?:\\.\\d*)*)/,format:\"maxptime:%d\"},{name:\"direction\",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:\"icelite\",reg:/^(ice-lite)/},{name:\"iceUfrag\",reg:/^ice-ufrag:(\\S*)/,format:\"ice-ufrag:%s\"},{name:\"icePwd\",reg:/^ice-pwd:(\\S*)/,format:\"ice-pwd:%s\"},{name:\"fingerprint\",reg:/^fingerprint:(\\S*) (\\S*)/,names:[\"type\",\"hash\"],format:\"fingerprint:%s %s\"},{push:\"candidates\",reg:/^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,names:[\"foundation\",\"component\",\"transport\",\"priority\",\"ip\",\"port\",\"type\",\"raddr\",\"rport\",\"tcptype\",\"generation\",\"network-id\",\"network-cost\"],format:function(e){var t=\"candidate:%s %d %s %d %s %d typ %s\";return t+=null!=e.raddr?\" raddr %s rport %d\":\"%v%v\",t+=null!=e.tcptype?\" tcptype %s\":\"%v\",null!=e.generation&&(t+=\" generation %d\"),(t+=null!=e[\"network-id\"]?\" network-id %d\":\"%v\")+(null!=e[\"network-cost\"]?\" network-cost %d\":\"%v\")}},{name:\"endOfCandidates\",reg:/^(end-of-candidates)/},{name:\"remoteCandidates\",reg:/^remote-candidates:(.*)/,format:\"remote-candidates:%s\"},{name:\"iceOptions\",reg:/^ice-options:(\\S*)/,format:\"ice-options:%s\"},{push:\"ssrcs\",reg:/^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,names:[\"id\",\"attribute\",\"value\"],format:function(e){var t=\"ssrc:%d\";return null!=e.attribute&&(t+=\" %s\",null!=e.value&&(t+=\":%s\")),t}},{push:\"ssrcGroups\",reg:/^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,names:[\"semantics\",\"ssrcs\"],format:\"ssrc-group:%s %s\"},{name:\"msidSemantic\",reg:/^msid-semantic:\\s?(\\w*) (\\S*)/,names:[\"semantic\",\"token\"],format:\"msid-semantic: %s %s\"},{push:\"groups\",reg:/^group:(\\w*) (.*)/,names:[\"type\",\"mids\"],format:\"group:%s %s\"},{name:\"rtcpMux\",reg:/^(rtcp-mux)/},{name:\"rtcpRsize\",reg:/^(rtcp-rsize)/},{name:\"sctpmap\",reg:/^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,names:[\"sctpmapNumber\",\"app\",\"maxMessageSize\"],format:function(e){return null!=e.maxMessageSize?\"sctpmap:%s %s %s\":\"sctpmap:%s %s\"}},{name:\"xGoogleFlag\",reg:/^x-google-flag:([^\\s]*)/,format:\"x-google-flag:%s\"},{push:\"rids\",reg:/^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,names:[\"id\",\"direction\",\"params\"],format:function(e){return e.params?\"rid:%s %s %s\":\"rid:%s %s\"}},{push:\"imageattrs\",reg:new RegExp(\"^imageattr:(\\\\d+|\\\\*)[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?\"),names:[\"pt\",\"dir1\",\"attrs1\",\"dir2\",\"attrs2\"],format:function(e){return\"imageattr:%s %s %s\"+(e.dir2?\" %s %s\":\"\")}},{name:\"simulcast\",reg:new RegExp(\"^simulcast:(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?$\"),names:[\"dir1\",\"list1\",\"dir2\",\"list2\"],format:function(e){return\"simulcast:%s %s\"+(e.dir2?\" %s %s\":\"\")}},{name:\"simulcast_03\",reg:/^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,names:[\"value\"],format:\"simulcast: %s\"},{name:\"framerate\",reg:/^framerate:(\\d+(?:$|\\.\\d+))/,format:\"framerate:%s\"},{name:\"sourceFilter\",reg:/^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,names:[\"filterMode\",\"netType\",\"addressTypes\",\"destAddress\",\"srcList\"],format:\"source-filter: %s %s %s %s %s\"},{name:\"bundleOnly\",reg:/^(bundle-only)/},{name:\"label\",reg:/^label:(.+)/,format:\"label:%s\"},{name:\"sctpPort\",reg:/^sctp-port:(\\d+)$/,format:\"sctp-port:%s\"},{name:\"maxMessageSize\",reg:/^max-message-size:(\\d+)$/,format:\"max-message-size:%s\"},{push:\"tsRefClocks\",reg:/^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,names:[\"clksrc\",\"clksrcExt\"],format:function(e){return\"ts-refclk:%s\"+(null!=e.clksrcExt?\"=%s\":\"\")}},{name:\"mediaClk\",reg:/^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,names:[\"id\",\"mediaClockName\",\"mediaClockValue\",\"rateNumerator\",\"rateDenominator\"],format:function(e){var t=\"mediaclk:\";return t+=null!=e.id?\"id=%s %s\":\"%v%s\",t+=null!=e.mediaClockValue?\"=%s\":\"\",(t+=null!=e.rateNumerator?\" rate=%s\":\"\")+(null!=e.rateDenominator?\"/%s\":\"\")}},{name:\"keywords\",reg:/^keywds:(.+)$/,format:\"keywds:%s\"},{name:\"content\",reg:/^content:(.+)/,format:\"content:%s\"},{name:\"bfcpFloorCtrl\",reg:/^floorctrl:(c-only|s-only|c-s)/,format:\"floorctrl:%s\"},{name:\"bfcpConfId\",reg:/^confid:(\\d+)/,format:\"confid:%s\"},{name:\"bfcpUserId\",reg:/^userid:(\\d+)/,format:\"userid:%s\"},{name:\"bfcpFloorId\",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:[\"id\",\"mStream\"],format:\"floorid:%s mstrm:%s\"},{push:\"invalid\",names:[\"value\"]}]};Object.keys(r).forEach((function(e){r[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format=\"%s\")}))}))},OAgL:function(e,t,r){var n=r(\"lGCn\"),s=r(\"cpc2\"),i=r(\"kSER\"),o=r(\"Y4EA\"),a=r(\"QN7Q\"),c=r(\"Bn1Y\")(\"socket.io-client:socket\"),l=r(\"TypT\"),d=r(\"WLGk\");e.exports=p;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=s.prototype.emit;function p(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}s(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,\"open\",a(this,\"onopen\")),o(e,\"packet\",a(this,\"onpacket\")),o(e,\"close\",a(this,\"onclose\"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\")),this},p.prototype.send=function(){var e=i(arguments);return e.unshift(\"message\"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(u.hasOwnProperty(e))return h.apply(this,arguments),this;var t=i(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:d(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof t[t.length-1]&&(c(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c(\"transport is open - connecting\"),\"/\"!==this.nsp)if(this.query){var e=\"object\"==typeof this.query?l.encode(this.query):this.query;c(\"sending connect packet with query %s\",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(e){c(\"close (%s)\",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",e)},p.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===n.ERROR&&\"/\"===e.nsp)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit(\"error\",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c(\"emitting event %j\",t),null!=e.id&&(c(\"attaching ack callback to event\"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var s=i(arguments);c(\"sending ack %j\",s),t.packet({type:d(s)?n.BINARY_ACK:n.ACK,id:e,data:s})}}},p.prototype.onack=function(e){var t=this.acks[e.id];\"function\"==typeof t?(c(\"calling ack %s with %j\",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c(\"bad ack %s\",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c(\"performing disconnect (%s)\",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},\"Odm+\":function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,s=+new Date,i=s-(r||s);e.diff=i,e.prev=r,e.curr=s,r=s;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),\"string\"!=typeof o[0]&&o.unshift(\"%O\");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(r,n){if(\"%%\"===r)return r;c++;var s=t.formatters[n];return\"function\"==typeof s&&(r=s.call(e,o[c]),o.splice(c,1),c--),r})),t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=s,\"function\"==typeof t.init&&t.init(n),t.instances.push(n),n}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(r=0;r<t.instances.length;r++){var i=t.instances[r];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(\"FGiv\"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},QN7Q:function(e,t){var r=[].slice;e.exports=function(e,t){if(\"string\"==typeof t&&(t=e[t]),\"function\"!=typeof t)throw new Error(\"bind() requires a function\");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},Qsis:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},R7wK:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"8xwj\");class s{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,planB:n=!1}){if(this._mediaObject={},this._planB=n,e&&this.setIceParameters(e),t){this._mediaObject.candidates=[];for(const e of t){const t={component:1};t.foundation=e.foundation,t.ip=e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates=\"end-of-candidates\",this._mediaObject.iceOptions=\"renomination\"}r&&this.setDtlsRole(r.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}disable(){this._mediaObject.direction=\"inactive\",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}close(){this._mediaObject.direction=\"inactive\",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}}function i(e){const t=new RegExp(\"^(audio|video)/(.+)\",\"i\").exec(e.mimeType);if(!t)throw new TypeError(\"invalid codec.mimeType\");return t[2]}t.MediaSection=s,t.AnswerMediaSection=class extends s{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,sctpParameters:s,plainRtpParameters:o,planB:a=!1,offerMediaObject:c,offerRtpParameters:l,answerRtpParameters:d,codecOptions:u,extmapAllowMixed:h=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:r,planB:a}),this._mediaObject.mid=String(c.mid),this._mediaObject.type=c.type,this._mediaObject.protocol=c.protocol,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.port=o.port):(this._mediaObject.connection={ip:\"127.0.0.1\",version:4},this._mediaObject.port=7),c.type){case\"audio\":case\"video\":this._mediaObject.direction=\"recvonly\",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of d.codecs){const t={payload:e.payloadType,codec:i(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const r=n.clone(e.parameters,{});if(u){const{opusStereo:t,opusFec:n,opusDtx:s,opusMaxPlaybackRate:i,opusPtime:o,videoGoogleStartBitrate:a,videoGoogleMaxBitrate:c,videoGoogleMinBitrate:d}=u,h=l.codecs.find(t=>t.payloadType===e.payloadType);switch(e.mimeType.toLowerCase()){case\"audio/opus\":void 0!==t&&(h.parameters[\"sprop-stereo\"]=t?1:0,r.stereo=t?1:0),void 0!==n&&(h.parameters.useinbandfec=n?1:0,r.useinbandfec=n?1:0),void 0!==s&&(h.parameters.usedtx=s?1:0,r.usedtx=s?1:0),void 0!==i&&(r.maxplaybackrate=i),void 0!==o&&(h.parameters.ptime=o,r.ptime=o);break;case\"video/vp8\":case\"video/vp9\":case\"video/h264\":case\"video/h265\":void 0!==a&&(r[\"x-google-start-bitrate\"]=a),void 0!==c&&(r[\"x-google-max-bitrate\"]=c),void 0!==d&&(r[\"x-google-min-bitrate\"]=d)}}const s={payload:e.payloadType,config:\"\"};for(const e of Object.keys(r))s.config&&(s.config+=\";\"),s.config+=`${e}=${r[e]}`;s.config&&this._mediaObject.fmtp.push(s);for(const n of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:n.type,subtype:n.parameter})}this._mediaObject.payloads=d.codecs.map(e=>e.payloadType).join(\" \"),this._mediaObject.ext=[];for(const e of d.headerExtensions)(c.ext||[]).some(t=>t.uri===e.uri)&&this._mediaObject.ext.push({uri:e.uri,value:e.id});if(h&&\"extmap-allow-mixed\"===c.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed=\"extmap-allow-mixed\"),c.simulcast){this._mediaObject.simulcast={dir1:\"recv\",list1:c.simulcast.list1},this._mediaObject.rids=[];for(const e of c.rids||[])\"send\"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:\"recv\"})}else if(c.simulcast_03){this._mediaObject.simulcast_03={value:c.simulcast_03.value.replace(/send/g,\"recv\")},this._mediaObject.rids=[];for(const e of c.rids||[])\"send\"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:\"recv\"})}this._mediaObject.rtcpMux=\"rtcp-mux\",this._mediaObject.rtcpRsize=\"rtcp-rsize\",this._planB&&\"video\"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag=\"conference\");break;case\"application\":\"number\"==typeof c.sctpPort?(this._mediaObject.payloads=\"webrtc-datachannel\",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize):c.sctpmap&&(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:\"webrtc-datachannel\",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize})}}setDtlsRole(e){switch(e){case\"client\":this._mediaObject.setup=\"active\";break;case\"server\":this._mediaObject.setup=\"passive\";break;case\"auto\":this._mediaObject.setup=\"actpass\"}}},t.OfferMediaSection=class extends s{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,sctpParameters:n,plainRtpParameters:s,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:d,trackId:u,oldDataChannelSpec:h=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:r,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.protocol=\"RTP/AVP\",this._mediaObject.port=s.port):(this._mediaObject.connection={ip:\"127.0.0.1\",version:4},this._mediaObject.protocol=n?\"UDP/DTLS/SCTP\":\"UDP/TLS/RTP/SAVPF\",this._mediaObject.port=7),c){case\"audio\":case\"video\":{this._mediaObject.direction=\"sendonly\",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${d||\"-\"} ${u}`);for(const n of l.codecs){const e={payload:n.payloadType,codec:i(n),rate:n.clockRate};n.channels>1&&(e.encoding=n.channels),this._mediaObject.rtp.push(e);const t={payload:n.payloadType,config:\"\"};for(const r of Object.keys(n.parameters))t.config&&(t.config+=\";\"),t.config+=`${r}=${n.parameters[r]}`;t.config&&this._mediaObject.fmtp.push(t);for(const r of n.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:n.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads=l.codecs.map(e=>e.payloadType).join(\" \"),this._mediaObject.ext=[];for(const n of l.headerExtensions)this._mediaObject.ext.push({uri:n.uri,value:n.id});this._mediaObject.rtcpMux=\"rtcp-mux\",this._mediaObject.rtcpRsize=\"rtcp-rsize\";const e=l.encodings[0],t=e.ssrc,r=e.rtx&&e.rtx.ssrc?e.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:\"cname\",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:\"msid\",value:`${d||\"-\"} ${u}`}),r&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:r,attribute:\"cname\",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:r,attribute:\"msid\",value:`${d||\"-\"} ${u}`}),this._mediaObject.ssrcGroups.push({semantics:\"FID\",ssrcs:`${t} ${r}`}));break}case\"application\":h?(this._mediaObject.payloads=n.port,this._mediaObject.sctpmap={app:\"webrtc-datachannel\",sctpmapNumber:n.port,maxMessageSize:n.maxMessageSize}):(this._mediaObject.payloads=\"webrtc-datachannel\",this._mediaObject.sctpPort=n.port,this._mediaObject.maxMessageSize=n.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup=\"actpass\"}planBReceive({offerRtpParameters:e,streamId:t,trackId:r}){const n=e.encodings[0],s=n.ssrc,i=n.rtx&&n.rtx.ssrc?n.rtx.ssrc:void 0;e.rtcp.cname&&this._mediaObject.ssrcs.push({id:s,attribute:\"cname\",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:s,attribute:\"msid\",value:`${t||\"-\"} ${r}`}),i&&(e.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:\"cname\",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:\"msid\",value:`${t||\"-\"} ${r}`}),this._mediaObject.ssrcGroups.push({semantics:\"FID\",ssrcs:`${s} ${i}`}))}planBStopReceiving({offerRtpParameters:e}){const t=e.encodings[0],r=t.ssrc,n=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(e=>e.id!==r&&e.id!==n),n&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(e=>e.ssrcs!==`${r} ${n}`))}}},TypT:function(e,t){t.encode=function(e){var t=\"\";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+=\"&\"),t+=encodeURIComponent(r)+\"=\"+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split(\"&\"),n=0,s=r.length;n<s;n++){var i=r[n].split(\"=\");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},UThS:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"8xwj\"),o=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"iHzg\"),l=r(\"1z2d\"),d=r(\"Gffd\"),u=r(\"gEDQ\"),h=new s.Logger(\"Chrome70\"),p={OS:1024,MIS:1024};class f extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Chrome70\"}close(){if(h.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"});try{e.addTransceiver(\"audio\"),e.addTransceiver(\"video\");const r=await e.createOffer();try{e.close()}catch(t){}const s=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return h.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){h.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters(\"audio\",u),video:o.getSendingRtpParameters(\"video\",u)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters(\"audio\",u),video:o.getSendingRemoteRtpParameters(\"video\",u)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){h.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),h.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id);const l=i.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=o.reduceCodecs(l.codecs,s);const d=i.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});d.codecs=o.reduceCodecs(d.codecs,s);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream]});let m,g=await this._pc.createOffer(),y=n.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:y}),t&&t.length>1&&(h.debug(\"send() | enabling legacy simulcast\"),y=n.parse(g.sdp),m=y.media[p.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:t.length}),g={type:\"offer\",sdp:n.write(y)});let v=!1;const w=u.parse((t||[{}])[0].scalabilityMode);if(t&&1===t.length&&w.spatialLayers>1&&\"video/vp9\"===l.codecs[0].mimeType.toLowerCase()&&(h.debug(\"send() | enabling legacy simulcast for VP9 SVC\"),v=!0,y=n.parse(g.sdp),m=y.media[p.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:w.spatialLayers}),g={type:\"offer\",sdp:n.write(y)}),h.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",g),await this._pc.setLocalDescription(g),t){h.debug(\"send() | applying given encodings\");const e=f.sender.getParameters();for(let r=0;r<(e.encodings||[]).length;++r){const n=e.encodings[r],s=t[r];if(!s)break;e.encodings[r]=Object.assign(n,s)}await f.sender.setParameters(e)}const b=f.mid;if(l.mid=b,y=n.parse(this._pc.localDescription.sdp),m=y.media[p.idx],l.rtcp.cname=a.getCname({offerMediaObject:m}),l.encodings=c.getRtpEncodings({offerMediaObject:m}),t)for(let n=0;n<l.encodings.length;++n)t[n]&&Object.assign(l.encodings[n],t[n]);if(v&&(l.encodings=[l.encodings[0]]),l.encodings.length>1&&(\"video/vp8\"===l.codecs[0].mimeType.toLowerCase()||\"video/h264\"===l.codecs[0].mimeType.toLowerCase()))for(const n of l.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:m,reuseMid:p.reuseMid,offerRtpParameters:l,answerRtpParameters:d,codecOptions:r});const _={type:\"answer\",sdp:this._remoteSdp.getSdp()};return h.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",_),await this._pc.setRemoteDescription(_),this._mapMidTransceiver.set(b,f),{localId:b,rtpParameters:l,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),h.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const r=await this._pc.createOffer();h.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):h.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:i,priority:o};h.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),h.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};h.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),h.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const i={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const c=n.parse(o.sdp),l=c.media.find(e=>String(e.mid)===s);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:l}),o={type:\"answer\",sdp:n.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:c}),h.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",o),await this._pc.setLocalDescription(o);const d=this._pc.getTransceivers().find(e=>e.mid===s);if(!d)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(s,d),{localId:s,track:d.receiver.track,rtpReceiver:d.receiver}}async stopReceiving(e){this._assertRecvDirection(),h.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();h.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};h.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}h.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome70=f},Uli8:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),s=r(\"GygU\"),i=r(\"nAs4\"),o=new n.Logger(\"DataProducer\");t.DataProducer=class extends s.EnhancedEventEmitter{constructor({id:e,dataChannel:t,sctpStreamParameters:r,appData:n}){super(),this._closed=!1,this._observer=new s.EnhancedEventEmitter,o.debug(\"constructor()\"),this._id=e,this._dataChannel=t,this._sctpStreamParameters=r,this._appData=n,this._handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(o.debug(\"close()\"),this._closed=!0,this._dataChannel.close(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(o.debug(\"transportClosed()\"),this._closed=!0,this._dataChannel.close(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}send(e){if(o.debug(\"send()\"),this._closed)throw new i.InvalidStateError(\"closed\");this._dataChannel.send(e)}_handleDataChannel(){this._dataChannel.addEventListener(\"open\",()=>{this._closed||(o.debug('DataChannel \"open\" event'),this.safeEmit(\"open\"))}),this._dataChannel.addEventListener(\"error\",e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error(\"unknown DataChannel error\")),\"sctp-failure\"===t.errorDetail?o.error(\"DataChannel SCTP error [sctpCauseCode:%s]: %s\",t.sctpCauseCode,t.message):o.error('DataChannel \"error\" event: %o',t),this.safeEmit(\"error\",t)}),this._dataChannel.addEventListener(\"close\",()=>{this._closed||(o.warn('DataChannel \"close\" event'),this._closed=!0,this.emit(\"@close\"),this.safeEmit(\"close\"))}),this._dataChannel.addEventListener(\"message\",()=>{this._closed||o.warn('DataChannel \"message\" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener(\"bufferedamountlow\",()=>{this._closed||this.safeEmit(\"bufferedamountlow\")})}}},UloB:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"4Eqw\"),s=r(\"7h/2\"),i=r(\"GygU\"),o=r(\"nAs4\"),a=r(\"8xwj\"),c=r(\"/rqz\"),l=r(\"AZE+\"),d=r(\"sZ75\"),u=r(\"Uli8\"),h=r(\"hUSI\"),p=new s.Logger(\"Transport\");t.Transport=class extends i.EnhancedEventEmitter{constructor({direction:e,id:t,iceParameters:r,iceCandidates:s,dtlsParameters:c,sctpParameters:l,iceServers:d,iceTransportPolicy:u,additionalSettings:h,proprietaryConstraints:f,appData:m,handlerFactory:g,extendedRtpCapabilities:y,canProduceByKind:v}){super(),this._closed=!1,this._connectionState=\"new\",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new n.AwaitQueue({ClosedErrorClass:o.InvalidStateError}),this._observer=new i.EnhancedEventEmitter,p.debug(\"constructor() [id:%s, direction:%s]\",t,e),this._id=t,this._direction=e,this._extendedRtpCapabilities=y,this._canProduceByKind=v,this._maxSctpMessageSize=l?l.maxMessageSize:null,delete(h=a.clone(h,{})).iceServers,delete h.iceTransportPolicy,delete h.bundlePolicy,delete h.rtcpMuxPolicy,delete h.sdpSemantics,this._handler=g(),this._handler.run({direction:e,iceParameters:r,iceCandidates:s,dtlsParameters:c,sctpParameters:l,iceServers:d,iceTransportPolicy:u,additionalSettings:h,proprietaryConstraints:f,extendedRtpCapabilities:y}),this._appData=m,this._handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){if(!this._closed){p.debug(\"close()\"),this._closed=!0,this._awaitQueue.close(),this._handler.close();for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit(\"close\")}}async getStats(){if(this._closed)throw new o.InvalidStateError(\"closed\");return this._handler.getTransportStats()}async restartIce({iceParameters:e}){if(p.debug(\"restartIce()\"),this._closed)throw new o.InvalidStateError(\"closed\");if(!e)throw new TypeError(\"missing iceParameters\");return this._awaitQueue.push(async()=>this._handler.restartIce(e),\"transport.restartIce()\")}async updateIceServers({iceServers:e}={}){if(p.debug(\"updateIceServers()\"),this._closed)throw new o.InvalidStateError(\"closed\");if(!Array.isArray(e))throw new TypeError(\"missing iceServers\");return this._awaitQueue.push(async()=>this._handler.updateIceServers(e),\"transport.updateIceServers()\")}async produce({track:e,encodings:t,codecOptions:r,codec:n,stopTracks:s=!0,disableTrackOnPause:i=!0,zeroRtpOnPause:a=!1,appData:d={}}={}){if(p.debug(\"produce() [track:%o]\",e),!e)throw new TypeError(\"missing track\");if(\"send\"!==this._direction)throw new o.UnsupportedError(\"not a sending Transport\");if(!this._canProduceByKind[e.kind])throw new o.UnsupportedError(\"cannot produce \"+e.kind);if(\"ended\"===e.readyState)throw new o.InvalidStateError(\"track ended\");if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(0===this.listenerCount(\"produce\"))throw new TypeError('no \"produce\" listener set into this transport');if(d&&\"object\"!=typeof d)throw new TypeError(\"if given, appData must be an object\");return this._awaitQueue.push(async()=>{let o;if(t&&!Array.isArray(t))throw TypeError(\"encodings must be an array\");t&&0===t.length?o=void 0:t&&(o=t.map(e=>{const t={active:!0};return!1===e.active&&(t.active=!1),\"boolean\"==typeof e.dtx&&(t.dtx=e.dtx),\"string\"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),\"number\"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),\"number\"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),\"number\"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),\"boolean\"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),\"string\"==typeof e.priority&&(t.priority=e.priority),\"string\"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t}));const{localId:u,rtpParameters:h,rtpSender:p}=await this._handler.send({track:e,encodings:o,codecOptions:r,codec:n});try{c.validateRtpParameters(h);const{id:t}=await this.safeEmitAsPromise(\"produce\",{kind:e.kind,rtpParameters:h,appData:d}),r=new l.Producer({id:t,localId:u,rtpSender:p,track:e,rtpParameters:h,stopTracks:s,disableTrackOnPause:i,zeroRtpOnPause:a,appData:d});return this._producers.set(r.id,r),this._handleProducer(r),this._observer.safeEmit(\"newproducer\",r),r}catch(f){throw this._handler.stopSending(u).catch(()=>{}),f}},\"transport.produce()\").catch(t=>{if(s)try{e.stop()}catch(r){}throw t})}async consume({id:e,producerId:t,kind:r,rtpParameters:n,appData:s={}}){if(p.debug(\"consume()\"),n=a.clone(n,void 0),this._closed)throw new o.InvalidStateError(\"closed\");if(\"recv\"!==this._direction)throw new o.UnsupportedError(\"not a receiving Transport\");if(\"string\"!=typeof e)throw new TypeError(\"missing id\");if(\"string\"!=typeof t)throw new TypeError(\"missing producerId\");if(\"audio\"!==r&&\"video\"!==r)throw new TypeError(`invalid kind '${r}'`);if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(s&&\"object\"!=typeof s)throw new TypeError(\"if given, appData must be an object\");return this._awaitQueue.push(async()=>{if(!c.canReceive(n,this._extendedRtpCapabilities))throw new o.UnsupportedError(\"cannot consume this Producer\");const{localId:i,rtpReceiver:a,track:l}=await this._handler.receive({trackId:e,kind:r,rtpParameters:n}),u=new d.Consumer({id:e,localId:i,producerId:t,rtpReceiver:a,track:l,rtpParameters:n,appData:s});if(this._consumers.set(u.id,u),this._handleConsumer(u),!this._probatorConsumerCreated&&\"video\"===r)try{const e=c.generateProbatorRtpParameters(u.rtpParameters);await this._handler.receive({trackId:\"probator\",kind:\"video\",rtpParameters:e}),p.debug(\"consume() | Consumer for RTP probation created\"),this._probatorConsumerCreated=!0}catch(h){p.error(\"consume() | failed to create Consumer for RTP probation:%o\",h)}return this._observer.safeEmit(\"newconsumer\",u),u},\"transport.consume()\")}async produceData({ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:r,priority:n=\"low\",label:s=\"\",protocol:i=\"\",appData:a={}}={}){if(p.debug(\"produceData()\"),\"send\"!==this._direction)throw new o.UnsupportedError(\"not a sending Transport\");if(!this._maxSctpMessageSize)throw new o.UnsupportedError(\"SCTP not enabled by remote Transport\");if(![\"very-low\",\"low\",\"medium\",\"high\"].includes(n))throw new TypeError(\"wrong priority\");if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(0===this.listenerCount(\"producedata\"))throw new TypeError('no \"producedata\" listener set into this transport');if(a&&\"object\"!=typeof a)throw new TypeError(\"if given, appData must be an object\");return(t||r)&&(e=!1),this._awaitQueue.push(async()=>{const{dataChannel:o,sctpStreamParameters:l}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,priority:n,label:s,protocol:i});c.validateSctpStreamParameters(l);const{id:d}=await this.safeEmitAsPromise(\"producedata\",{sctpStreamParameters:l,label:s,protocol:i,appData:a}),h=new u.DataProducer({id:d,dataChannel:o,sctpStreamParameters:l,appData:a});return this._dataProducers.set(h.id,h),this._handleDataProducer(h),this._observer.safeEmit(\"newdataproducer\",h),h},\"transport.produceData()\")}async consumeData({id:e,dataProducerId:t,sctpStreamParameters:r,label:n=\"\",protocol:s=\"\",appData:i={}}){if(p.debug(\"consumeData()\"),r=a.clone(r,void 0),this._closed)throw new o.InvalidStateError(\"closed\");if(\"recv\"!==this._direction)throw new o.UnsupportedError(\"not a receiving Transport\");if(!this._maxSctpMessageSize)throw new o.UnsupportedError(\"SCTP not enabled by remote Transport\");if(\"string\"!=typeof e)throw new TypeError(\"missing id\");if(\"string\"!=typeof t)throw new TypeError(\"missing dataProducerId\");if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(i&&\"object\"!=typeof i)throw new TypeError(\"if given, appData must be an object\");return c.validateSctpStreamParameters(r),this._awaitQueue.push(async()=>{const{dataChannel:o}=await this._handler.receiveDataChannel({sctpStreamParameters:r,label:n,protocol:s}),a=new h.DataConsumer({id:e,dataProducerId:t,dataChannel:o,sctpStreamParameters:r,appData:i});return this._dataConsumers.set(a.id,a),this._handleDataConsumer(a),this._observer.safeEmit(\"newdataconsumer\",a),a},\"transport.consumeData()\")}_handleHandler(){const e=this._handler;e.on(\"@connect\",({dtlsParameters:e},t,r)=>{this._closed?r(new o.InvalidStateError(\"closed\")):this.safeEmit(\"connect\",{dtlsParameters:e},t,r)}),e.on(\"@connectionstatechange\",e=>{e!==this._connectionState&&(p.debug(\"connection state changed to %s\",e),this._connectionState=e,this._closed||this.safeEmit(\"connectionstatechange\",e))})}_handleProducer(e){e.on(\"@close\",()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push(async()=>this._handler.stopSending(e.localId),\"producer @close event\").catch(e=>p.warn(\"producer.close() failed:%o\",e))}),e.on(\"@replacetrack\",(t,r,n)=>{this._awaitQueue.push(async()=>this._handler.replaceTrack(e.localId,t),\"producer @replacetrack event\").then(r).catch(n)}),e.on(\"@setmaxspatiallayer\",(t,r,n)=>{this._awaitQueue.push(async()=>this._handler.setMaxSpatialLayer(e.localId,t),\"producer @setmaxspatiallayer event\").then(r).catch(n)}),e.on(\"@setrtpencodingparameters\",(t,r,n)=>{this._awaitQueue.push(async()=>this._handler.setRtpEncodingParameters(e.localId,t),\"producer @setrtpencodingparameters event\").then(r).catch(n)}),e.on(\"@getstats\",(t,r)=>{if(this._closed)return r(new o.InvalidStateError(\"closed\"));this._handler.getSenderStats(e.localId).then(t).catch(r)})}_handleConsumer(e){e.on(\"@close\",()=>{this._consumers.delete(e.id),this._closed||this._awaitQueue.push(async()=>this._handler.stopReceiving(e.localId),\"consumer @close event\").catch(()=>{})}),e.on(\"@getstats\",(t,r)=>{if(this._closed)return r(new o.InvalidStateError(\"closed\"));this._handler.getReceiverStats(e.localId).then(t).catch(r)})}_handleDataProducer(e){e.on(\"@close\",()=>{this._dataProducers.delete(e.id)})}_handleDataConsumer(e){e.on(\"@close\",()=>{this._dataConsumers.delete(e.id)})}}},Uxeu:function(e,t){var r=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,n=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];e.exports=function(e){var t,s,i=e,o=e.indexOf(\"[\"),a=e.indexOf(\"]\");-1!=o&&-1!=a&&(e=e.substring(0,o)+e.substring(o,a).replace(/:/g,\";\")+e.substring(a,e.length));for(var c,l=r.exec(e||\"\"),d={},u=14;u--;)d[n[u]]=l[u]||\"\";return-1!=o&&-1!=a&&(d.source=i,d.host=d.host.substring(1,d.host.length-1).replace(/;/g,\":\"),d.authority=d.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),d.ipv6uri=!0),d.pathNames=(s=(t=d.path).replace(/\\/{2,9}/g,\"/\").split(\"/\"),\"/\"!=t.substr(0,1)&&0!==t.length||s.splice(0,1),\"/\"==t.substr(t.length-1,1)&&s.splice(s.length-1,1),s),d.queryKey=(c={},d.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(c[t]=r)})),c),d}},VIe4:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;t.splice(1,0,r,\"color: inherit\");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&(n++,\"%c\"===e&&(s=n))}),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem(\"debug\",e):t.storage.removeItem(\"debug\")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem(\"debug\")}catch(r){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type&&!window.process.__nwjs)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.log=console.debug||console.log||(()=>{}),e.exports=r(\"BbHu\")(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}}},WLGk:function(e,t,r){var n=r(\"6C75\"),s=Object.prototype.toString,i=\"function\"==typeof Blob||\"undefined\"!=typeof Blob&&\"[object BlobConstructor]\"===s.call(Blob),o=\"function\"==typeof File||\"undefined\"!=typeof File&&\"[object FileConstructor]\"===s.call(File);e.exports=function e(t){if(!t||\"object\"!=typeof t)return!1;if(n(t)){for(var r=0,s=t.length;r<s;r++)if(e(t[r]))return!0;return!1}if(\"function\"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||\"function\"==typeof ArrayBuffer&&t instanceof ArrayBuffer||i&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&\"function\"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},Wm4p:function(e,t,r){var n,s=r(\"dkv/\"),i=r(\"WLGk\"),o=r(\"ypnn\"),a=r(\"zMFY\"),c=r(\"oIG/\");\"undefined\"!=typeof ArrayBuffer&&(n=r(\"g5Dd\"));var l=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),d=\"undefined\"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=l||d;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=s(h),f={type:\"error\",data:\"parser error\"},m=r(\"14A5\");function g(e,t,r){for(var n=new Array(e.length),s=a(e.length,r),i=function(e,r,s){t(r,(function(t,r){n[e]=r,s(t,n)}))},o=0;o<e.length;o++)i(o,e[o],s)}t.encodePacket=function(e,r,n,s){\"function\"==typeof r&&(s=r,r=!1),\"function\"==typeof n&&(s=n,n=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if(\"undefined\"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var s=e.data,i=new Uint8Array(s),o=new Uint8Array(1+s.byteLength);o[0]=h[e.type];for(var a=0;a<i.length;a++)o[a+1]=i[a];return n(o.buffer)}(e,r,s);if(void 0!==m&&i instanceof m)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(u)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var s=new FileReader;return s.onload=function(){t.encodePacket({type:e.type,data:s.result},r,!0,n)},s.readAsArrayBuffer(e.data)}(e,r,n);var s=new Uint8Array(1);return s[0]=h[e.type],n(new m([s.buffer,e.data]))}(e,r,s);if(i&&i.base64)return function(e,r){return r(\"b\"+t.packets[e.type]+e.data.data)}(e,s);var o=h[e.type];return void 0!==e.data&&(o+=n?c.encode(String(e.data),{strict:!1}):String(e.data)),s(\"\"+o)},t.encodeBase64Packet=function(e,r){var n,s=\"b\"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var i=new FileReader;return i.onload=function(){var e=i.result.split(\",\")[1];r(s+e)},i.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(l){for(var o=new Uint8Array(e.data),a=new Array(o.length),c=0;c<o.length;c++)a[c]=o[c];n=String.fromCharCode.apply(null,a)}return s+=btoa(n),r(s)},t.decodePacket=function(e,r,n){if(void 0===e)return f;if(\"string\"==typeof e){if(\"b\"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var s=e.charAt(0);return Number(s)==s&&p[s]?e.length>1?{type:p[s],data:e.substring(1)}:{type:p[s]}:f}s=new Uint8Array(e)[0];var i=o(e,1);return m&&\"blob\"===r&&(i=new m([i])),{type:p[s],data:i}},t.decodeBase64Packet=function(e,t){var r=p[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var s=n.decode(e.substr(1));return\"blob\"===t&&m&&(s=new m([s])),{type:r,data:s}},t.encodePayload=function(e,r,n){\"function\"==typeof r&&(n=r,r=null);var s=i(e);return r&&s?m&&!u?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n):e.length?void g(e,(function(e,n){t.encodePacket(e,!!s&&r,!1,(function(e){n(null,function(e){return e.length+\":\"+e}(e))}))}),(function(e,t){return n(t.join(\"\"))})):n(\"0:\")},t.decodePayload=function(e,r,n){if(\"string\"!=typeof e)return t.decodePayloadAsBinary(e,r,n);var s;if(\"function\"==typeof r&&(n=r,r=null),\"\"===e)return n(f,0,1);for(var i,o,a=\"\",c=0,l=e.length;c<l;c++){var d=e.charAt(c);if(\":\"===d){if(\"\"===a||a!=(i=Number(a)))return n(f,0,1);if(a!=(o=e.substr(c+1,i)).length)return n(f,0,1);if(o.length){if(s=t.decodePacket(o,r,!1),f.type===s.type&&f.data===s.data)return n(f,0,1);if(!1===n(s,c+i,l))return}c+=i,a=\"\"}else a+=d}return\"\"!==a?n(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){return r(null,e)}))}),(function(e,t){var n=t.reduce((function(e,t){var r;return e+(r=\"string\"==typeof t?t.length:t.byteLength).toString().length+r+2}),0),s=new Uint8Array(n),i=0;return t.forEach((function(e){var t=\"string\"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);r=n.buffer}s[i++]=t?0:1;var a=r.byteLength.toString();for(o=0;o<a.length;o++)s[i++]=parseInt(a[o]);for(s[i++]=255,n=new Uint8Array(r),o=0;o<n.length;o++)s[i++]=n[o]})),r(s.buffer)}))},t.encodePayloadAsBlob=function(e,r){g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,\"string\"==typeof e){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);e=n.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(s=0;s<i.length;s++)o[s]=parseInt(i[s]);if(o[i.length]=255,m){var a=new m([t.buffer,o.buffer,e]);r(null,a)}}))}),(function(e,t){return r(new m(t))}))},t.decodePayloadAsBinary=function(e,r,n){\"function\"==typeof r&&(n=r,r=null);for(var s=e,i=[];s.byteLength>0;){for(var a=new Uint8Array(s),c=0===a[0],l=\"\",d=1;255!==a[d];d++){if(l.length>310)return n(f,0,1);l+=a[d]}s=o(s,2+l.length),l=parseInt(l);var u=o(s,0,l);if(c)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(m){var h=new Uint8Array(u);for(u=\"\",d=0;d<h.length;d++)u+=String.fromCharCode(h[d])}i.push(u),s=o(s,l)}var p=i.length;i.forEach((function(e,s){n(t.decodePacket(e,r,!0),s,p)}))}},Y4EA:function(e,t){e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},Yvos:function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},YwPy:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\");t.extractRtpCapabilities=function({sdpObject:e}){const t=new Map,r=[];let s=!1,i=!1;for(const o of e.media){const e=o.type;switch(e){case\"audio\":if(s)continue;s=!0;break;case\"video\":if(i)continue;i=!0;break;default:continue}for(const r of o.rtp){const n={kind:e,mimeType:`${e}/${r.codec}`,preferredPayloadType:r.payload,clockRate:r.rate,channels:r.encoding,parameters:{},rtcpFeedback:[]};t.set(n.preferredPayloadType,n)}for(const r of o.fmtp||[]){const e=n.parseParams(r.config),s=t.get(r.payload);s&&(e&&e[\"profile-level-id\"]&&(e[\"profile-level-id\"]=String(e[\"profile-level-id\"])),s.parameters=e)}for(const r of o.rtcpFb||[]){const e=t.get(r.payload);if(!e)continue;const n={type:r.type,parameter:r.subtype};n.parameter||delete n.parameter,e.rtcpFeedback.push(n)}for(const t of o.ext||[])t[\"encrypt-uri\"]||r.push({kind:e,uri:t.uri,preferredId:t.value})}return{codecs:Array.from(t.values()),headerExtensions:r}},t.extractDtlsParameters=function({sdpObject:e}){const t=(e.media||[]).find(e=>e.iceUfrag&&0!==e.port);if(!t)throw new Error(\"no active media section found\");const r=t.fingerprint||e.fingerprint;let n;switch(t.setup){case\"active\":n=\"client\";break;case\"passive\":n=\"server\";break;case\"actpass\":n=\"auto\"}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}},t.getCname=function({offerMediaObject:e}){const t=(e.ssrcs||[]).find(e=>\"cname\"===e.attribute);return t?t.value:\"\"},t.applyCodecParameters=function({offerRtpParameters:e,answerMediaObject:t}){for(const r of e.codecs){const e=r.mimeType.toLowerCase();if(\"audio/opus\"!==e)continue;if(!(t.rtp||[]).find(e=>e.payload===r.payloadType))continue;t.fmtp=t.fmtp||[];let s=t.fmtp.find(e=>e.payload===r.payloadType);s||(s={payload:r.payloadType,config:\"\"},t.fmtp.push(s));const i=n.parseParams(s.config);switch(e){case\"audio/opus\":{const e=r.parameters[\"sprop-stereo\"];void 0!==e&&(i.stereo=e?1:0);break}}s.config=\"\";for(const t of Object.keys(i))s.config&&(s.config+=\";\"),s.config+=`${t}=${i[t]}`}}},YzUL:function(e,t,r){var n,s,i=r(\"0zaL\"),o=r(\"Wm4p\"),a=r(\"TypT\"),c=r(\"Yvos\"),l=r(\"Aplp\"),d=r(\"Bn1Y\")(\"engine.io-client:websocket\");if(\"undefined\"!=typeof WebSocket?n=WebSocket:\"undefined\"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),\"undefined\"==typeof window)try{s=r(1)}catch(p){}var u=n||s;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=s),i.call(this,e)}e.exports=h,c(h,i),h.prototype.name=\"websocket\",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new u(e,t):new u(e):new u(e,t,r)}catch(n){return this.emit(\"error\",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError(\"websocket error\",t)}},h.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,n=0,s=r;n<s;n++)!function(e){o.encodePacket(e,t.supportsBinary,(function(n){if(!t.usingBrowserWebSocket){var s={};e.options&&(s.compress=e.options.compress),t.perMessageDeflate&&(\"string\"==typeof n?Buffer.byteLength(n):n.length)<t.perMessageDeflate.threshold&&(s.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(n):t.ws.send(n,s)}catch(p){d(\"websocket closed before onclose event\")}--r||(t.emit(\"flush\"),setTimeout((function(){t.writable=!0,t.emit(\"drain\")}),0))}))}(e[n])},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?\"wss\":\"ws\",r=\"\";return this.port&&(\"wss\"===t&&443!==Number(this.port)||\"ws\"===t&&80!==Number(this.port))&&(r=\":\"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+e},h.prototype.check=function(){return!(!u||\"__initialize\"in u&&this.name===h.prototype.name)}},cpc2:function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+e],this;for(var s=0;s<n.length;s++)if((r=n[s])===t||r.fn===t){n.splice(s,1);break}return 0===n.length&&delete this._callbacks[\"$\"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks[\"$\"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var s=(r=r.slice(0)).length;n<s;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},\"dkv/\":function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},eeIc:function(e,t){e.exports=function(e){return r&&Buffer.isBuffer(e)||n&&(e instanceof ArrayBuffer||function(e){return\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var r=\"function\"==typeof Buffer&&\"function\"==typeof Buffer.isBuffer,n=\"function\"==typeof ArrayBuffer},fg2H:function(e,t,r){var n=r(\"yeub\"),s=r(\"y508\");e.exports=function(e){var t=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(o){}try{if(\"undefined\"!=typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(o){}if(!t)try{return new(s[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(o){}}},g5Dd:function(e,t){!function(e){\"use strict\";t.encode=function(t){var r,n=new Uint8Array(t),s=n.length,i=\"\";for(r=0;r<s;r+=3)i+=e[n[r]>>2],i+=e[(3&n[r])<<4|n[r+1]>>4],i+=e[(15&n[r+1])<<2|n[r+2]>>6],i+=e[63&n[r+2]];return s%3==2?i=i.substring(0,i.length-1)+\"=\":s%3==1&&(i=i.substring(0,i.length-2)+\"==\"),i},t.decode=function(t){var r,n,s,i,o,a=.75*t.length,c=t.length,l=0;\"=\"===t[t.length-1]&&(a--,\"=\"===t[t.length-2]&&a--);var d=new ArrayBuffer(a),u=new Uint8Array(d);for(r=0;r<c;r+=4)n=e.indexOf(t[r]),s=e.indexOf(t[r+1]),i=e.indexOf(t[r+2]),o=e.indexOf(t[r+3]),u[l++]=n<<2|s>>4,u[l++]=(15&s)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return d}}(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\")},gEDQ:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=new RegExp(\"^[LS]([1-9]\\\\d{0,1})T([1-9]\\\\d{0,1})\");t.parse=function(e){const t=n.exec(e||\"\");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},hUSI:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),s=r(\"GygU\"),i=new n.Logger(\"DataConsumer\");t.DataConsumer=class extends s.EnhancedEventEmitter{constructor({id:e,dataProducerId:t,dataChannel:r,sctpStreamParameters:n,appData:o}){super(),this._closed=!1,this._observer=new s.EnhancedEventEmitter,i.debug(\"constructor()\"),this._id=e,this._dataProducerId=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=o,this._handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(i.debug(\"close()\"),this._closed=!0,this._dataChannel.close(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(i.debug(\"transportClosed()\"),this._closed=!0,this._dataChannel.close(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}_handleDataChannel(){this._dataChannel.addEventListener(\"open\",()=>{this._closed||(i.debug('DataChannel \"open\" event'),this.safeEmit(\"open\"))}),this._dataChannel.addEventListener(\"error\",e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error(\"unknown DataChannel error\")),\"sctp-failure\"===t.errorDetail?i.error(\"DataChannel SCTP error [sctpCauseCode:%s]: %s\",t.sctpCauseCode,t.message):i.error('DataChannel \"error\" event: %o',t),this.safeEmit(\"error\",t)}),this._dataChannel.addEventListener(\"close\",()=>{this._closed||(i.warn('DataChannel \"close\" event'),this._closed=!0,this.emit(\"@close\"),this.safeEmit(\"close\"))}),this._dataChannel.addEventListener(\"message\",e=>{this._closed||this.safeEmit(\"message\",e.data)})}}},iHzg:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getRtpEncodings=function({offerMediaObject:e}){const t=new Set;for(const s of e.ssrcs||[])t.add(s.id);if(0===t.size)throw new Error(\"no a=ssrc lines found\");const r=new Map;for(const s of e.ssrcGroups||[]){if(\"FID\"!==s.semantics)continue;let[e,n]=s.ssrcs.split(/\\s+/);e=Number(e),n=Number(n),t.has(e)&&(t.delete(e),t.delete(n),r.set(e,n))}for(const s of t)r.set(s,null);const n=[];for(const[s,i]of r){const e={ssrc:s};i&&(e.rtx={ssrc:i}),n.push(e)}return n},t.addLegacySimulcast=function({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError(\"numStreams must be greater than 1\");const r=(e.ssrcs||[]).find(e=>\"msid\"===e.attribute);if(!r)throw new Error(\"a=ssrc line with msid information not found\");const[n,s]=r.value.split(\" \")[0],i=r.id;let o;(e.ssrcGroups||[]).some(e=>{if(\"FID\"!==e.semantics)return!1;const t=e.ssrcs.split(/\\s+/);return Number(t[0])===i&&(o=Number(t[1]),!0)});const a=e.ssrcs.find(e=>\"cname\"===e.attribute);if(!a)throw new Error(\"a=ssrc line with cname information not found\");const c=a.value,l=[],d=[];for(let u=0;u<t;++u)l.push(i+u),o&&d.push(o+u);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:\"SIM\",ssrcs:l.join(\" \")});for(let u=0;u<l.length;++u){const t=l[u];e.ssrcs.push({id:t,attribute:\"cname\",value:c}),e.ssrcs.push({id:t,attribute:\"msid\",value:`${n} ${s}`})}for(let u=0;u<d.length;++u){const t=l[u],r=d[u];e.ssrcs.push({id:r,attribute:\"cname\",value:c}),e.ssrcs.push({id:r,attribute:\"msid\",value:`${n} ${s}`}),e.ssrcGroups.push({semantics:\"FID\",ssrcs:`${t} ${r}`})}}},jWG7:function(e,t){var r=1e3,n=6e4,s=60*n,i=24*s;function o(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+\" \"+n+(s?\"s\":\"\")}e.exports=function(e,t){t=t||{};var a,c,l=typeof e;if(\"string\"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*o;case\"weeks\":case\"week\":case\"w\":return 6048e5*o;case\"days\":case\"day\":case\"d\":return o*i;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return o*s;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return o*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return o*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return o;default:return}}}}(e);if(\"number\"===l&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,\"day\"):c>=s?o(a,c,s,\"hour\"):c>=n?o(a,c,n,\"minute\"):c>=r?o(a,c,r,\"second\"):a+\" ms\"):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+\"d\":t>=s?Math.round(e/s)+\"h\":t>=n?Math.round(e/n)+\"m\":t>=r?Math.round(e/r)+\"s\":e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},jZQw:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),s=r(\"7h/2\"),i=r(\"8xwj\"),o=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"iHzg\"),l=r(\"1z2d\"),d=r(\"Gffd\"),u=new s.Logger(\"Safari12\"),h={OS:1024,MIS:1024};class p extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new p}get name(){return\"Safari12\"}close(){if(u.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"});try{e.addTransceiver(\"audio\"),e.addTransceiver(\"video\");const r=await e.createOffer();try{e.close()}catch(t){}const s=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:s})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,iceServers:i,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:h}){u.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters(\"audio\",h),video:o.getSendingRtpParameters(\"video\",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters(\"audio\",h),video:o.getSendingRemoteRtpParameters(\"video\",h)},this._pc=new RTCPeerConnection(Object.assign({iceServers:i||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"},c),l),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){u.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:s}){this._assertSendDirection(),u.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id);const l=i.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=o.reduceCodecs(l.codecs,s);const d=i.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});d.codecs=o.reduceCodecs(d.codecs,s);const h=this._remoteSdp.getNextMediaSectionIdx(),p=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream]});let f,m=await this._pc.createOffer(),g=n.parse(m.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:g}),t&&t.length>1&&(u.debug(\"send() | enabling legacy simulcast\"),g=n.parse(m.sdp),f=g.media[h.idx],c.addLegacySimulcast({offerMediaObject:f,numStreams:t.length}),m={type:\"offer\",sdp:n.write(g)}),u.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",m),await this._pc.setLocalDescription(m);const y=p.mid;if(l.mid=y,g=n.parse(this._pc.localDescription.sdp),f=g.media[h.idx],l.rtcp.cname=a.getCname({offerMediaObject:f}),l.encodings=c.getRtpEncodings({offerMediaObject:f}),t)for(let n=0;n<l.encodings.length;++n)t[n]&&Object.assign(l.encodings[n],t[n]);if(l.encodings.length>1&&(\"video/vp8\"===l.codecs[0].mimeType.toLowerCase()||\"video/h264\"===l.codecs[0].mimeType.toLowerCase()))for(const n of l.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:f,reuseMid:h.reuseMid,offerRtpParameters:l,answerRtpParameters:d,codecOptions:r});const v={type:\"answer\",sdp:this._remoteSdp.getSdp()};return u.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",v),await this._pc.setRemoteDescription(v),this._mapMidTransceiver.set(y,p),{localId:y,rtpParameters:l,rtpSender:p.sender}}async stopSending(e){this._assertSendDirection(),u.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const r=await this._pc.createOffer();u.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?u.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):u.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),u.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),u.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:s,protocol:i,priority:o}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:i,priority:o};u.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(s,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),u.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const s={type:\"answer\",sdp:this._remoteSdp.getSdp()};u.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",s),await this._pc.setRemoteDescription(s),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),u.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const s=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const i={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const c=n.parse(o.sdp),l=c.media.find(e=>String(e.mid)===s);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:l}),o={type:\"answer\",sdp:n.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:c}),u.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",o),await this._pc.setLocalDescription(o);const d=this._pc.getTransceivers().find(e=>e.mid===s);if(!d)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(s,d),{localId:s,track:d.receiver.track,rtpReceiver:d.receiver}}async stopReceiving(e){this._assertRecvDirection(),u.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();u.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=e,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};u.debug(\"receiveDataChannel() [options:%o]\",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};u.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}u.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Safari12=p},jig2:function(e,t,r){var n=r(\"Qsis\"),s=r(\"eeIc\"),i=Object.prototype.toString,o=\"function\"==typeof Blob||\"undefined\"!=typeof Blob&&\"[object BlobConstructor]\"===i.call(Blob),a=\"function\"==typeof File||\"undefined\"!=typeof File&&\"[object FileConstructor]\"===i.call(File);t.deconstructPacket=function(e){var t=[],r=e;return r.data=function e(t,r){if(!t)return t;if(s(t)){var i={_placeholder:!0,num:r.length};return r.push(t),i}if(n(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=e(t[a],r);return o}if(\"object\"==typeof t&&!(t instanceof Date)){for(var c in o={},t)o[c]=e(t[c],r);return o}return t}(e.data,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,r){if(!t)return t;if(t&&t._placeholder)return r[t.num];if(n(t))for(var s=0;s<t.length;s++)t[s]=e(t[s],r);else if(\"object\"==typeof t)for(var i in t)t[i]=e(t[i],r);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var r=0,i=e;!function e(c,l,d){if(!c)return c;if(o&&c instanceof Blob||a&&c instanceof File){r++;var u=new FileReader;u.onload=function(){d?d[l]=this.result:i=this.result,--r||t(i)},u.readAsArrayBuffer(c)}else if(n(c))for(var h=0;h<c.length;h++)e(c[h],h,c);else if(\"object\"==typeof c&&!s(c))for(var p in c)e(c[p],p,c)}(i),r||t(i)}},k76L:function(e,t,r){var n=r(\"leix\"),s=r(\"8Lyy\");t.write=s,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},kSER:function(e,t){e.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},lGCn:function(e,t,r){var n=r(\"Bn1Y\")(\"socket.io-parser\"),s=r(\"cpc2\"),i=r(\"jig2\"),o=r(\"Qsis\"),a=r(\"eeIc\");function c(){}t.protocol=4,t.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=u;var l=t.ERROR+'\"encode error\"';function d(e){var r=\"\"+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+\"-\"),e.nsp&&\"/\"!==e.nsp&&(r+=e.nsp+\",\"),null!=e.id&&(r+=e.id),null!=e.data){var s=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===s)return l;r+=s}return n(\"encoded %j as %s\",e,r),r}function u(){this.reconstructor=null}function h(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:\"parser error: \"+e}}c.prototype.encode=function(e,r){n(\"encoding packet %j\",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){i.removeBlobs(e,(function(e){var r=i.deconstructPacket(e),n=d(r.packet),s=r.buffers;s.unshift(n),t(s)}))}(e,r):r([d(e)])},s(u.prototype),u.prototype.add=function(e){var r;if(\"string\"==typeof e)r=function(e){var r=0,s={type:Number(e.charAt(0))};if(null==t.types[s.type])return p(\"unknown packet type \"+s.type);if(t.BINARY_EVENT===s.type||t.BINARY_ACK===s.type){for(var i=r+1;\"-\"!==e.charAt(++r)&&r!=e.length;);var a=e.substring(i,r);if(a!=Number(a)||\"-\"!==e.charAt(r))throw new Error(\"Illegal attachments\");s.attachments=Number(a)}if(\"/\"===e.charAt(r+1)){for(i=r+1;++r&&\",\"!==(l=e.charAt(r))&&r!==e.length;);s.nsp=e.substring(i,r)}else s.nsp=\"/\";var c=e.charAt(r+1);if(\"\"!==c&&Number(c)==c){for(i=r+1;++r;){var l;if(null==(l=e.charAt(r))||Number(l)!=l){--r;break}if(r===e.length)break}s.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){var d=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(r));if(!1===d||s.type!==t.ERROR&&!o(d))return p(\"invalid payload\");s.data=d}return n(\"decoded %s as %j\",e,s),s}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new h(r),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",r)):this.emit(\"decoded\",r);else{if(!a(e)&&!e.base64)throw new Error(\"Unknown type: \"+e);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit(\"decoded\",r))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},leix:function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},s=function(e,t,r){var s=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:s&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:s?t[e.name]:t;!function(e,t,r,s){if(s&&!r)t[s]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(\"O6qx\"),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\\r\\n|\\r|\\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);\"m\"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var a=0;a<(i[t]||[]).length;a+=1){var c=i[t][a];if(c.reg.test(o))return s(c,n,o)}})),t.media=r,t};var a=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(\" \").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(\" \").map(n),s=0;s<r.length;s+=3)t.push({component:r[s],ip:r[s+1],port:r[s+2]});return t},t.parseImageAttributes=function(e){return e.split(\" \").map((function(e){return e.substring(1,e.length-1).split(\",\").reduce(a,{})}))},t.parseSimulcastStreamList=function(e){return e.split(\";\").map((function(e){return e.split(\",\").map((function(e){var t,r=!1;return\"~\"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},nAs4:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});class n extends Error{constructor(e){super(e),this.name=\"UnsupportedError\",Error.hasOwnProperty(\"captureStackTrace\")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.UnsupportedError=n;class s extends Error{constructor(e){super(e),this.name=\"InvalidStateError\",Error.hasOwnProperty(\"captureStackTrace\")?Error.captureStackTrace(this,s):this.stack=new Error(e).stack}}t.InvalidStateError=s},nreB:function(e,t,r){const n=r(\"VIe4\")(\"h264-profile-level-id\");n.log=console.info.bind(console),t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5,t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;class s{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=s;const i=new s(1,31);class o{constructor(e){this._mask=~l(\"x\",e),this._maskedValue=l(\"1\",e)}isMatch(e){return this._maskedValue===(e&this._mask)}}class a{constructor(e,t,r){this.profile_idc=e,this.profile_iop=t,this.profile=r}}const c=[new a(66,new o(\"x1xx0000\"),1),new a(77,new o(\"1xxx0000\"),1),new a(88,new o(\"11xx0000\"),1),new a(66,new o(\"x0xx0000\"),2),new a(88,new o(\"10xx0000\"),2),new a(77,new o(\"0x0x0000\"),3),new a(100,new o(\"00000000\"),5),new a(100,new o(\"00001100\"),4)];function l(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function d(e={}){const t=e[\"level-asymmetry-allowed\"];return 1===t||\"1\"===t}t.parseProfileLevelId=function(e){if(\"string\"!=typeof e||6!==e.length)return null;const t=parseInt(e,16);if(0===t)return null;const r=255&t,i=t>>8&255,o=t>>16&255;let a;switch(r){case 11:a=0!=(16&i)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:a=r;break;default:return n(\"parseProfileLevelId() | unrecognized level_idc:%s\",r),null}for(const n of c)if(o===n.profile_idc&&n.profile_iop.isMatch(i))return new s(n.profile,a);return n(\"parseProfileLevelId() | unrecognized profile_idc/profile_iop combination\"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return\"42f00b\";case 2:return\"42100b\";case 3:return\"4d100b\";default:return n(\"profileLevelIdToString() | Level 1_b not is allowed for profile:%s\",e.profile),null}let t;switch(e.profile){case 1:t=\"42e0\";break;case 2:t=\"4200\";break;case 3:t=\"4d00\";break;case 4:t=\"640c\";break;case 5:t=\"6400\";break;default:return n(\"profileLevelIdToString() | unrecognized profile:%s\",e.profile),null}let r=e.level.toString(16);return 1===r.length&&(r=\"0\"+r),`${t}${r}`},t.parseSdpProfileLevelId=function(e={}){const r=e[\"profile-level-id\"];return r?t.parseProfileLevelId(r):i},t.isSameProfile=function(e={},r={}){const n=t.parseSdpProfileLevelId(e),s=t.parseSdpProfileLevelId(r);return Boolean(n&&s&&n.profile===s.profile)},t.generateProfileLevelIdForAnswer=function(e={},r={}){if(!e[\"profile-level-id\"]&&!r[\"profile-level-id\"])return n(\"generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params\"),null;const i=t.parseSdpProfileLevelId(e),o=t.parseSdpProfileLevelId(r);if(!i)throw new TypeError(\"invalid local_profile_level_id\");if(!o)throw new TypeError(\"invalid remote_profile_level_id\");if(i.profile!==o.profile)throw new TypeError(\"H264 Profile mismatch\");const a=d(e)&&d(r),c=i.level,l=function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(u=c,h=o.level)?u:h;var u,h;const p=a?c:l;return n(\"generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]\",i.profile,p),t.profileLevelIdToString(new s(i.profile,p))}},\"oIG/\":function(e,t){var r,n,s,i=String.fromCharCode;function o(e){for(var t,r,n=[],s=0,i=e.length;s<i;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<i?56320==(64512&(r=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),s--):n.push(t);return n}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error(\"Lone surrogate U+\"+e.toString(16).toUpperCase()+\" is not a scalar value\");return!1}return!0}function c(e,t){return i(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return i(e);var r=\"\";return 0==(4294965248&e)?r=i(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),r=i(e>>12&15|224),r+=c(e,6)):0==(4292870144&e)&&(r=i(e>>18&7|240),r+=c(e,12),r+=c(e,6)),r+i(63&e|128)}function d(){if(s>=n)throw Error(\"Invalid byte index\");var e=255&r[s];if(s++,128==(192&e))return 63&e;throw Error(\"Invalid continuation byte\")}function u(e){var t,i;if(s>n)throw Error(\"Invalid byte index\");if(s==n)return!1;if(t=255&r[s],s++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|d())>=128)return i;throw Error(\"Invalid continuation byte\")}if(224==(240&t)){if((i=(15&t)<<12|d()<<6|d())>=2048)return a(i,e)?i:65533;throw Error(\"Invalid continuation byte\")}if(240==(248&t)&&(i=(7&t)<<18|d()<<12|d()<<6|d())>=65536&&i<=1114111)return i;throw Error(\"Invalid UTF-8 detected\")}e.exports={version:\"2.1.2\",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=o(e),s=n.length,i=-1,a=\"\";++i<s;)a+=l(n[i],r);return a},decode:function(e,t){var a=!1!==(t=t||{}).strict;r=o(e),n=r.length,s=0;for(var c,l=[];!1!==(c=u(a));)l.push(c);return function(e){for(var t,r=e.length,n=-1,s=\"\";++n<r;)(t=e[n])>65535&&(s+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=i(t);return s}(l)}}},pqID:function(e,t,r){var n=r(\"qp7M\"),s=r(\"lGCn\"),i=r(\"wlXU\"),o=r(\"Bn1Y\")(\"socket.io-client\");e.exports=t=c;var a=t.managers={};function c(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var r,s=n(e),c=s.source,l=s.id;return t.forceNew||t[\"force new connection\"]||!1===t.multiplex||a[l]&&s.path in a[l].nsps?(o(\"ignoring socket cache for %s\",c),r=i(c,t)):(a[l]||(o(\"new io instance for %s\",c),a[l]=i(c,t)),r=a[l]),s.query&&!t.query&&(t.query=s.query),r.socket(s.path,t)}t.protocol=s.protocol,t.connect=c,t.Manager=r(\"wlXU\"),t.Socket=r(\"OAgL\")},qp7M:function(e,t,r){var n=r(\"Uxeu\"),s=r(\"Bn1Y\")(\"socket.io-client:url\");e.exports=function(e,t){var r=e;t=t||\"undefined\"!=typeof location&&location,null==e&&(e=t.protocol+\"//\"+t.host),\"string\"==typeof e&&(\"/\"===e.charAt(0)&&(e=\"/\"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\\/\\//.test(e)||(s(\"protocol-less url %s\",e),e=void 0!==t?t.protocol+\"//\"+e:\"https://\"+e),s(\"parse %s\",e),r=n(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=\"80\":/^(http|ws)s$/.test(r.protocol)&&(r.port=\"443\")),r.path=r.path||\"/\";var i=-1!==r.host.indexOf(\":\")?\"[\"+r.host+\"]\":r.host;return r.id=r.protocol+\"://\"+i+\":\"+r.port,r.href=r.protocol+\"://\"+i+(t&&t.port===r.port?\"\":\":\"+r.port),r}},rfC7:function(e,t,r){var n=r(\"3exg\"),s=r(\"Yvos\"),i=r(\"y508\");e.exports=d;var o,a=/\\n/g,c=/\\\\n/g;function l(){}function d(e){n.call(this,e),this.query=this.query||{},o||(o=i.___eio=i.___eio||[]),this.index=o.length;var t=this;o.push((function(e){t.onData(e)})),this.query.j=this.index,\"function\"==typeof addEventListener&&addEventListener(\"beforeunload\",(function(){t.script&&(t.script.onerror=l)}),!1)}s(d,n),d.prototype.supportsBinary=!1,d.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},d.prototype.doPoll=function(){var e=this,t=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError(\"jsonp poll error\",t)};var r=document.getElementsByTagName(\"script\")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement(\"iframe\");document.body.appendChild(e),document.body.removeChild(e)}),100)},d.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,s=document.createElement(\"form\"),i=document.createElement(\"textarea\"),o=this.iframeId=\"eio_iframe_\"+this.index;s.className=\"socketio\",s.style.position=\"absolute\",s.style.top=\"-1000px\",s.style.left=\"-1000px\",s.target=o,s.method=\"POST\",s.setAttribute(\"accept-charset\",\"utf-8\"),i.name=\"d\",s.appendChild(i),document.body.appendChild(s),this.form=s,this.area=i}function l(){d(),t()}function d(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError(\"jsonp polling iframe removal error\",e)}try{n=document.createElement('<iframe src=\"javascript:0\" name=\"'+r.iframeId+'\">')}catch(e){(n=document.createElement(\"iframe\")).name=r.iframeId,n.src=\"javascript:0\"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),d(),e=e.replace(c,\"\\\\\\n\"),this.area.value=e.replace(a,\"\\\\n\");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===r.iframe.readyState&&l()}:this.iframe.onload=l}},sSRp:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getRtpEncodings=function({offerMediaObject:e,track:t}){let r;const n=new Set;for(const o of e.ssrcs||[])if(\"msid\"===o.attribute&&o.value.split(\" \")[1]===t.id){const e=o.id;n.add(e),r||(r=e)}if(0===n.size)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const s=new Map;for(const o of e.ssrcGroups||[]){if(\"FID\"!==o.semantics)continue;let[e,t]=o.ssrcs.split(/\\s+/);e=Number(e),t=Number(t),n.has(e)&&(n.delete(e),n.delete(t),s.set(e,t))}for(const o of n)s.set(o,null);const i=[];for(const[o,a]of s){const e={ssrc:o};a&&(e.rtx={ssrc:a}),i.push(e)}return i},t.addLegacySimulcast=function({offerMediaObject:e,track:t,numStreams:r}){if(r<=1)throw new TypeError(\"numStreams must be greater than 1\");let n,s,i;if(!(e.ssrcs||[]).find(e=>\"msid\"===e.attribute&&e.value.split(\" \")[1]===t.id&&(n=e.id,i=e.value.split(\" \")[0],!0)))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(e=>{if(\"FID\"!==e.semantics)return!1;const t=e.ssrcs.split(/\\s+/);return Number(t[0])===n&&(s=Number(t[1]),!0)});const o=e.ssrcs.find(e=>\"cname\"===e.attribute&&e.id===n);if(!o)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const a=o.value,c=[],l=[];for(let d=0;d<r;++d)c.push(n+d),s&&l.push(s+d);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:\"SIM\",ssrcs:c.join(\" \")});for(let d=0;d<c.length;++d){const r=c[d];e.ssrcs.push({id:r,attribute:\"cname\",value:a}),e.ssrcs.push({id:r,attribute:\"msid\",value:`${i} ${t.id}`})}for(let d=0;d<l.length;++d){const r=c[d],n=l[d];e.ssrcs.push({id:n,attribute:\"cname\",value:a}),e.ssrcs.push({id:n,attribute:\"msid\",value:`${i} ${t.id}`}),e.ssrcGroups.push({semantics:\"FID\",ssrcs:`${r} ${n}`})}}},sZ75:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),s=r(\"GygU\"),i=r(\"nAs4\"),o=new n.Logger(\"Consumer\");t.Consumer=class extends s.EnhancedEventEmitter{constructor({id:e,localId:t,producerId:r,rtpReceiver:n,track:i,rtpParameters:a,appData:c}){super(),this._closed=!1,this._observer=new s.EnhancedEventEmitter,o.debug(\"constructor()\"),this._id=e,this._localId=t,this._producerId=r,this._rtpReceiver=n,this._track=i,this._rtpParameters=a,this._paused=!i.enabled,this._appData=c,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(o.debug(\"close()\"),this._closed=!0,this._destroyTrack(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(o.debug(\"transportClosed()\"),this._closed=!0,this._destroyTrack(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}async getStats(){if(this._closed)throw new i.InvalidStateError(\"closed\");return this.safeEmitAsPromise(\"@getstats\")}pause(){o.debug(\"pause()\"),this._closed?o.error(\"pause() | Consumer closed\"):(this._paused=!0,this._track.enabled=!1,this._observer.safeEmit(\"pause\"))}resume(){o.debug(\"resume()\"),this._closed?o.error(\"resume() | Consumer closed\"):(this._paused=!1,this._track.enabled=!0,this._observer.safeEmit(\"resume\"))}_onTrackEnded(){o.debug('track \"ended\" event'),this.safeEmit(\"trackended\"),this._observer.safeEmit(\"trackended\")}_handleTrack(){this._track.addEventListener(\"ended\",this._onTrackEnded)}_destroyTrack(){try{this._track.removeEventListener(\"ended\",this._onTrackEnded),this._track.stop()}catch(e){}}}},u6rE:function(e,t){var r=1e3,n=6e4,s=60*n,i=24*s;function o(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+\" \"+n+(s?\"s\":\"\")}e.exports=function(e,t){t=t||{};var a,c,l=typeof e;if(\"string\"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*o;case\"weeks\":case\"week\":case\"w\":return 6048e5*o;case\"days\":case\"day\":case\"d\":return o*i;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return o*s;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return o*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return o*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return o;default:return}}}}(e);if(\"number\"===l&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,\"day\"):c>=s?o(a,c,s,\"hour\"):c>=n?o(a,c,n,\"minute\"):c>=r?o(a,c,r,\"second\"):a+\" ms\"):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+\"d\":t>=s?Math.round(e/s)+\"h\":t>=n?Math.round(e/n)+\"m\":t>=r?Math.round(e/r)+\"s\":e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},uKDP:function(e,t,r){var n=r(\"0+mJ\"),s=r(\"cpc2\"),i=r(\"Bn1Y\")(\"engine.io-client:socket\"),o=r(\"7jRU\"),a=r(\"Wm4p\"),c=r(\"Uxeu\"),l=r(\"TypT\");function d(e,t){if(!(this instanceof d))return new d(e,t);t=t||{},e&&\"object\"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure=\"https\"===e.protocol||\"wss\"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:\"undefined\"!=typeof location&&\"https:\"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?\"443\":\"80\"),this.agent=t.agent||!1,this.hostname=t.hostname||(\"undefined\"!=typeof location?location.hostname:\"localhost\"),this.port=t.port||(\"undefined\"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},\"string\"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||\"t\",this.timestampRequests=t.timestampRequests,this.transports=t.transports||[\"polling\",\"websocket\"],this.transportOptions=t.transportOptions||{},this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.product&&\"reactnative\"===navigator.product.toLowerCase(),(\"undefined\"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=d,d.priorWebsocketSuccess=!1,s(d.prototype),d.protocol=a.protocol,d.Socket=d,d.Transport=r(\"0zaL\"),d.transports=r(\"0+mJ\"),d.parser=r(\"Wm4p\"),d.prototype.createTransport=function(e){i('creating transport \"%s\"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf(\"websocket\"))e=\"websocket\";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit(\"error\",\"No transports available\")}),0)}e=this.transports[0]}this.readyState=\"opening\";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){i(\"setting transport %s\",e.name);var t=this;this.transport&&(i(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on(\"drain\",(function(){t.onDrain()})).on(\"packet\",(function(e){t.onPacket(e)})).on(\"error\",(function(e){t.onError(e)})).on(\"close\",(function(){t.onClose(\"transport close\")}))},d.prototype.probe=function(e){i('probing transport \"%s\"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function s(){n.onlyBinaryUpgrades&&(r=r||!this.supportsBinary&&n.transport.supportsBinary),r||(i('probe transport \"%s\" opened',e),t.send([{type:\"ping\",data:\"probe\"}]),t.once(\"packet\",(function(s){if(!r)if(\"pong\"===s.type&&\"probe\"===s.data){if(i('probe transport \"%s\" pong',e),n.upgrading=!0,n.emit(\"upgrading\",t),!t)return;d.priorWebsocketSuccess=\"websocket\"===t.name,i('pausing current transport \"%s\"',n.transport.name),n.transport.pause((function(){r||\"closed\"!==n.readyState&&(i(\"changing transport and sending upgrade packet\"),h(),n.setTransport(t),t.send([{type:\"upgrade\"}]),n.emit(\"upgrade\",t),t=null,n.upgrading=!1,n.flush())}))}else{i('probe transport \"%s\" failed',e);var o=new Error(\"probe error\");o.transport=t.name,n.emit(\"upgradeError\",o)}})))}function o(){r||(r=!0,h(),t.close(),t=null)}function a(r){var s=new Error(\"probe error: \"+r);s.transport=t.name,o(),i('probe transport \"%s\" failed because of error: %s',e,r),n.emit(\"upgradeError\",s)}function c(){a(\"transport closed\")}function l(){a(\"socket closed\")}function u(e){t&&e.name!==t.name&&(i('\"%s\" works - aborting \"%s\"',e.name,t.name),o())}function h(){t.removeListener(\"open\",s),t.removeListener(\"error\",a),t.removeListener(\"close\",c),n.removeListener(\"close\",l),n.removeListener(\"upgrading\",u)}d.priorWebsocketSuccess=!1,t.once(\"open\",s),t.once(\"error\",a),t.once(\"close\",c),this.once(\"close\",l),this.once(\"upgrading\",u),t.open()},d.prototype.onOpen=function(){if(i(\"socket open\"),this.readyState=\"open\",d.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){i(\"starting upgrade probes\");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},d.prototype.onPacket=function(e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(i('socket receive: type \"%s\", data \"%s\"',e.type,e.data),this.emit(\"packet\",e),this.emit(\"heartbeat\"),e.type){case\"open\":this.onHandshake(JSON.parse(e.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var t=new Error(\"server error\");t.code=e.data,this.onError(t);break;case\"message\":this.emit(\"data\",e.data),this.emit(\"message\",e.data)}else i('packet received with socket readyState \"%s\"',this.readyState)},d.prototype.onHandshake=function(e){this.emit(\"handshake\",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){\"closed\"!==t.readyState&&t.onClose(\"ping timeout\")}),e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i(\"writing ping packet - expecting pong within %sms\",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket(\"ping\",(function(){e.emit(\"ping\")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},d.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},d.prototype.write=d.prototype.send=function(e,t,r){return this.sendPacket(\"message\",e,t,r),this},d.prototype.sendPacket=function(e,t,r,n){if(\"function\"==typeof t&&(n=t,t=void 0),\"function\"==typeof r&&(n=r,r=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var s={type:e,data:t,options:r};this.emit(\"packetCreate\",s),this.writeBuffer.push(s),n&&this.once(\"flush\",n),this.flush()}},d.prototype.close=function(){if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var e=this;this.writeBuffer.length?this.once(\"drain\",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}function t(){e.onClose(\"forced close\"),i(\"socket closing - telling transport to close\"),e.transport.close()}function r(){e.removeListener(\"upgrade\",r),e.removeListener(\"upgradeError\",r),t()}function n(){e.once(\"upgrade\",r),e.once(\"upgradeError\",r)}return this},d.prototype.onError=function(e){i(\"socket error %j\",e),d.priorWebsocketSuccess=!1,this.emit(\"error\",e),this.onClose(\"transport error\",e)},d.prototype.onClose=function(e,t){\"opening\"!==this.readyState&&\"open\"!==this.readyState&&\"closing\"!==this.readyState||(i('socket close with reason: \"%s\"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",e,t),this.writeBuffer=[],this.prevBufferLen=0)},d.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~o(this.transports,e[r])&&t.push(e[r]);return t}},wlXU:function(e,t,r){var n=r(\"4+Ds\"),s=r(\"OAgL\"),i=r(\"cpc2\"),o=r(\"lGCn\"),a=r(\"Y4EA\"),c=r(\"QN7Q\"),l=r(\"Bn1Y\")(\"socket.io-client:manager\"),d=r(\"7jRU\"),u=r(\"C2QD\"),h=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&\"object\"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState=\"closed\",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return(\"/\"===e?\"\":e+\"#\")+this.engine.id},i(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(l(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;l(\"opening %s\",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,s=this;this.readyState=\"opening\",this.skipReconnect=!1;var i=a(r,\"open\",(function(){s.onopen(),e&&e()})),o=a(r,\"error\",(function(t){if(l(\"connect_error\"),s.cleanup(),s.readyState=\"closed\",s.emitAll(\"connect_error\",t),e){var r=new Error(\"Connection error\");r.data=t,e(r)}else s.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l(\"connect attempt will timeout after %d\",c),0===c&&i.destroy();var d=setTimeout((function(){l(\"connect attempt timed out after %d\",c),i.destroy(),r.close(),r.emit(\"error\",\"timeout\"),s.emitAll(\"connect_timeout\",c)}),c);this.subs.push({destroy:function(){clearTimeout(d)}})}return this.subs.push(i),this.subs.push(o),this},p.prototype.onopen=function(){l(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var e=this.engine;this.subs.push(a(e,\"data\",c(this,\"ondata\"))),this.subs.push(a(e,\"ping\",c(this,\"onping\"))),this.subs.push(a(e,\"pong\",c(this,\"onpong\"))),this.subs.push(a(e,\"error\",c(this,\"onerror\"))),this.subs.push(a(e,\"close\",c(this,\"onclose\"))),this.subs.push(a(this.decoder,\"decoded\",c(this,\"ondecoded\")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},p.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit(\"packet\",e)},p.prototype.onerror=function(e){l(\"error\",e),this.emitAll(\"error\",e)},p.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new s(this,e,t),this.nsps[e]=r;var n=this;r.on(\"connecting\",i),r.on(\"connect\",(function(){r.id=n.generateId(e)})),this.autoConnect&&i()}function i(){~d(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){l(\"writing packet %j\",e);var t=this;e.query&&0===e.type&&(e.nsp+=\"?\"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){l(\"cleanup\");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},p.prototype.onclose=function(e){l(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var t=this.backoff.duration();l(\"will wait %dms before reconnect attempt\",t),this.reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(l(\"attempting reconnect\"),e.emitAll(\"reconnect_attempt\",e.backoff.attempts),e.emitAll(\"reconnecting\",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l(\"reconnect attempt error\"),e.reconnecting=!1,e.reconnect(),e.emitAll(\"reconnect_error\",t.data)):(l(\"reconnect success\"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",e)}},y508:function(e,t){e.exports=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:Function(\"return this\")()},yeub:function(e,t){try{e.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(r){e.exports=!1}},ypnn:function(e,t){e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var s=new Uint8Array(e),i=new Uint8Array(r-t),o=t,a=0;o<r;o++,a++)i[a]=s[o];return i.buffer}},zMFY:function(e,t){function r(){}e.exports=function(e,t,n){var s=!1;return n=n||r,i.count=e,0===e?t():i;function i(e,r){if(i.count<=0)throw new Error(\"after called too many times\");--i.count,e?(s=!0,t(e),t=n):0!==i.count||s||t(null,r)}}},zUnb:function(e,t,r){\"use strict\";function n(e){return\"function\"==typeof e}r.r(t);let s=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn(\"DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n\"+e.stack)}else s&&console.log(\"RxJS: Back to a better error behavior. Thank you. <3\");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function o(e){setTimeout(()=>{throw e})}const a={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},c=Array.isArray||(e=>e&&\"number\"==typeof e.length);function l(e){return null!==e&&\"object\"==typeof e}function d(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join(\"\\n  \")}`:\"\",this.name=\"UnsubscriptionError\",this.errors=e,this}d.prototype=Object.create(Error.prototype);const u=d;let h=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:r,_parents:s,_unsubscribe:i,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,d=s?s.length:0;for(;r;)r.remove(this),r=++a<d&&s[a]||null;if(n(i))try{i.call(this)}catch(h){t=!0,e=h instanceof u?p(h.errors):[h]}if(c(o))for(a=-1,d=o.length;++a<d;){const r=o[a];if(l(r))try{r.unsubscribe()}catch(h){t=!0,e=e||[],h instanceof u?e=e.concat(p(h.errors)):e.push(h)}}if(t)throw new u(e)}add(t){let r=t;switch(typeof t){case\"function\":r=new e(t);case\"object\":if(r===this||r.closed||\"function\"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){const t=r;r=new e,r._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error(\"unrecognized teardown \"+t+\" added to Subscription.\")}if(r._addParent(this)){const e=this._subscriptions;e?e.push(r):this._subscriptions=[r]}return r}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}_addParent(e){let{_parent:t,_parents:r}=this;return t!==e&&(t?r?-1===r.indexOf(e)&&(r.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const f=\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random();class m extends h{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if(\"object\"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,r)}}[f](){return this}static create(e,t,r){const n=new m(e,t,r);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class g extends m{constructor(e,t,r,s){let i;super(),this._parentSubscriber=e;let o=this;n(t)?i=t:t&&(i=t.next,r=t.error,s=t.complete,t!==a&&(o=Object.create(t),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=r,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=i;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw r;o(r)}}__tryOrSetError(e,t,r){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{t.call(this._context,r)}catch(n){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function v(){}function w(...e){return b(e)}function b(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:v}let _=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(e,t,r){const{operator:n}=this,s=function(e,t,r){if(e){if(e instanceof m)return e;if(e[f])return e[f]()}return e||t||r?new m(e,t,r):new m(a)}(e,t,r);if(s.add(n?n.call(s,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),i.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:r,isStopped:n}=e;if(t||n)return!1;e=r&&r instanceof m?r:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=S(t))((t,r)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(s){r(s),n&&n.unsubscribe()}},r,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=S(e))((e,t)=>{let r;this.subscribe(e=>r=e,e=>t(e),()=>e(r))})}}return e.create=t=>new e(t),e})();function S(e){if(e||(e=i.Promise||Promise),!e)throw new Error(\"no Promise impl found\");return e}function C(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}C.prototype=Object.create(Error.prototype);const R=C;class x extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class T extends m{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new T(this)}lift(e){const t=new E(this,this);return t.operator=e,t}next(e){if(this.closed)throw new R;if(!this.isStopped){const{observers:t}=this,r=t.length,n=t.slice();for(let s=0;s<r;s++)n[s].next(e)}}error(e){if(this.closed)throw new R;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,r=t.length,n=t.slice();for(let s=0;s<r;s++)n[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new R;this.isStopped=!0;const{observers:e}=this,t=e.length,r=e.slice();for(let n=0;n<t;n++)r[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new R;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new R;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new x(this,e))}asObservable(){const e=new _;return e.source=this,e}}return e.create=(e,t)=>new E(e,t),e})();class E extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function P(e){return e&&\"function\"==typeof e.schedule}class I extends m{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const D=e=>t=>{for(let r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.closed||t.complete()},O=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);function M(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}const A=M(),L=e=>t=>{const r=e[A]();for(;;){const e=r.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return\"function\"==typeof r.return&&t.add(()=>{r.return&&r.return()}),t},j=e=>t=>{const r=e[y]();if(\"function\"!=typeof r.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return r.subscribe(t)},N=e=>e&&\"number\"==typeof e.length&&\"function\"!=typeof e;function F(e){return!!e&&\"function\"!=typeof e.subscribe&&\"function\"==typeof e.then}const B=e=>{if(e instanceof _)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&\"function\"==typeof e[y])return j(e);if(N(e))return D(e);if(F(e))return O(e);if(e&&\"function\"==typeof e[A])return L(e);{const t=l(e)?\"an invalid object\":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};function U(e,t,r,n,s=new I(e,r,n)){if(!s.closed)return B(t)(s)}class V extends m{notifyNext(e,t,r,n,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function z(e,t){return function(r){if(\"function\"!=typeof e)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return r.lift(new H(e,t))}}class H{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new $(e,this.project,this.thisArg))}}class $ extends m{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}function q(e,t){return new _(t?r=>{const n=new h;let s=0;return n.add(t.schedule((function(){s!==e.length?(r.next(e[s++]),r.closed||n.add(this.schedule())):r.complete()}))),n}:D(e))}function G(e,t){if(!t)return e instanceof _?e:new _(B(e));if(null!=e){if(function(e){return e&&\"function\"==typeof e[y]}(e))return function(e,t){return new _(t?r=>{const n=new h;return n.add(t.schedule(()=>{const s=e[y]();n.add(s.subscribe({next(e){n.add(t.schedule(()=>r.next(e)))},error(e){n.add(t.schedule(()=>r.error(e)))},complete(){n.add(t.schedule(()=>r.complete()))}}))})),n}:j(e))}(e,t);if(F(e))return function(e,t){return new _(t?r=>{const n=new h;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{r.next(e),n.add(t.schedule(()=>r.complete()))}))},e=>{n.add(t.schedule(()=>r.error(e)))}))),n}:O(e))}(e,t);if(N(e))return q(e,t);if(function(e){return e&&\"function\"==typeof e[A]}(e)||\"string\"==typeof e)return function(e,t){if(!e)throw new Error(\"Iterable cannot be null\");return new _(t?r=>{const n=new h;let s;return n.add(()=>{s&&\"function\"==typeof s.return&&s.return()}),n.add(t.schedule(()=>{s=e[A](),n.add(t.schedule((function(){if(r.closed)return;let e,t;try{const r=s.next();e=r.value,t=r.done}catch(n){return void r.error(n)}t?r.complete():(r.next(e),this.schedule())})))})),n}:L(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+\" is not observable\")}function W(e,t,r=Number.POSITIVE_INFINITY){return\"function\"==typeof t?n=>n.pipe(W((r,n)=>G(e(r,n)).pipe(z((e,s)=>t(r,e,n,s))),r)):(\"number\"==typeof t&&(r=t),t=>t.lift(new K(e,r)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))}}class Q extends V{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,r)}_innerSub(e,t,r){const n=new I(this,void 0,void 0);this.destination.add(n),U(this,e,t,r,n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,r,n,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(e){return e}function Y(e=Number.POSITIVE_INFINITY){return W(Z,e)}function J(){return function(e){return e.lift(new X(e))}}class X{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const n=new ee(e,r),s=t.subscribe(n);return n.closed||(n.connection=r.connect()),s}}class ee extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}const te=class extends _{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new ne(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e}refCount(){return J()(this)}}.prototype,re={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}};class ne extends T{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function se(){return new k}function ie(){return e=>{return J()((t=se,function(e){let r;r=\"function\"==typeof t?t:function(){return t};const n=Object.create(e,re);return n.source=e,n.subjectFactory=r,n})(e));var t}}function oe(e,t,r){const n=function(e){return function(...t){if(e){const r=e(...t);for(const e in r)this[e]=r[e]}}}(t);function s(...e){if(this instanceof s)return n.apply(this,e),this;const t=new s(...e);return r.annotation=t,r;function r(e,r,n){const s=e.hasOwnProperty(\"__parameters__\")?e.__parameters__:Object.defineProperty(e,\"__parameters__\",{value:[]}).__parameters__;for(;s.length<=n;)s.push(null);return(s[n]=s[n]||[]).push(t),e}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const ae=oe(\"Inject\",e=>({token:e})),ce=oe(\"Optional\"),le=oe(\"Self\"),de=oe(\"SkipSelf\");var ue=function(e){return e[e.Default=0]=\"Default\",e[e.Host=1]=\"Host\",e[e.Self=2]=\"Self\",e[e.SkipSelf=4]=\"SkipSelf\",e[e.Optional=8]=\"Optional\",e}({});function he(e){for(let t in e)if(e[t]===he)return t;throw Error(\"Could not find renamed property on target object.\")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){const t=e[me];return t&&t.token===e?t:null}const me=he({ngInjectableDef:he});function ge(e){if(\"string\"==typeof e)return e;if(e instanceof Array)return\"[\"+e.map(ge).join(\", \")+\"]\";if(null==e)return\"\"+e;if(e.overriddenName)return\"\"+e.overriddenName;if(e.name)return\"\"+e.name;const t=e.toString();if(null==t)return\"\"+t;const r=t.indexOf(\"\\n\");return-1===r?t:t.substring(0,r)}const ye=he({__forward_ref__:he});function ve(e){return e.__forward_ref__=ve,e.toString=function(){return ge(this())},e}function we(e){const t=e;return\"function\"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===ve?t():e}const be=\"undefined\"!=typeof globalThis&&globalThis,_e=\"undefined\"!=typeof window&&window,Se=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=\"undefined\"!=typeof global&&global,Re=be||Ce||_e||Se;class xe{constructor(e,t){this._desc=e,this.ngMetadataName=\"InjectionToken\",this.ngInjectableDef=void 0,\"number\"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=pe({token:this,providedIn:t.providedIn||\"root\",factory:t.factory}))}toString(){return\"InjectionToken \"+this._desc}}const Te=new xe(\"INJECTOR\",-1),ke=new Object,Ee=/\\n/gm,Pe=he({provide:String,useValue:he});let Ie=void 0;function De(e){const t=Ie;return Ie=e,t}function Oe(e,t=ue.Default){return function(e,t=ue.Default){if(void 0===Ie)throw new Error(\"inject() must be called from an injection context\");return null===Ie?function(e,t,r){const n=fe(e);if(n&&\"root\"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(r&ue.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ge(e)}]`)}(e,0,t):Ie.get(e,t&ue.Optional?null:void 0,t)}(e,t)}class Me{get(e,t=ke){if(t===ke){const t=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw t.name=\"NullInjectorError\",t}return t}}function Ae(e,t,r,n=null){e=e&&\"\\n\"===e.charAt(0)&&\"\\u0275\"==e.charAt(1)?e.substr(2):e;let s=ge(t);if(t instanceof Array)s=t.map(ge).join(\" -> \");else if(\"object\"==typeof t){let e=[];for(let r in t)if(t.hasOwnProperty(r)){let n=t[r];e.push(r+\":\"+(\"string\"==typeof n?JSON.stringify(n):ge(n)))}s=`{${e.join(\", \")}}`}return`${r}${n?\"(\"+n+\")\":\"\"}[${s}]: ${e.replace(Ee,\"\\n  \")}`}class Le{}class je{}function Ne(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Fe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Be=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]=\"Emulated\",e[e.Native]=\"Native\",e[e.None]=\"None\",e[e.ShadowDom]=\"ShadowDom\",e}(),Ue=(()=>(\"undefined\"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function Ve(e){return e.ngDebugContext}function ze(e){return e.ngOriginalError}function He(e,...t){e.error(...t)}class $e{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),n=function(e){return e.ngErrorLogger||He}(e);n(this._console,\"ERROR\",e),t&&n(this._console,\"ORIGINAL ERROR\",t),r&&n(this._console,\"ERROR CONTEXT\",r)}_findContext(e){return e?Ve(e)?Ve(e):this._findContext(ze(e)):null}_findOriginalError(e){let t=ze(e);for(;t&&ze(t);)t=ze(t);return t}}let qe=!0,Ge=!1;function We(){return Ge=!0,qe}class Ke{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument(\"sanitization-inert\"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement(\"html\");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement(\"body\"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector(\"svg\")?(this.inertBodyElement.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector(\"svg img\")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e=\"<body><remove></remove>\"+e+\"</body>\";try{e=encodeURI(e)}catch(n){return null}const t=new XMLHttpRequest;t.responseType=\"document\",t.open(\"GET\",\"data:text/html;charset=utf-8,\"+e,!1),t.send(void 0);const r=t.response.body;return r.removeChild(r.firstChild),r}getInertBodyElement_DOMParser(e){e=\"<body><remove></remove>\"+e+\"</body>\";try{const t=(new window.DOMParser).parseFromString(e,\"text/html\").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement(\"template\");return\"content\"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const r=t.item(n).name;\"xmlns:ns1\"!==r&&0!==r.indexOf(\"ns1:\")||e.removeAttribute(r)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Qe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ze=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;function Ye(e){return(e=String(e)).match(Qe)||e.match(Ze)?e:(We()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),\"unsafe:\"+e)}function Je(e){const t={};for(const r of e.split(\",\"))t[r]=!0;return t}function Xe(...e){const t={};for(const r of e)for(const e in r)r.hasOwnProperty(e)&&(t[e]=!0);return t}const et=Je(\"area,br,col,hr,img,wbr\"),tt=Je(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),rt=Je(\"rp,rt\"),nt=Xe(rt,tt),st=Xe(et,Xe(tt,Je(\"address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul\")),Xe(rt,Je(\"a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video\")),nt),it=Je(\"background,cite,href,itemtype,longdesc,poster,src,xlink:href\"),ot=Je(\"srcset\"),at=Xe(it,ot,Je(\"abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width\"),Je(\"aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext\")),ct=Je(\"script,style,template\");class lt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join(\"\")}startElement(e){const t=e.nodeName.toLowerCase();if(!st.hasOwnProperty(t))return this.sanitizedSomething=!0,!ct.hasOwnProperty(t);this.buf.push(\"<\"),this.buf.push(t);const r=e.attributes;for(let s=0;s<r.length;s++){const e=r.item(s),t=e.name,i=t.toLowerCase();if(!at.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;it[i]&&(o=Ye(o)),ot[i]&&(n=o,o=(n=String(n)).split(\",\").map(e=>Ye(e.trim())).join(\", \")),this.buf.push(\" \",t,'=\"',ht(o),'\"')}var n;return this.buf.push(\">\"),!0}endElement(e){const t=e.nodeName.toLowerCase();st.hasOwnProperty(t)&&!et.hasOwnProperty(t)&&(this.buf.push(\"</\"),this.buf.push(t),this.buf.push(\">\"))}chars(e){this.buf.push(ht(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(\"Failed to sanitize html because the element is clobbered: \"+e.outerHTML);return t}}const dt=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,ut=/([^\\#-~ |!])/g;function ht(e){return e.replace(/&/g,\"&amp;\").replace(dt,(function(e){return\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\"})).replace(ut,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"})).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}let pt;function ft(e){return\"content\"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&\"TEMPLATE\"===e.nodeName}(e)?e.content:null}const mt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]=\"NONE\",e[e.HTML]=\"HTML\",e[e.STYLE]=\"STYLE\",e[e.SCRIPT]=\"SCRIPT\",e[e.URL]=\"URL\",e[e.RESOURCE_URL]=\"RESOURCE_URL\",e}();class gt{}const yt=new RegExp(\"^([-,.\\\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\\\([-0-9.%, #a-zA-Z]+\\\\))$\",\"g\"),vt=/^url\\(([^)]+)\\)$/;function wt(e){return\"ng-reflect-\"+e.replace(/[$@]/g,\"_\").replace(bt,(...e)=>\"-\"+e[1].toLowerCase())}const bt=/([A-Z])/g;function _t(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return\"[ERROR] Exception while trying to serialize the value\"}}let St=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ct(),e})();const Ct=(...e)=>{},Rt=new xe(\"The presence of this token marks an injector as being the root injector.\"),xt=function(e,t,r){return new Dt(e,t,r)};let Tt=(()=>{class e{static create(e,t){return Array.isArray(e)?xt(e,t,\"\"):xt(e.providers,e.parent,e.name||\"\")}}return e.THROW_IF_NOT_FOUND=ke,e.NULL=new Me,e.ngInjectableDef=pe({token:e,providedIn:\"any\",factory:()=>Oe(Te)}),e.__NG_ELEMENT_ID__=-1,e})();const kt=function(e){return e},Et=[],Pt=kt,It=function(){return Array.prototype.slice.call(arguments)};class Dt{constructor(e,t=Tt.NULL,r=null){this.parent=t,this.source=r;const n=this._records=new Map;n.set(Tt,{token:Tt,fn:kt,deps:Et,value:this,useNew:!1}),n.set(Te,{token:Te,fn:kt,deps:Et,value:this,useNew:!1}),function e(t,r){if(r)if((r=we(r))instanceof Array)for(let n=0;n<r.length;n++)e(t,r[n]);else{if(\"function\"==typeof r)throw Mt(\"Function/Class not supported\",r);if(!r||\"object\"!=typeof r||!r.provide)throw Mt(\"Unexpected provider\",r);{let e=we(r.provide);const n=function(e){const t=function(e){let t=Et;const r=e.deps;if(r&&r.length){t=[];for(let e=0;e<r.length;e++){let n=6,s=we(r[e]);if(s instanceof Array)for(let e=0,t=s;e<t.length;e++){const r=t[e];r instanceof ce||r==ce?n|=1:r instanceof de||r==de?n&=-3:r instanceof le||r==le?n&=-5:s=r instanceof ae?r.token:we(r)}t.push({token:s,options:n})}}else if(e.useExisting)t=[{token:we(e.useExisting),options:6}];else if(!r&&!(Pe in e))throw Mt(\"'deps' required\",e);return t}(e);let r=kt,n=Et,s=!1,i=we(e.provide);if(Pe in e)n=e.useValue;else if(e.useFactory)r=e.useFactory;else if(e.useExisting);else if(e.useClass)s=!0,r=we(e.useClass);else{if(\"function\"!=typeof i)throw Mt(\"StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable\",e);s=!0,r=i}return{deps:t,fn:r,useNew:s,value:n}}(r);if(!0===r.multi){let n=t.get(e);if(n){if(n.fn!==It)throw Ot(e)}else t.set(e,n={token:r.provide,deps:[],useNew:!1,fn:It,value:Et});e=r,n.deps.push({token:e,options:6})}const s=t.get(e);if(s&&s.fn==It)throw Ot(e);t.set(e,n)}}}(n,e)}get(e,t,r=ue.Default){const n=this._records.get(e);try{return function e(t,r,n,s,i,o){try{return function(t,r,n,s,i,o){let a;if(!r||o&ue.SkipSelf)o&ue.Self||(a=s.get(t,i,ue.Default));else{if(a=r.value,a==Pt)throw Error(\"\\u0275Circular dependency\");if(a===Et){r.value=Pt;let t=void 0,i=r.useNew,o=r.fn,c=r.deps,l=Et;if(c.length){l=[];for(let t=0;t<c.length;t++){const r=c[t],i=r.options,o=2&i?n.get(r.token):void 0;l.push(e(r.token,o,n,o||4&i?s:Tt.NULL,1&i?null:Tt.THROW_IF_NOT_FOUND,ue.Default))}}r.value=a=i?new o(...l):o.apply(t,l)}}return a}(t,r,n,s,i,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(t),r&&r.value==Pt&&(r.value=Et),a}}(e,n,this._records,this.parent,t,r)}catch(s){return function(e,t,r,n){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=Ae(\"\\n\"+e.message,s,\"StaticInjectorError\",n),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(s,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,r)=>e.push(ge(r))),`StaticInjector[${e.join(\", \")}]`}}function Ot(e){return Mt(\"Cannot mix multi providers and regular providers\",e)}function Mt(e,t){return new Error(Ae(e,t,\"StaticInjectorError\"))}const At=new xe(\"AnalyzeForEntryComponents\");let Lt=null;function jt(){if(!Lt){const e=Re.Symbol;if(e&&e.iterator)Lt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];\"entries\"!==r&&\"size\"!==r&&Map.prototype[r]===Map.prototype.entries&&(Lt=r)}}}return Lt}function Nt(e,t){return e===t||\"number\"==typeof e&&\"number\"==typeof t&&isNaN(e)&&isNaN(t)}function Ft(e,t){const r=Ut(e),n=Ut(t);if(r&&n)return function(e,t,r){const n=e[jt()](),s=t[jt()]();for(;;){const e=n.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!r(e.value,t.value))return!1}}(e,t,Ft);{const s=e&&(\"object\"==typeof e||\"function\"==typeof e),i=t&&(\"object\"==typeof t||\"function\"==typeof t);return!(r||!s||n||!i)||Nt(e,t)}}class Bt{constructor(e){this.wrapped=e}static wrap(e){return new Bt(e)}static unwrap(e){return Bt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Bt}}function Ut(e){return!!Vt(e)&&(Array.isArray(e)||!(e instanceof Map)&&jt()in e)}function Vt(e){return null!==e&&(\"function\"==typeof e||\"object\"==typeof e)}function zt(e){return!!e&&\"function\"==typeof e.then}function Ht(e){return!!e&&\"function\"==typeof e.subscribe}class $t{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}class qt{}function Gt(e){const t=Error(`No component factory found for ${ge(e)}. Did you add it to @NgModule.entryComponents?`);return t[Wt]=e,t}const Wt=\"ngComponent\";class Kt{resolveComponentFactory(e){throw Gt(e)}}let Qt=(()=>{class e{}return e.NULL=new Kt,e})();class Zt{constructor(e,t,r){this._parent=t,this._ngModule=r,this._factories=new Map;for(let n=0;n<e.length;n++){const t=e[n];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Gt(e);return new Yt(t,this._ngModule)}}class Yt extends qt{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,r,n){return this.factory.create(e,t,r,n||this.ngModule)}}function Jt(...e){}let Xt=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>er(e),e})();const er=Jt;class tr{}class rr{}const nr=function(){var e={Important:1,DashCase:2};return e[e.Important]=\"Important\",e[e.DashCase]=\"DashCase\",e}();let sr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ir(),e})();const ir=Jt;class or{constructor(e){this.full=e,this.major=e.split(\".\")[0],this.minor=e.split(\".\")[1],this.patch=e.split(\".\").slice(2).join(\".\")}}const ar=new or(\"8.2.14\");class cr{constructor(){}supports(e){return Ut(e)}create(e){return new dr(e)}}const lr=(e,t)=>t;class dr{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lr}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,n=0,s=null;for(;t||r;){const i=!r||t&&t.currentIndex<fr(r,n,s)?t:r,o=fr(i,n,s),a=i.currentIndex;if(i===r)n--,r=r._nextRemoved;else if(t=t._next,null==i.previousIndex)n++;else{s||(s=[]);const e=o-n,t=a-n;if(e!=t){for(let r=0;r<e;r++){const n=r<s.length?s[r]:s[r]=0,i=n+r;t<=i&&i<e&&(s[r]=n+1)}s[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ut(e))throw new Error(`Error trying to diff '${ge(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,r,n,s=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=e[t],n=this._trackByFn(t,r),null!==s&&Nt(s.trackById,n)?(i&&(s=this._verifyReinsertion(s,r,n,t)),Nt(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,n,t),i=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[jt()]();let n;for(;!(n=r.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==s&&Nt(s.trackById,n)?(i&&(s=this._verifyReinsertion(s,e,n,t)),Nt(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,n,t),i=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,n){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,n))?(Nt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Nt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,n)):e=this._addAfter(new ur(t,r),s,n),e}_verifyReinsertion(e,t,r,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,s=e._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new pr),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pr),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ur{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hr{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Nt(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class pr{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new hr,this.map.set(t,r)),r.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fr(e,t,r){const n=e.previousIndex;if(null===n)return n;let s=0;return r&&n<r.length&&(s=r[n]),n+t+s}class mr{constructor(){}supports(e){return e instanceof Map||Vt(e)}create(){return new gr}}class gr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Vt(e)))throw new Error(`Error trying to diff '${ge(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(r,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const n=r._prev,s=r._next;return n&&(n._next=s),s&&(s._prev=n),r._next=null,r._prev=null,r}const r=new yr(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Nt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class yr{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let vr=(()=>{class e{constructor(e){this.factories=e}static create(t,r){if(null!=r){const e=r.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>{if(!r)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return e.create(t,r)},deps:[[e,new de,new ce]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${r=e,r.name||typeof r}'`);var r}}return e.ngInjectableDef=pe({token:e,providedIn:\"root\",factory:()=>new e([new cr])}),e})(),wr=(()=>{class e{constructor(e){this.factories=e}static create(t,r){if(r){const e=r.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>{if(!r)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return e.create(t,r)},deps:[[e,new de,new ce]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=pe({token:e,providedIn:\"root\",factory:()=>new e([new mr])}),e})();const br=[new mr],_r=new vr([new cr]),Sr=new wr(br);let Cr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Rr(e,Xt),e})();const Rr=Jt;let xr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Tr(e,Xt),e})();const Tr=Jt;function kr(e,t,r,n){let s=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${r}'.`;return n&&(s+=\" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?\"),function(e,t){const r=new Error(e);return Er(r,t),r}(s,e)}function Er(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Pr(e){return new Error(\"ViewDestroyedError: Attempt to use a destroyed view: \"+e)}function Ir(e,t,r){const n=e.state,s=1792&n;return s===t?(e.state=-1793&n|r,e.initIndex=-1,!0):s===r}function Dr(e,t,r){return(1792&e.state)===t&&e.initIndex<=r&&(e.initIndex=r+1,!0)}function Or(e,t){return e.nodes[t]}function Mr(e,t){return e.nodes[t]}function Ar(e,t){return e.nodes[t]}function Lr(e,t){return e.nodes[t]}function jr(e,t){return e.nodes[t]}const Nr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Fr=()=>{},Br=new Map;function Ur(e){let t=Br.get(e);return t||(t=ge(e)+\"_\"+Br.size,Br.set(e,t)),t}function Vr(e){return{id:\"$$undefined\",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let zr=0;function Hr(e,t,r,n){return!(!(2&e.state)&&Nt(e.oldValues[t.bindingIndex+r],n))}function $r(e,t,r,n){return!!Hr(e,t,r,n)&&(e.oldValues[t.bindingIndex+r]=n,!0)}function qr(e,t,r,n){const s=e.oldValues[t.bindingIndex+r];if(1&e.state||!Ft(s,n)){const i=t.bindings[r].name;throw kr(Nr.createDebugContext(e,t.nodeIndex),`${i}: ${s}`,`${i}: ${n}`,0!=(1&e.state))}}function Gr(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Wr(e,t){let r=e;for(;r&&r!==t;)r.state|=64,r=r.viewContainerParent||r.parent}function Kr(e,t,r,n){try{return Gr(33554432&e.def.nodes[t].flags?Mr(e,t).componentView:e),Nr.handleEvent(e,t,r,n)}catch(s){e.root.errorHandler.handleError(s)}}function Qr(e){return e.parent?Mr(e.parent,e.parentNodeDef.nodeIndex):null}function Zr(e){return e.parent?e.parentNodeDef.parent:null}function Yr(e,t){switch(201347067&t.flags){case 1:return Mr(e,t.nodeIndex).renderElement;case 2:return Or(e,t.nodeIndex).renderText}}function Jr(e,t){return e?`${e}:${t}`:t}function Xr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function en(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function tn(e){const t={};let r=0;const n={};return e&&e.forEach(([e,s])=>{\"number\"==typeof e?(t[e]=s,r|=function(e){return 1<<e%32}(e)):n[e]=s}),{matchedQueries:t,references:n,matchedQueryIds:r}}function rn(e,t){return e.map(e=>{let r,n;return Array.isArray(e)?[n,r]=e:(n=0,r=e),r&&(\"function\"==typeof r||\"object\"==typeof r)&&t&&Object.defineProperty(r,\"__source\",{value:t,configurable:!0}),{flags:n,token:r,tokenKey:Ur(r)}})}function nn(e,t,r){let n=r.renderParent;return n?0==(1&n.flags)||0==(33554432&n.flags)||n.element.componentRendererType&&n.element.componentRendererType.encapsulation===Be.Native?Mr(e,r.renderParent.nodeIndex).renderElement:void 0:t}const sn=new WeakMap;function on(e){let t=sn.get(e);return t||(t=e(()=>Fr),t.factory=e,sn.set(e,t)),t}function an(e,t,r,n,s){3===t&&(r=e.renderer.parentNode(Yr(e,e.def.lastRenderRootNode))),cn(e,t,0,e.def.nodes.length-1,r,n,s)}function cn(e,t,r,n,s,i,o){for(let a=r;a<=n;a++){const r=e.def.nodes[a];11&r.flags&&dn(e,r,t,s,i,o),a+=r.childCount}}function ln(e,t,r,n,s,i){let o=e;for(;o&&!Xr(o);)o=o.parent;const a=o.parent,c=Zr(o),l=c.nodeIndex+c.childCount;for(let d=c.nodeIndex+1;d<=l;d++){const e=a.def.nodes[d];e.ngContentIndex===t&&dn(a,e,r,n,s,i),d+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)un(e,o[t],r,n,s,i)}}function dn(e,t,r,n,s,i){if(8&t.flags)ln(e,t.ngContent.index,r,n,s,i);else{const o=Yr(e,t);if(3===r&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&un(e,o,r,n,s,i),32&t.bindingFlags&&un(Mr(e,t.nodeIndex).componentView,o,r,n,s,i)):un(e,o,r,n,s,i),16777216&t.flags){const o=Mr(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)an(o[e],r,n,s,i)}1&t.flags&&!t.element.name&&cn(e,r,t.nodeIndex+1,t.nodeIndex+t.childCount,n,s,i)}}function un(e,t,r,n,s,i){const o=e.renderer;switch(r){case 1:o.appendChild(n,t);break;case 2:o.insertBefore(n,t,s);break;case 3:o.removeChild(n,t);break;case 0:i.push(t)}}const hn=/^:([^:]+):(.+)$/;function pn(e){if(\":\"===e[0]){const t=e.match(hn);return[t[1],t[2]]}return[\"\",e]}function fn(e){let t=0;for(let r=0;r<e.length;r++)t|=e[r].flags;return t}const mn=new Object,gn=Ur(Tt),yn=Ur(Te),vn=Ur(Le);function wn(e,t,r,n){return r=we(r),{index:-1,deps:rn(n,ge(t)),flags:e,token:t,value:r}}function bn(e,t,r=Tt.THROW_IF_NOT_FOUND){const n=De(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(r=null),1&t.flags)return e._parent.get(t.token,r);const o=t.tokenKey;switch(o){case gn:case yn:case vn:return e}const a=e._def.providersByKey[o];let c;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=_n(e,a)),t===mn?void 0:t}if((c=fe(t.token))&&(s=e,null!=(i=c).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(s,i.providedIn)||\"root\"===i.providedIn&&s._def.isRoot))){const r=e._providers.length;return e._def.providers[r]=e._def.providersByKey[t.tokenKey]={flags:5120,value:c.factory,deps:[],index:r,token:t.token},e._providers[r]=mn,e._providers[r]=_n(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?r:e._parent.get(t.token,r)}finally{De(n)}var s,i}function _n(e,t){let r;switch(201347067&t.flags){case 512:r=function(e,t,r){const n=r.length;switch(n){case 0:return new t;case 1:return new t(bn(e,r[0]));case 2:return new t(bn(e,r[0]),bn(e,r[1]));case 3:return new t(bn(e,r[0]),bn(e,r[1]),bn(e,r[2]));default:const s=new Array(n);for(let t=0;t<n;t++)s[t]=bn(e,r[t]);return new t(...s)}}(e,t.value,t.deps);break;case 1024:r=function(e,t,r){const n=r.length;switch(n){case 0:return t();case 1:return t(bn(e,r[0]));case 2:return t(bn(e,r[0]),bn(e,r[1]));case 3:return t(bn(e,r[0]),bn(e,r[1]),bn(e,r[2]));default:const s=Array(n);for(let t=0;t<n;t++)s[t]=bn(e,r[t]);return t(...s)}}(e,t.value,t.deps);break;case 2048:r=bn(e,t.deps[0]);break;case 256:r=t.value}return r===mn||null===r||\"object\"!=typeof r||131072&t.flags||\"function\"!=typeof r.ngOnDestroy||(t.flags|=131072),void 0===r?mn:r}function Sn(e,t){const r=e.viewContainer._embeddedViews;if((null==t||t>=r.length)&&(t=r.length-1),t<0)return null;const n=r[t];return n.viewContainerParent=null,Fe(r,t),Nr.dirtyParentQueries(n),Rn(n),n}function Cn(e,t,r){const n=t?Yr(t,t.def.lastRenderRootNode):e.renderElement,s=r.renderer.parentNode(n),i=r.renderer.nextSibling(n);an(r,2,s,i,void 0)}function Rn(e){an(e,3,null,null,void 0)}const xn=new Object;function Tn(e,t,r,n,s,i){return new kn(e,t,r,n,s,i)}class kn extends qt{constructor(e,t,r,n,s,i){super(),this.selector=e,this.componentType=t,this._inputs=n,this._outputs=s,this.ngContentSelectors=i,this.viewDefFactory=r}get inputs(){const e=[],t=this._inputs;for(let r in t)e.push({propName:r,templateName:t[r]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,r,n){if(!n)throw new Error(\"ngModule should be provided\");const s=on(this.viewDefFactory),i=s.nodes[0].element.componentProvider.nodeIndex,o=Nr.createRootView(e,t||[],r,s,n,xn),a=Ar(o,i).instance;return r&&o.renderer.setAttribute(Mr(o,0).renderElement,\"ng-version\",ar.full),new En(o,new On(o),a)}}class En extends class{}{constructor(e,t,r){super(),this._view=e,this._viewRef=t,this._component=r,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=r}get location(){return new Xt(Mr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new jn(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Pn(e,t,r){return new In(e,t,r)}class In{constructor(e,t,r){this._view=e,this._elDef=t,this._data=r,this._embeddedViews=[]}get element(){return new Xt(this._data.renderElement)}get injector(){return new jn(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Zr(e),e=e.parent;return e?new jn(e,t):new jn(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Sn(this._data,e);Nr.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new On(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,r){const n=e.createEmbeddedView(t||{});return this.insert(n,r),n}createComponent(e,t,r,n,s){const i=r||this.parentInjector;s||e instanceof Yt||(s=i.get(Le));const o=e.create(i,n,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");const r=e;return function(e,t,r,n){let s=t.viewContainer._embeddedViews;null==r&&(r=s.length),n.viewContainerParent=e,Ne(s,r,n),function(e,t){const r=Qr(t);if(!r||r===e||16&t.state)return;t.state|=16;let n=r.template._projectedViews;n||(n=r.template._projectedViews=[]),n.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let r=t.parent;for(;r;)r.childFlags|=4,r=r.parent}(t.parent.def,t.parentNodeDef)}(t,n),Nr.dirtyParentQueries(n),Cn(t,r>0?s[r-1]:null,n)}(this._view,this._data,t,r._view),r.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");const r=this._embeddedViews.indexOf(e._view);return function(e,t,r){const n=e.viewContainer._embeddedViews,s=n[t];Fe(n,t),null==r&&(r=n.length),Ne(n,r,s),Nr.dirtyParentQueries(s),Rn(s),Cn(e,r>0?n[r-1]:null,s)}(this._data,r,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Sn(this._data,e);t&&Nr.destroyView(t)}detach(e){const t=Sn(this._data,e);return t?new On(t):null}}function Dn(e){return new On(e)}class On{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return an(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Gr(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Nr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Nr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Nr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Rn(this._view),Nr.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=e}}function Mn(e,t){return new An(e,t)}class An extends Cr{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new On(Nr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Xt(Mr(this._parentView,this._def.nodeIndex).renderElement)}}function Ln(e,t){return new jn(e,t)}class jn{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Tt.THROW_IF_NOT_FOUND){return Nr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Ur(e)},t)}}function Nn(e,t){const r=e.def.nodes[t];if(1&r.flags){const t=Mr(e,r.nodeIndex);return r.element.template?t.template:t.renderElement}if(2&r.flags)return Or(e,r.nodeIndex).renderText;if(20240&r.flags)return Ar(e,r.nodeIndex).instance;throw new Error(\"Illegal state: read nodeValue for node index \"+t)}function Fn(e){return new Bn(e.renderer)}class Bn{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[r,n]=pn(t),s=this.delegate.createElement(n,r);return e&&this.delegate.appendChild(e,s),s}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment(\"\");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const r=this.delegate.createText(t);return e&&this.delegate.appendChild(e,r),r}projectNodes(e,t){for(let r=0;r<t.length;r++)this.delegate.appendChild(e,t[r])}attachViewAfter(e,t){const r=this.delegate.parentNode(e),n=this.delegate.nextSibling(e);for(let s=0;s<t.length;s++)this.delegate.insertBefore(r,t[s],n)}detachView(e){for(let t=0;t<e.length;t++){const r=e[t],n=this.delegate.parentNode(r);this.delegate.removeChild(n,r)}}destroyView(e,t){for(let r=0;r<t.length;r++)this.delegate.destroyNode(t[r])}listen(e,t,r){return this.delegate.listen(e,t,r)}listenGlobal(e,t,r){return this.delegate.listen(e,t,r)}setElementProperty(e,t,r){this.delegate.setProperty(e,t,r)}setElementAttribute(e,t,r){const[n,s]=pn(t);null!=r?this.delegate.setAttribute(e,s,r,n):this.delegate.removeAttribute(e,s,n)}setBindingDebugInfo(e,t,r){}setElementClass(e,t,r){r?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,r){null!=r?this.delegate.setStyle(e,t,r):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,r){e[t].apply(e,r)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error(\"Renderer.animate is no longer supported!\")}}function Un(e,t,r,n){return new Vn(e,t,r,n)}class Vn{constructor(e,t,r,n){this._moduleType=e,this._parent=t,this._bootstrapComponents=r,this._def=n,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,r=e._providers=new Array(t.providers.length);for(let n=0;n<t.providers.length;n++){const s=t.providers[n];4096&s.flags||void 0===r[n]&&(r[n]=_n(e,s))}}(this)}get(e,t=Tt.THROW_IF_NOT_FOUND,r=ue.Default){let n=0;return r&ue.SkipSelf?n|=1:r&ue.Self&&(n|=4),bn(this,{token:e,tokenKey:Ur(e),flags:n},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Qt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ge(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const r=e._def,n=new Set;for(let s=0;s<r.providers.length;s++)if(131072&r.providers[s].flags){const t=e._providers[s];if(t&&t!==mn){const e=t.ngOnDestroy;\"function\"!=typeof e||n.has(t)||(e.apply(t),n.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const zn=Ur(tr),Hn=Ur(sr),$n=Ur(Xt),qn=Ur(xr),Gn=Ur(Cr),Wn=Ur(St),Kn=Ur(Tt),Qn=Ur(Te);function Zn(e,t,r,n,s,i,o,a){const c=[];if(o)for(let d in o){const[e,t]=o[d];c[e]={flags:8,name:d,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const l=[];if(a)for(let d in a)l.push({type:1,propName:d,target:null,eventName:a[d]});return function(e,t,r,n,s,i,o,a,c){const{matchedQueries:l,references:d,matchedQueryIds:u}=tn(r);c||(c=[]),a||(a=[]),i=we(i);const h=rn(o,ge(s));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:u,references:d,ngContentIndex:-1,childCount:n,bindings:a,bindingFlags:fn(a),outputs:c,element:null,provider:{token:s,value:i,deps:h},text:null,query:null,ngContent:null}}(e,t|=16384,r,n,s,s,i,c,l)}function Yn(e,t){return ts(e,t)}function Jn(e,t){let r=e;for(;r.parent&&!Xr(r);)r=r.parent;return rs(r.parent,Zr(r),!0,t.provider.value,t.provider.deps)}function Xn(e,t){const r=rs(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let n=0;n<t.outputs.length;n++){const s=t.outputs[n],i=r[s.propName];if(!Ht(i))throw new Error(`@Output ${s.propName} not initialized in '${r.constructor.name}'.`);{const r=i.subscribe(es(e,t.parent.nodeIndex,s.eventName));e.disposables[t.outputIndex+n]=r.unsubscribe.bind(r)}}return r}function es(e,t,r){return n=>Kr(e,t,r,n)}function ts(e,t){const r=(8192&t.flags)>0,n=t.provider;switch(201347067&t.flags){case 512:return rs(e,t.parent,r,n.value,n.deps);case 1024:return function(e,t,r,n,s){const i=s.length;switch(i){case 0:return n();case 1:return n(ss(e,t,r,s[0]));case 2:return n(ss(e,t,r,s[0]),ss(e,t,r,s[1]));case 3:return n(ss(e,t,r,s[0]),ss(e,t,r,s[1]),ss(e,t,r,s[2]));default:const o=Array(i);for(let n=0;n<i;n++)o[n]=ss(e,t,r,s[n]);return n(...o)}}(e,t.parent,r,n.value,n.deps);case 2048:return ss(e,t.parent,r,n.deps[0]);case 256:return n.value}}function rs(e,t,r,n,s){const i=s.length;switch(i){case 0:return new n;case 1:return new n(ss(e,t,r,s[0]));case 2:return new n(ss(e,t,r,s[0]),ss(e,t,r,s[1]));case 3:return new n(ss(e,t,r,s[0]),ss(e,t,r,s[1]),ss(e,t,r,s[2]));default:const o=new Array(i);for(let n=0;n<i;n++)o[n]=ss(e,t,r,s[n]);return new n(...o)}}const ns={};function ss(e,t,r,n,s=Tt.THROW_IF_NOT_FOUND){if(8&n.flags)return n.token;const i=e;2&n.flags&&(s=null);const o=n.tokenKey;o===Wn&&(r=!(!t||!t.element.componentView)),t&&1&n.flags&&(r=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case zn:return Fn(is(a,t,r));case Hn:return is(a,t,r).renderer;case $n:return new Xt(Mr(a,t.nodeIndex).renderElement);case qn:return Mr(a,t.nodeIndex).viewContainer;case Gn:if(t.element.template)return Mr(a,t.nodeIndex).template;break;case Wn:return Dn(is(a,t,r));case Kn:case Qn:return Ln(a,t);default:const e=(r?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=Ar(a,e.nodeIndex);return t||(t={instance:ts(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}r=Xr(a),t=Zr(a),a=a.parent,4&n.flags&&(a=null)}const c=i.root.injector.get(n.token,ns);return c!==ns||s===ns?c:i.root.ngModule.injector.get(n.token,s)}function is(e,t,r){let n;if(r)n=Mr(e,t.nodeIndex).componentView;else for(n=e;n.parent&&!Xr(n);)n=n.parent;return n}function os(e,t,r,n,s,i){if(32768&r.flags){const t=Mr(e,r.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[r.bindings[n].name]=s,524288&r.flags){i=i||{};const t=Bt.unwrap(e.oldValues[r.bindingIndex+n]);i[r.bindings[n].nonMinifiedName]=new $t(t,s,0!=(2&e.state))}return e.oldValues[r.bindingIndex+n]=s,i}function as(e,t){if(!(e.def.nodeFlags&t))return;const r=e.def.nodes;let n=0;for(let s=0;s<r.length;s++){const i=r[s];let o=i.parent;for(!o&&i.flags&t&&ls(e,s,i.flags&t,n++),0==(i.childFlags&t)&&(s+=i.childCount);o&&1&o.flags&&s===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(n=cs(e,o,t,n)),o=o.parent}}function cs(e,t,r,n){for(let s=t.nodeIndex+1;s<=t.nodeIndex+t.childCount;s++){const t=e.def.nodes[s];t.flags&r&&ls(e,s,t.flags&r,n++),s+=t.childCount}return n}function ls(e,t,r,n){const s=Ar(e,t);if(!s)return;const i=s.instance;i&&(Nr.setCurrentNode(e,t),1048576&r&&Dr(e,512,n)&&i.ngAfterContentInit(),2097152&r&&i.ngAfterContentChecked(),4194304&r&&Dr(e,768,n)&&i.ngAfterViewInit(),8388608&r&&i.ngAfterViewChecked(),131072&r&&i.ngOnDestroy())}const ds=new xe(\"SCHEDULER_TOKEN\",{providedIn:\"root\",factory:()=>Ue}),us={},hs=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]=\"LocaleId\",e[e.DayPeriodsFormat]=\"DayPeriodsFormat\",e[e.DayPeriodsStandalone]=\"DayPeriodsStandalone\",e[e.DaysFormat]=\"DaysFormat\",e[e.DaysStandalone]=\"DaysStandalone\",e[e.MonthsFormat]=\"MonthsFormat\",e[e.MonthsStandalone]=\"MonthsStandalone\",e[e.Eras]=\"Eras\",e[e.FirstDayOfWeek]=\"FirstDayOfWeek\",e[e.WeekendRange]=\"WeekendRange\",e[e.DateFormat]=\"DateFormat\",e[e.TimeFormat]=\"TimeFormat\",e[e.DateTimeFormat]=\"DateTimeFormat\",e[e.NumberSymbols]=\"NumberSymbols\",e[e.NumberFormats]=\"NumberFormats\",e[e.CurrencySymbol]=\"CurrencySymbol\",e[e.CurrencyName]=\"CurrencyName\",e[e.Currencies]=\"Currencies\",e[e.PluralCase]=\"PluralCase\",e[e.ExtraData]=\"ExtraData\",e}(),ps=void 0;var fs=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],ps],[[\"AM\",\"PM\"],ps,ps],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],ps,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],ps,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",ps,\"{1} 'at' {0}\",ps],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xd7\",\"\\u2030\",\"\\u221e\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xa4#,##0.00\",\"#E0\"],\"$\",\"US Dollar\",{},function(e){let t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===t&&0===r?1:5}];class ms extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let n,s=e=>null,i=()=>null;e&&\"object\"==typeof e?(n=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(n=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),r&&(i=this.__isAsync?()=>{setTimeout(()=>r())}:()=>{r()}));const o=super.subscribe(n,s,i);return e instanceof h&&e.add(o),o}}function gs(){return this._results[jt()]()}class ys{constructor(){this.dirty=!0,this._results=[],this.changes=new ms,this.length=0;const e=jt(),t=ys.prototype;t[e]||(t[e]=gs)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,r){void 0===r&&(r=t);for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?(r===t&&(r=t.slice(0,n)),e(s,r)):r!==t&&r.push(s)}return r}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const vs=new xe(\"Application Initializer\");class ws{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const t=this.appInits[r]();zt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const bs=new xe(\"AppId\");function _s(){return`${Ss()}${Ss()}${Ss()}`}function Ss(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cs=new xe(\"Platform Initializer\"),Rs=new xe(\"Platform ID\"),xs=new xe(\"appBootstrapListener\");class Ts{log(e){console.log(e)}warn(e){console.warn(e)}}const ks=new xe(\"LocaleId\");function Es(){throw new Error(\"Runtime compiler is not loaded\")}const Ps=Es,Is=Es,Ds=Es,Os=Es;class Ms{constructor(){this.compileModuleSync=Ps,this.compileModuleAsync=Is,this.compileModuleAndAllComponentsSync=Ds,this.compileModuleAndAllComponentsAsync=Os}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class As{}let Ls,js;function Ns(){const e=Re.wtf;return!(!e||(Ls=e.trace,!Ls)||(js=Ls.events,0))}const Fs=Ns();function Bs(e,t){return null}const Us=Fs?function(e,t=null){return js.createScope(e,t)}:(e,t)=>Bs,Vs=Fs?function(e,t){return Ls.leaveScope(e,t),t}:(e,t)=>t,zs=(()=>Promise.resolve(0))();function Hs(e){\"undefined\"==typeof Zone?zs.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",e)}class $s{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ms(!1),this.onMicrotaskEmpty=new ms(!1),this.onStable=new ms(!1),this.onError=new ms(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:\"angular\",properties:{isAngularZone:!0},onInvokeTask:(e,r,n,s,i,o)=>{try{return Ks(t),e.invokeTask(n,s,i,o)}finally{Qs(t)}},onInvoke:(e,r,n,s,i,o,a)=>{try{return Ks(t),e.invoke(n,s,i,o,a)}finally{Qs(t)}},onHasTask:(e,r,n,s)=>{e.hasTask(n,s),r===n&&(\"microTask\"==s.change?(t.hasPendingMicrotasks=s.microTask,Ws(t)):\"macroTask\"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,n,s)=>(e.handleError(n,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}static isInAngularZone(){return!0===Zone.current.get(\"isAngularZone\")}static assertInAngularZone(){if(!$s.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")}static assertNotInAngularZone(){if($s.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,n){const s=this._inner,i=s.scheduleEventTask(\"NgZoneEvent: \"+n,e,Gs,qs,qs);try{return s.runTask(i,t,r)}finally{s.cancelTask(i)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}function qs(){}const Gs={};function Ws(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ks(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Qs(e){e._nesting--,Ws(e)}class Zs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ms,this.onMicrotaskEmpty=new ms,this.onStable=new ms,this.onError=new ms}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Ys{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=\"undefined\"==typeof Zone?null:Zone.current.get(\"TaskTrackingZone\")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$s.assertNotInAngularZone(),Hs(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hs(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,r){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:r})}whenStable(e,t,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(e,t,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,r){return[]}}let Js=(()=>{class e{constructor(){this._applications=new Map,ti.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ti.findTestabilityInTree(this,e,t)}}return e.ctorParameters=()=>[],e})();class Xs{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let ei,ti=new Xs;const ri=new xe(\"AllowMultipleToken\");class ni{constructor(e,t){this.name=e,this.token=t}}function si(e,t,r=[]){const n=\"Platform: \"+t,s=new xe(n);return(t=[])=>{let i=ii();if(!i||i.injector.get(ri,!1))if(e)e(r.concat(t).concat({provide:s,useValue:!0}));else{const e=r.concat(t).concat({provide:s,useValue:!0});!function(e){if(ei&&!ei.destroyed&&!ei.injector.get(ri,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");ei=e.get(oi);const t=e.get(Cs,null);t&&t.forEach(e=>e())}(Tt.create({providers:e,name:n}))}return function(e){const t=ii();if(!t)throw new Error(\"No platform exists!\");if(!t.injector.get(e,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return t}(s)}}function ii(){return ei&&!ei.destroyed?ei:null}class oi{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const r=function(e){let t;return t=\"noop\"===e?new Zs:(\"zone.js\"===e?void 0:e)||new $s({enableLongStackTrace:We()}),t}(t?t.ngZone:void 0),n=[{provide:$s,useValue:r}];return r.run(()=>{const t=Tt.create({providers:n,parent:this.injector,name:e.moduleType.name}),s=e.create(t),i=s.injector.get($e,null);if(!i)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return s.onDestroy(()=>li(this._modules,s)),r.runOutsideAngular(()=>r.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,t,r){try{const n=r();return zt(n)?n.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(i,r,()=>{const e=s.injector.get(ws);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const r=ai({},t);return function(e,t,r){return e.get(As).createCompiler([t]).compileModuleAsync(r)}(this.injector,r,e).then(e=>this.bootstrapModuleFactory(e,r))}_moduleDoBootstrap(e){const t=e.injector.get(ci);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ge(e.instance.constructor)} was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ai(e,t){return Array.isArray(t)?t.reduce(ai,e):Object.assign({},e,t)}let ci=(()=>{class e{constructor(e,t,r,n,s,i){this._zone=e,this._console=t,this._injector=r,this._exceptionHandler=n,this._componentFactoryResolver=s,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=We(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new _(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{$s.assertNotInAngularZone(),Hs(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const r=this._zone.onUnstable.subscribe(()=>{$s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),r.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,r=null,n=e[e.length-1];return P(n)?(r=e.pop(),e.length>1&&\"number\"==typeof e[e.length-1]&&(t=e.pop())):\"number\"==typeof n&&(t=e.pop()),null===r&&1===e.length&&e[0]instanceof _?e[0]:Y(t)(q(e,r))}(o,a.pipe(ie()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");let r;r=e instanceof qt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const n=r instanceof Yt?null:this._injector.get(Le),s=r.create(Tt.NULL,[],t||r.selector,n);s.onDestroy(()=>{this._unloadComponent(s)});const i=s.injector.get(Ys,null);return i&&s.injector.get(Js).registerApplication(s.location.nativeElement,i),this._loadComponent(s),We()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),s}tick(){if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1,Vs(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;li(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(xs,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),li(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Us(\"ApplicationRef#tick()\"),e})();function li(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class di{}class ui{}const hi={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"};class pi{constructor(e,t){this._compiler=e,this._config=t||hi}load(e){return this._compiler instanceof Ms?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split(\"#\");return void 0===n&&(n=\"default\"),r(\"zn8P\")(t).then(e=>e[n]).then(e=>fi(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split(\"#\"),s=\"NgFactory\";return void 0===n&&(n=\"default\",s=\"\"),r(\"zn8P\")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+s]).then(e=>fi(e,t,n))}}function fi(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}class mi{constructor(e,t){this.name=e,this.callback=t}}class gi{constructor(e,t,r){this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,t&&t instanceof yi&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class yi extends gi{constructor(e,t,r){super(e,t,r),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const r=this.childNodes.indexOf(e);-1!==r&&(this.childNodes.splice(r+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const r=this.childNodes.indexOf(e);-1===r?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(r,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,r,n){t.childNodes.forEach(t=>{t instanceof yi&&(r(t)&&n.push(t),e(t,r,n))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,r,n){t instanceof yi&&t.childNodes.forEach(t=>{r(t)&&n.push(t),t instanceof yi&&e(t,r,n)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof yi)}triggerEventHandler(e,t){this.listeners.forEach(r=>{r.name==e&&r.callback(t)})}}const vi=new Map,wi=function(e){return vi.get(e)||null};function bi(e){vi.set(e.nativeNode,e)}const _i=si(null,\"core\",[{provide:Rs,useValue:\"unknown\"},{provide:oi,deps:[Tt]},{provide:Js,deps:[]},{provide:Ts,deps:[]}]);function Si(){return _r}function Ci(){return Sr}function Ri(e){return e||\"en-US\"}function xi(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Ti{constructor(e){}}function ki(e,t,r,n,s,i){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:c}=tn(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:c,references:a,ngContentIndex:r,childCount:n,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?on(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:s||Fr},provider:null,text:null,query:null,ngContent:null}}function Ei(e,t,r,n,s,i,o=[],a,c,l,d,u){l||(l=Fr);const{matchedQueries:h,references:p,matchedQueryIds:f}=tn(r);let m=null,g=null;i&&([m,g]=pn(i)),a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t,r]=a[b],[n,s]=pn(t);let i=void 0,o=void 0;switch(15&e){case 4:o=r;break;case 1:case 8:i=r}y[b]={flags:e,ns:n,name:s,nonMinifiedName:s,securityContext:i,suffix:o}}c=c||[];const v=new Array(c.length);for(let b=0;b<c.length;b++){const[e,t]=c[b];v[b]={type:0,target:e,eventName:t,propName:null}}const w=(o=o||[]).map(([e,t])=>{const[r,n]=pn(e);return[r,n,t]});return u=function(e){if(e&&\"$$undefined\"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==Be.None||e.styles.length||Object.keys(e.data).length;e.id=t?\"c\"+zr++:\"$$empty\"}return e&&\"$$empty\"===e.id&&(e=null),e||null}(u),d&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:f,references:p,ngContentIndex:n,childCount:s,bindings:y,bindingFlags:fn(y),outputs:v,element:{ns:m,name:g,attrs:w,template:null,componentProvider:null,componentView:d||null,componentRendererType:u,publicProviders:null,allProviders:null,handleEvent:l||Fr},provider:null,text:null,query:null,ngContent:null}}function Pi(e,t,r){const n=r.element,s=e.root.selectorOrNode,i=e.renderer;let o;if(e.parent||!s){o=n.name?i.createElement(n.name,n.ns):i.createComment(\"\");const s=nn(e,t,r);s&&i.appendChild(s,o)}else o=i.selectRootElement(s,!!n.componentRendererType&&n.componentRendererType.encapsulation===Be.ShadowDom);if(n.attrs)for(let a=0;a<n.attrs.length;a++){const[e,t,r]=n.attrs[a];i.setAttribute(o,t,r,e)}return o}function Ii(e,t,r,n){for(let s=0;s<r.outputs.length;s++){const i=r.outputs[s],o=Di(e,r.nodeIndex,Jr(i.target,i.eventName));let a=i.target,c=e;\"component\"===i.target&&(a=null,c=t);const l=c.renderer.listen(a||n,i.eventName,o);e.disposables[r.outputIndex+s]=l}}function Di(e,t,r){return n=>Kr(e,t,r,n)}function Oi(e,t,r,n){if(!$r(e,t,r,n))return!1;const s=t.bindings[r],i=Mr(e,t.nodeIndex),o=i.renderElement,a=s.name;switch(15&s.flags){case 1:!function(e,t,r,n,s,i){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,i):i;a=null!=a?a.toString():null;const c=e.renderer;null!=i?c.setAttribute(r,s,a,n):c.removeAttribute(r,s,n)}(e,s,o,s.ns,a,n);break;case 2:!function(e,t,r,n){const s=e.renderer;n?s.addClass(t,r):s.removeClass(t,r)}(e,o,a,n);break;case 4:!function(e,t,r,n,s){let i=e.root.sanitizer.sanitize(mt.STYLE,s);if(null!=i){i=i.toString();const e=t.suffix;null!=e&&(i+=e)}else i=null;const o=e.renderer;null!=i?o.setStyle(r,n,i):o.removeStyle(r,n)}(e,s,o,a,n);break;case 8:!function(e,t,r,n,s){const i=t.securityContext;let o=i?e.root.sanitizer.sanitize(i,s):s;e.renderer.setProperty(r,n,o)}(33554432&t.flags&&32&s.flags?i.componentView:e,s,o,a,n)}return!0}function Mi(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&en(e);){let r=e.parentNodeDef;e=e.parent;const n=r.nodeIndex+r.childCount;for(let s=0;s<=n;s++){const n=e.def.nodes[s];67108864&n.flags&&536870912&n.flags&&(n.query.filterId&t)===n.query.filterId&&jr(e,s).setDirty(),!(1&n.flags&&s+n.childCount<r.nodeIndex)&&67108864&n.childFlags&&536870912&n.childFlags||(s+=n.childCount)}}if(134217728&e.def.nodeFlags)for(let r=0;r<e.def.nodes.length;r++){const t=e.def.nodes[r];134217728&t.flags&&536870912&t.flags&&jr(e,r).setDirty(),r+=t.childCount}}function Ai(e,t){const r=jr(e,t.nodeIndex);if(!r.dirty)return;let n,s=void 0;if(67108864&t.flags){const r=t.parent.parent;s=Li(e,r.nodeIndex,r.nodeIndex+r.childCount,t.query,[]),n=Ar(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(s=Li(e,0,e.def.nodes.length-1,t.query,[]),n=e.component);r.reset(s);const i=t.query.bindings;let o=!1;for(let a=0;a<i.length;a++){const e=i[a];let t;switch(e.bindingType){case 0:t=r.first;break;case 1:t=r,o=!0}n[e.propName]=t}o&&r.notifyOnChanges()}function Li(e,t,r,n,s){for(let i=t;i<=r;i++){const t=e.def.nodes[i],r=t.matchedQueries[n.id];if(null!=r&&s.push(ji(e,t,r)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&n.filterId)===n.filterId){const r=Mr(e,i);if((t.childMatchedQueries&n.filterId)===n.filterId&&(Li(e,i+1,i+t.childCount,n,s),i+=t.childCount),16777216&t.flags){const e=r.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const i=e[t],o=Qr(i);o&&o===r&&Li(i,0,i.def.nodes.length-1,n,s)}}const o=r.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Li(t,0,t.def.nodes.length-1,n,s)}}(t.childMatchedQueries&n.filterId)!==n.filterId&&(i+=t.childCount)}return s}function ji(e,t,r){if(null!=r)switch(r){case 1:return Mr(e,t.nodeIndex).renderElement;case 0:return new Xt(Mr(e,t.nodeIndex).renderElement);case 2:return Mr(e,t.nodeIndex).template;case 3:return Mr(e,t.nodeIndex).viewContainer;case 4:return Ar(e,t.nodeIndex).instance}}function Ni(e,t,r){const n=nn(e,t,r);n&&ln(e,r.ngContent.index,1,n,null,void 0)}function Fi(e,t,r){const n=new Array(r.length-1);for(let s=1;s<r.length;s++)n[s-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:r[s]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:n,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:r[0]},query:null,ngContent:null}}function Bi(e,t,r){let n;const s=e.renderer;n=s.createText(r.text.prefix);const i=nn(e,t,r);return i&&s.appendChild(i,n),{renderText:n}}function Ui(e,t){return(null!=e?e.toString():\"\")+t.suffix}function Vi(e,t,r,n){let s=0,i=0,o=0,a=0,c=0,l=null,d=null,u=!1,h=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=l,e.bindingIndex=s,e.outputIndex=i,e.renderParent=d,o|=e.flags,c|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=l?l.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,u=!1,h=!1,e.element.template&&(c|=e.element.template.nodeMatchedQueries)}if(Hi(l,e,t.length),s+=e.bindings.length,i+=e.outputs.length,!d&&3&e.flags&&(p=e),20224&e.flags){u||(u=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?l.element.publicProviders[Ur(e.provider.token)]=e:(h||(h=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Ur(e.provider.token)]=e),t&&(l.element.componentProvider=e)}if(l?(l.childFlags|=e.flags,l.directChildFlags|=e.flags,l.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(l.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)l=e,zi(e)||(d=e);else for(;l&&f===l.nodeIndex+l.childCount;){const e=l.parent;e&&(e.childFlags|=l.childFlags,e.childMatchedQueries|=l.childMatchedQueries),l=e,d=l&&zi(l)?l.renderParent:l}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:c,flags:e,nodes:t,updateDirectives:r||Fr,updateRenderer:n||Fr,handleEvent:(e,r,n,s)=>t[r].element.handleEvent(e,n,s),bindingCount:s,outputCount:i,lastRenderRootNode:p}}function zi(e){return 0!=(1&e.flags)&&null===e.element.name}function Hi(e,t,r){const n=t.element&&t.element.template;if(n){if(!n.lastRenderRootNode)throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");if(n.lastRenderRootNode&&16777216&n.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const n=e?e.nodeIndex+e.childCount:r-1;if(t.nodeIndex<=n&&t.nodeIndex+t.childCount>n)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function $i(e,t,r,n){const s=Wi(e.root,e.renderer,e,t,r);return Ki(s,e.component,n),Qi(s),s}function qi(e,t,r){const n=Wi(e,e.renderer,null,null,t);return Ki(n,r,r),Qi(n),n}function Gi(e,t,r,n){const s=t.element.componentRendererType;let i;return i=s?e.root.rendererFactory.createRenderer(n,s):e.root.renderer,Wi(e.root,i,e,t.element.componentProvider,r)}function Wi(e,t,r,n,s){const i=new Array(s.nodes.length),o=s.outputCount?new Array(s.outputCount):null;return{def:s,parent:r,viewContainerParent:null,parentNodeDef:n,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(s.bindingCount),disposables:o,initIndex:-1}}function Ki(e,t,r){e.component=t,e.context=r}function Qi(e){let t;Xr(e)&&(t=Mr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const r=e.def,n=e.nodes;for(let s=0;s<r.nodes.length;s++){const i=r.nodes[s];let o;switch(Nr.setCurrentNode(e,s),201347067&i.flags){case 1:const r=Pi(e,t,i);let a=void 0;if(33554432&i.flags){const t=on(i.element.componentView);a=Nr.createComponentView(e,i,t,r)}Ii(e,a,i,r),o={renderElement:r,componentView:a,viewContainer:null,template:i.element.template?Mn(e,i):void 0},16777216&i.flags&&(o.viewContainer=Pn(e,i,o));break;case 2:o=Bi(e,t,i);break;case 512:case 1024:case 2048:case 256:o=n[s],o||4096&i.flags||(o={instance:Yn(e,i)});break;case 16:o={instance:Jn(e,i)};break;case 16384:o=n[s],o||(o={instance:Xn(e,i)}),32768&i.flags&&Ki(Mr(e,i.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ys;break;case 8:Ni(e,t,i),o=void 0}n[s]=o}so(e,no.CreateViewNodes),co(e,201326592,268435456,0)}function Zi(e){Xi(e),Nr.updateDirectives(e,1),io(e,no.CheckNoChanges),Nr.updateRenderer(e,1),so(e,no.CheckNoChanges),e.state&=-97}function Yi(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Ir(e,0,256),Xi(e),Nr.updateDirectives(e,0),io(e,no.CheckAndUpdate),co(e,67108864,536870912,0);let t=Ir(e,256,512);as(e,2097152|(t?1048576:0)),Nr.updateRenderer(e,0),so(e,no.CheckAndUpdate),co(e,134217728,536870912,0),t=Ir(e,512,768),as(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Ir(e,768,1024)}function Ji(e,t,r,n,s,i,o,a,c,l,d,u,h){return 0===r?function(e,t,r,n,s,i,o,a,c,l,d,u){switch(201347067&t.flags){case 1:return function(e,t,r,n,s,i,o,a,c,l,d,u){const h=t.bindings.length;let p=!1;return h>0&&Oi(e,t,0,r)&&(p=!0),h>1&&Oi(e,t,1,n)&&(p=!0),h>2&&Oi(e,t,2,s)&&(p=!0),h>3&&Oi(e,t,3,i)&&(p=!0),h>4&&Oi(e,t,4,o)&&(p=!0),h>5&&Oi(e,t,5,a)&&(p=!0),h>6&&Oi(e,t,6,c)&&(p=!0),h>7&&Oi(e,t,7,l)&&(p=!0),h>8&&Oi(e,t,8,d)&&(p=!0),h>9&&Oi(e,t,9,u)&&(p=!0),p}(e,t,r,n,s,i,o,a,c,l,d,u);case 2:return function(e,t,r,n,s,i,o,a,c,l,d,u){let h=!1;const p=t.bindings,f=p.length;if(f>0&&$r(e,t,0,r)&&(h=!0),f>1&&$r(e,t,1,n)&&(h=!0),f>2&&$r(e,t,2,s)&&(h=!0),f>3&&$r(e,t,3,i)&&(h=!0),f>4&&$r(e,t,4,o)&&(h=!0),f>5&&$r(e,t,5,a)&&(h=!0),f>6&&$r(e,t,6,c)&&(h=!0),f>7&&$r(e,t,7,l)&&(h=!0),f>8&&$r(e,t,8,d)&&(h=!0),f>9&&$r(e,t,9,u)&&(h=!0),h){let h=t.text.prefix;f>0&&(h+=Ui(r,p[0])),f>1&&(h+=Ui(n,p[1])),f>2&&(h+=Ui(s,p[2])),f>3&&(h+=Ui(i,p[3])),f>4&&(h+=Ui(o,p[4])),f>5&&(h+=Ui(a,p[5])),f>6&&(h+=Ui(c,p[6])),f>7&&(h+=Ui(l,p[7])),f>8&&(h+=Ui(d,p[8])),f>9&&(h+=Ui(u,p[9]));const m=Or(e,t.nodeIndex).renderText;e.renderer.setValue(m,h)}return h}(e,t,r,n,s,i,o,a,c,l,d,u);case 16384:return function(e,t,r,n,s,i,o,a,c,l,d,u){const h=Ar(e,t.nodeIndex),p=h.instance;let f=!1,m=void 0;const g=t.bindings.length;return g>0&&Hr(e,t,0,r)&&(f=!0,m=os(e,h,t,0,r,m)),g>1&&Hr(e,t,1,n)&&(f=!0,m=os(e,h,t,1,n,m)),g>2&&Hr(e,t,2,s)&&(f=!0,m=os(e,h,t,2,s,m)),g>3&&Hr(e,t,3,i)&&(f=!0,m=os(e,h,t,3,i,m)),g>4&&Hr(e,t,4,o)&&(f=!0,m=os(e,h,t,4,o,m)),g>5&&Hr(e,t,5,a)&&(f=!0,m=os(e,h,t,5,a,m)),g>6&&Hr(e,t,6,c)&&(f=!0,m=os(e,h,t,6,c,m)),g>7&&Hr(e,t,7,l)&&(f=!0,m=os(e,h,t,7,l,m)),g>8&&Hr(e,t,8,d)&&(f=!0,m=os(e,h,t,8,d,m)),g>9&&Hr(e,t,9,u)&&(f=!0,m=os(e,h,t,9,u,m)),m&&p.ngOnChanges(m),65536&t.flags&&Dr(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,r,n,s,i,o,a,c,l,d,u);case 32:case 64:case 128:return function(e,t,r,n,s,i,o,a,c,l,d,u){const h=t.bindings;let p=!1;const f=h.length;if(f>0&&$r(e,t,0,r)&&(p=!0),f>1&&$r(e,t,1,n)&&(p=!0),f>2&&$r(e,t,2,s)&&(p=!0),f>3&&$r(e,t,3,i)&&(p=!0),f>4&&$r(e,t,4,o)&&(p=!0),f>5&&$r(e,t,5,a)&&(p=!0),f>6&&$r(e,t,6,c)&&(p=!0),f>7&&$r(e,t,7,l)&&(p=!0),f>8&&$r(e,t,8,d)&&(p=!0),f>9&&$r(e,t,9,u)&&(p=!0),p){const p=Lr(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=new Array(h.length),f>0&&(m[0]=r),f>1&&(m[1]=n),f>2&&(m[2]=s),f>3&&(m[3]=i),f>4&&(m[4]=o),f>5&&(m[5]=a),f>6&&(m[6]=c),f>7&&(m[7]=l),f>8&&(m[8]=d),f>9&&(m[9]=u);break;case 64:m={},f>0&&(m[h[0].name]=r),f>1&&(m[h[1].name]=n),f>2&&(m[h[2].name]=s),f>3&&(m[h[3].name]=i),f>4&&(m[h[4].name]=o),f>5&&(m[h[5].name]=a),f>6&&(m[h[6].name]=c),f>7&&(m[h[7].name]=l),f>8&&(m[h[8].name]=d),f>9&&(m[h[9].name]=u);break;case 128:const e=r;switch(f){case 1:m=e.transform(r);break;case 2:m=e.transform(n);break;case 3:m=e.transform(n,s);break;case 4:m=e.transform(n,s,i);break;case 5:m=e.transform(n,s,i,o);break;case 6:m=e.transform(n,s,i,o,a);break;case 7:m=e.transform(n,s,i,o,a,c);break;case 8:m=e.transform(n,s,i,o,a,c,l);break;case 9:m=e.transform(n,s,i,o,a,c,l,d);break;case 10:m=e.transform(n,s,i,o,a,c,l,d,u)}}p.value=m}return p}(e,t,r,n,s,i,o,a,c,l,d,u);default:throw\"unreachable\"}}(e,t,n,s,i,o,a,c,l,d,u,h):function(e,t,r){switch(201347067&t.flags){case 1:return function(e,t,r){let n=!1;for(let s=0;s<r.length;s++)Oi(e,t,s,r[s])&&(n=!0);return n}(e,t,r);case 2:return function(e,t,r){const n=t.bindings;let s=!1;for(let i=0;i<r.length;i++)$r(e,t,i,r[i])&&(s=!0);if(s){let s=\"\";for(let e=0;e<r.length;e++)s+=Ui(r[e],n[e]);s=t.text.prefix+s;const i=Or(e,t.nodeIndex).renderText;e.renderer.setValue(i,s)}return s}(e,t,r);case 16384:return function(e,t,r){const n=Ar(e,t.nodeIndex),s=n.instance;let i=!1,o=void 0;for(let a=0;a<r.length;a++)Hr(e,t,a,r[a])&&(i=!0,o=os(e,n,t,a,r[a],o));return o&&s.ngOnChanges(o),65536&t.flags&&Dr(e,256,t.nodeIndex)&&s.ngOnInit(),262144&t.flags&&s.ngDoCheck(),i}(e,t,r);case 32:case 64:case 128:return function(e,t,r){const n=t.bindings;let s=!1;for(let i=0;i<r.length;i++)$r(e,t,i,r[i])&&(s=!0);if(s){const s=Lr(e,t.nodeIndex);let i;switch(201347067&t.flags){case 32:i=r;break;case 64:i={};for(let s=0;s<r.length;s++)i[n[s].name]=r[s];break;case 128:const e=r[0],t=r.slice(1);i=e.transform(...t)}s.value=i}return s}(e,t,r);default:throw\"unreachable\"}}(e,t,n)}function Xi(e){const t=e.def;if(4&t.nodeFlags)for(let r=0;r<t.nodes.length;r++){const n=t.nodes[r];if(4&n.flags){const t=Mr(e,r).template._projectedViews;if(t)for(let r=0;r<t.length;r++){const n=t[r];n.state|=32,Wr(n,e)}}else 0==(4&n.childFlags)&&(r+=n.childCount)}}function eo(e,t,r,n,s,i,o,a,c,l,d,u,h){return 0===r?function(e,t,r,n,s,i,o,a,c,l,d,u){const h=t.bindings.length;h>0&&qr(e,t,0,r),h>1&&qr(e,t,1,n),h>2&&qr(e,t,2,s),h>3&&qr(e,t,3,i),h>4&&qr(e,t,4,o),h>5&&qr(e,t,5,a),h>6&&qr(e,t,6,c),h>7&&qr(e,t,7,l),h>8&&qr(e,t,8,d),h>9&&qr(e,t,9,u)}(e,t,n,s,i,o,a,c,l,d,u,h):function(e,t,r){for(let n=0;n<r.length;n++)qr(e,t,n,r[n])}(e,t,n),!1}function to(e,t){if(jr(e,t.nodeIndex).dirty)throw kr(Nr.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function ro(e){if(!(128&e.state)){if(io(e,no.Destroy),so(e,no.Destroy),as(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Qr(e);if(t){const r=t.template._projectedViews;r&&(Fe(r,r.indexOf(e)),Nr.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let r=0;r<t;r++){const t=e.def.nodes[r];1&t.flags?e.renderer.destroyNode(Mr(e,r).renderElement):2&t.flags?e.renderer.destroyNode(Or(e,r).renderText):(67108864&t.flags||134217728&t.flags)&&jr(e,r).destroy()}}(e),Xr(e)&&e.renderer.destroy(),e.state|=128}}const no=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]=\"CreateViewNodes\",e[e.CheckNoChanges]=\"CheckNoChanges\",e[e.CheckNoChangesProjectedViews]=\"CheckNoChangesProjectedViews\",e[e.CheckAndUpdate]=\"CheckAndUpdate\",e[e.CheckAndUpdateProjectedViews]=\"CheckAndUpdateProjectedViews\",e[e.Destroy]=\"Destroy\",e}();function so(e,t){const r=e.def;if(33554432&r.nodeFlags)for(let n=0;n<r.nodes.length;n++){const s=r.nodes[n];33554432&s.flags?oo(Mr(e,n).componentView,t):0==(33554432&s.childFlags)&&(n+=s.childCount)}}function io(e,t){const r=e.def;if(16777216&r.nodeFlags)for(let n=0;n<r.nodes.length;n++){const s=r.nodes[n];if(16777216&s.flags){const r=Mr(e,n).viewContainer._embeddedViews;for(let e=0;e<r.length;e++)oo(r[e],t)}else 0==(16777216&s.childFlags)&&(n+=s.childCount)}}function oo(e,t){const r=e.state;switch(t){case no.CheckNoChanges:0==(128&r)&&(12==(12&r)?Zi(e):64&r&&ao(e,no.CheckNoChangesProjectedViews));break;case no.CheckNoChangesProjectedViews:0==(128&r)&&(32&r?Zi(e):64&r&&ao(e,t));break;case no.CheckAndUpdate:0==(128&r)&&(12==(12&r)?Yi(e):64&r&&ao(e,no.CheckAndUpdateProjectedViews));break;case no.CheckAndUpdateProjectedViews:0==(128&r)&&(32&r?Yi(e):64&r&&ao(e,t));break;case no.Destroy:ro(e);break;case no.CreateViewNodes:Qi(e)}}function ao(e,t){io(e,t),so(e,t)}function co(e,t,r,n){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&r))return;const s=e.def.nodes.length;for(let i=0;i<s;i++){const s=e.def.nodes[i];if(s.flags&t&&s.flags&r)switch(Nr.setCurrentNode(e,s.nodeIndex),n){case 0:Ai(e,s);break;case 1:to(e,s)}s.childFlags&t&&s.childFlags&r||(i+=s.childCount)}}let lo=!1;function uo(e,t,r,n,s,i){const o=s.injector.get(rr);return qi(po(e,s,o,t,r),n,i)}function ho(e,t,r,n,s,i){const o=s.injector.get(rr),a=po(e,s,new qo(o),t,r),c=Co(n);return Ho(Po.create,qi,null,[a,c,i])}function po(e,t,r,n,s){const i=t.injector.get(gt),o=t.injector.get($e),a=r.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:n,selectorOrNode:s,sanitizer:i,rendererFactory:r,renderer:a,errorHandler:o}}function fo(e,t,r,n){const s=Co(r);return Ho(Po.create,$i,null,[e,t,s,n])}function mo(e,t,r,n){return r=wo.get(t.element.componentProvider.provider.token)||Co(r),Ho(Po.create,Gi,null,[e,t,r,n])}function go(e,t,r,n){return Un(e,t,r,function(e){const{hasOverrides:t,hasDeprecatedOverrides:r}=function(e){let t=!1,r=!1;return 0===yo.size||(e.providers.forEach(e=>{const n=yo.get(e.token);3840&e.flags&&n&&(t=!0,r=r||n.deprecatedBehavior)}),e.modules.forEach(e=>{vo.forEach((n,s)=>{fe(s).providedIn===e&&(t=!0,r=r||n.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:r}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const n=e.providers[t];r&&(n.flags|=4096);const s=yo.get(n.token);s&&(n.flags=-3841&n.flags|s.flags,n.deps=rn(s.deps),n.value=s.value)}if(vo.size>0){let t=new Set(e.modules);vo.forEach((n,s)=>{if(t.has(fe(s).providedIn)){let t={token:s,flags:n.flags|(r?4096:0),deps:rn(n.deps),value:n.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Ur(s)]=t}})}}(e=e.factory(()=>Fr)),e):e}(n))}const yo=new Map,vo=new Map,wo=new Map;function bo(e){let t;yo.set(e.token,e),\"function\"==typeof e.token&&(t=fe(e.token))&&\"function\"==typeof t.providedIn&&vo.set(e.token,e)}function _o(e,t){const r=on(t.viewDefFactory),n=on(r.nodes[0].element.componentView);wo.set(e,n)}function So(){yo.clear(),vo.clear(),wo.clear()}function Co(e){if(0===yo.size)return e;const t=function(e){const t=[];let r=null;for(let n=0;n<e.nodes.length;n++){const s=e.nodes[n];1&s.flags&&(r=s),r&&3840&s.flags&&yo.has(s.provider.token)&&(t.push(r.nodeIndex),r=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Fr);for(let n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(let r=t+1;r<e.nodes.length;r++){const t=e.nodes[r];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,r=yo.get(e.token);r&&(t.flags=-3841&t.flags|r.flags,e.deps=rn(r.deps),e.value=r.value)}}}}function Ro(e,t,r,n,s,i,o,a,c,l,d,u,h){const p=e.def.nodes[t];return Ji(e,p,r,n,s,i,o,a,c,l,d,u,h),224&p.flags?Lr(e,t).value:void 0}function xo(e,t,r,n,s,i,o,a,c,l,d,u,h){const p=e.def.nodes[t];return eo(e,p,r,n,s,i,o,a,c,l,d,u,h),224&p.flags?Lr(e,t).value:void 0}function To(e){return Ho(Po.detectChanges,Yi,null,[e])}function ko(e){return Ho(Po.checkNoChanges,Zi,null,[e])}function Eo(e){return Ho(Po.destroy,ro,null,[e])}const Po=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]=\"create\",e[e.detectChanges]=\"detectChanges\",e[e.checkNoChanges]=\"checkNoChanges\",e[e.destroy]=\"destroy\",e[e.handleEvent]=\"handleEvent\",e}();let Io,Do,Oo;function Mo(e,t){Do=e,Oo=t}function Ao(e,t,r,n){return Mo(e,t),Ho(Po.handleEvent,e.def.handleEvent,null,[e,t,r,n])}function Lo(e,t){if(128&e.state)throw Pr(Po[Io]);return Mo(e,Bo(e,0)),e.def.updateDirectives((function(e,r,n,...s){const i=e.def.nodes[r];return 0===t?No(e,i,n,s):Fo(e,i,n,s),16384&i.flags&&Mo(e,Bo(e,r)),224&i.flags?Lr(e,i.nodeIndex).value:void 0}),e)}function jo(e,t){if(128&e.state)throw Pr(Po[Io]);return Mo(e,Uo(e,0)),e.def.updateRenderer((function(e,r,n,...s){const i=e.def.nodes[r];return 0===t?No(e,i,n,s):Fo(e,i,n,s),3&i.flags&&Mo(e,Uo(e,r)),224&i.flags?Lr(e,i.nodeIndex).value:void 0}),e)}function No(e,t,r,n){if(Ji(e,t,r,...n)){const s=1===r?n[0]:n;if(16384&t.flags){const r={};for(let e=0;e<t.bindings.length;e++){const n=t.bindings[e],i=s[e];8&n.flags&&(r[wt(n.nonMinifiedName)]=_t(i))}const n=t.parent,i=Mr(e,n.nodeIndex).renderElement;if(n.element.name)for(let t in r){const n=r[t];null!=n?e.renderer.setAttribute(i,t,n):e.renderer.removeAttribute(i,t)}else e.renderer.setValue(i,\"bindings=\"+JSON.stringify(r,null,2))}}}function Fo(e,t,r,n){eo(e,t,r,...n)}function Bo(e,t){for(let r=t;r<e.def.nodes.length;r++){const t=e.def.nodes[r];if(16384&t.flags&&t.bindings&&t.bindings.length)return r}return null}function Uo(e,t){for(let r=t;r<e.def.nodes.length;r++){const t=e.def.nodes[r];if(3&t.flags&&t.bindings&&t.bindings.length)return r}return null}class Vo{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let r=this.nodeDef,n=e;for(;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&n;)r=Zr(n),n=n.parent;this.elDef=r,this.elView=n}get elOrCompView(){return Mr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Ln(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const r=this.elView.def.nodes[t];20224&r.flags&&e.push(r.provider.token),t+=r.childCount}return e}get references(){const e={};if(this.elDef){zo(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const r=this.elView.def.nodes[t];20224&r.flags&&zo(this.elView,r,e),t+=r.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Xr(e);)e=e.parent;return e.parent?Mr(e.parent,Zr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Yr(this.view,this.nodeDef):Yr(this.elView,this.elDef)}logError(e,...t){let r,n;2&this.nodeDef.flags?(r=this.view.def,n=this.nodeDef.nodeIndex):(r=this.elView.def,n=this.elDef.nodeIndex);const s=function(e,t){let r=-1;for(let n=0;n<=t;n++)3&e.nodes[n].flags&&r++;return r}(r,n);let i=-1;r.factory(()=>(i++,i===s?e.error.bind(e,...t):Fr)),i<s&&(e.error(\"Illegal state: the ViewDefinitionFactory did not call the logger!\"),e.error(...t))}}function zo(e,t,r){for(let n in t.references)r[n]=ji(e,t,t.references[n])}function Ho(e,t,r,n){const s=Io,i=Do,o=Oo;try{Io=e;const a=t.apply(r,n);return Do=i,Oo=o,Io=s,a}catch(a){if(Ve(a)||!Do)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Er(e,t),e}(a,$o())}}function $o(){return Do?new Vo(Do,Oo):null}class qo{constructor(e){this.delegate=e}createRenderer(e,t){return new Go(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Go{constructor(e){this.delegate=e,this.debugContextFactory=$o,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=wi(e);!function(e){vi.delete(e.nativeNode)}(t),t instanceof gi&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const r=this.delegate.createElement(e,t),n=this.createDebugContext(r);if(n){const t=new yi(r,null,n);t.name=e,bi(t)}return r}createComment(e){const t=this.delegate.createComment(e),r=this.createDebugContext(t);return r&&bi(new gi(t,null,r)),t}createText(e){const t=this.delegate.createText(e),r=this.createDebugContext(t);return r&&bi(new gi(t,null,r)),t}appendChild(e,t){const r=wi(e),n=wi(t);r&&n&&r instanceof yi&&r.addChild(n),this.delegate.appendChild(e,t)}insertBefore(e,t,r){const n=wi(e),s=wi(t),i=wi(r);n&&s&&n instanceof yi&&n.insertBefore(i,s),this.delegate.insertBefore(e,t,r)}removeChild(e,t){const r=wi(e),n=wi(t);r&&n&&r instanceof yi&&r.removeChild(n),this.delegate.removeChild(e,t)}selectRootElement(e,t){const r=this.delegate.selectRootElement(e,t),n=$o();return n&&bi(new yi(r,null,n)),r}setAttribute(e,t,r,n){const s=wi(e);s&&s instanceof yi&&(s.attributes[n?n+\":\"+t:t]=r),this.delegate.setAttribute(e,t,r,n)}removeAttribute(e,t,r){const n=wi(e);n&&n instanceof yi&&(n.attributes[r?r+\":\"+t:t]=null),this.delegate.removeAttribute(e,t,r)}addClass(e,t){const r=wi(e);r&&r instanceof yi&&(r.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const r=wi(e);r&&r instanceof yi&&(r.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,r,n){const s=wi(e);s&&s instanceof yi&&(s.styles[t]=r),this.delegate.setStyle(e,t,r,n)}removeStyle(e,t,r){const n=wi(e);n&&n instanceof yi&&(n.styles[t]=null),this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){const n=wi(e);n&&n instanceof yi&&(n.properties[t]=r),this.delegate.setProperty(e,t,r)}listen(e,t,r){if(\"string\"!=typeof e){const n=wi(e);n&&n.listeners.push(new mi(t,r))}return this.delegate.listen(e,t,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Wo(e,t,r){return new Ko(e,t,r)}class Ko extends je{constructor(e,t,r){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=r}create(e){!function(){if(lo)return;lo=!0;const e=We()?{setCurrentNode:Mo,createRootView:ho,createEmbeddedView:fo,createComponentView:mo,createNgModuleRef:go,overrideProvider:bo,overrideComponentView:_o,clearOverrides:So,checkAndUpdateView:To,checkNoChangesView:ko,destroyView:Eo,createDebugContext:(e,t)=>new Vo(e,t),handleEvent:Ao,updateDirectives:Lo,updateRenderer:jo}:{setCurrentNode:()=>{},createRootView:uo,createEmbeddedView:$i,createComponentView:Gi,createNgModuleRef:Un,overrideProvider:Fr,overrideComponentView:Fr,clearOverrides:Fr,checkAndUpdateView:Yi,checkNoChangesView:Zi,destroyView:ro,createDebugContext:(e,t)=>new Vo(e,t),handleEvent:(e,t,r,n)=>e.def.handleEvent(e,t,r,n),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Ro:xo,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Ro:xo,e)};Nr.setCurrentNode=e.setCurrentNode,Nr.createRootView=e.createRootView,Nr.createEmbeddedView=e.createEmbeddedView,Nr.createComponentView=e.createComponentView,Nr.createNgModuleRef=e.createNgModuleRef,Nr.overrideProvider=e.overrideProvider,Nr.overrideComponentView=e.overrideComponentView,Nr.clearOverrides=e.clearOverrides,Nr.checkAndUpdateView=e.checkAndUpdateView,Nr.checkNoChangesView=e.checkNoChangesView,Nr.destroyView=e.destroyView,Nr.resolveDep=ss,Nr.createDebugContext=e.createDebugContext,Nr.handleEvent=e.handleEvent,Nr.updateDirectives=e.updateDirectives,Nr.updateRenderer=e.updateRenderer,Nr.dirtyParentQueries=Mi}();const t=function(e){const t=Array.from(e.providers),r=Array.from(e.modules),n={};for(const s in e.providersByKey)n[s]=e.providersByKey[s];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:r,providersByKey:n}}(on(this._ngModuleDefFactory));return Nr.createNgModuleRef(this.moduleType,e||Tt.NULL,this._bootstrapComponents,t)}}const Qo=\"http://localhost:8080/\";class Zo{}class Yo{constructor(){this.title=\"neonangular\"}}class Jo{}const Xo=new xe(\"Location Initialized\");class ea{}const ta=new xe(\"appBaseHref\");class ra{constructor(e,t){this._subject=new ms,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=ra.stripTrailingSlash(na(r)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=\"\"){return this.path()==this.normalize(e+ra.normalizeQueryParams(t))}normalize(e){return ra.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,na(e)))}prepareExternalUrl(e){return e&&\"/\"!==e[0]&&(e=\"/\"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t=\"\",r=null){this._platformStrategy.pushState(r,\"\",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ra.normalizeQueryParams(t)),r)}replaceState(e,t=\"\",r=null){this._platformStrategy.replaceState(r,\"\",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ra.normalizeQueryParams(t)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e=\"\",t){this._urlChangeListeners.forEach(r=>r(e,t))}subscribe(e,t,r){return this._subject.subscribe({next:e,error:t,complete:r})}static normalizeQueryParams(e){return e&&\"?\"!==e[0]?\"?\"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith(\"/\")&&r++,t.startsWith(\"/\")&&r++,2==r?e+t.substring(1):1==r?e+t:e+\"/\"+t}static stripTrailingSlash(e){const t=e.match(/#|\\?|$/),r=t&&t.index||e.length;return e.slice(0,r-(\"/\"===e[r-1]?1:0))+e.slice(r)}}function na(e){return e.replace(/\\/index.html$/,\"\")}class sa extends ea{constructor(e,t){super(),this._platformLocation=e,this._baseHref=\"\",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t=\"#\"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=ra.joinWithSlash(this._baseHref,e);return t.length>0?\"#\"+t:t}pushState(e,t,r,n){let s=this.prepareExternalUrl(r+ra.normalizeQueryParams(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,r,n){let s=this.prepareExternalUrl(r+ra.normalizeQueryParams(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class ia extends ea{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ra.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+ra.normalizeQueryParams(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${t}${r}`:t}pushState(e,t,r,n){const s=this.prepareExternalUrl(r+ra.normalizeQueryParams(n));this._platformLocation.pushState(e,t,s)}replaceState(e,t,r,n){const s=this.prepareExternalUrl(r+ra.normalizeQueryParams(n));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const oa=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]=\"Zero\",e[e.One]=\"One\",e[e.Two]=\"Two\",e[e.Few]=\"Few\",e[e.Many]=\"Many\",e[e.Other]=\"Other\",e}(),aa=new xe(\"UseV4Plurals\");class ca{}class la extends ca{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){const t=e.toLowerCase().replace(/_/g,\"-\");let r=us[t];if(r)return r;const n=t.split(\"-\")[0];if(r=us[n],r)return r;if(\"en\"===n)return fs;throw new Error(`Missing locale data for the locale \"${e}\".`)}(e)[hs.PluralCase]}(t||this.locale)(e)){case oa.Zero:return\"zero\";case oa.One:return\"one\";case oa.Two:return\"two\";case oa.Few:return\"few\";case oa.Many:return\"many\";default:return\"other\"}}}function da(e,t){t=encodeURIComponent(t);for(const r of e.split(\";\")){const e=r.indexOf(\"=\"),[n,s]=-1==e?[r,\"\"]:[r.slice(0,e),r.slice(e+1)];if(n.trim()===t)return decodeURIComponent(s)}return null}class ua{constructor(e,t){this._viewContainer=e,this._context=new ha,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pa(\"ngIfThen\",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pa(\"ngIfElse\",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class ha{constructor(){this.$implicit=null,this.ngIf=null}}function pa(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ge(t)}'.`)}class fa{}const ma=new xe(\"DocumentToken\");let ga=(()=>{class e{}return e.ngInjectableDef=pe({token:e,providedIn:\"root\",factory:()=>new ya(Oe(ma),window,Oe($e))}),e})();class ya{constructor(e,t,r){this.document=e,this.window=t,this.errorHandler=r,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\\\"|\\'\\ |:|\\.|\\[|\\]|,|=)/g,\"\\\\$1\");try{const t=this.document.querySelector(\"#\"+e);if(t)return void this.scrollToElement(t);const r=this.document.querySelector(`[name='${e}']`);if(r)return void this.scrollToElement(r)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],n-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const va=new _(e=>e.complete());function wa(e){return e?function(e){return new _(t=>e.schedule(()=>t.complete()))}(e):va}function ba(e){const t=new _(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function _a(...e){let t=e[e.length-1];switch(P(t)?e.pop():t=void 0,e.length){case 0:return wa(t);case 1:return t?q(e,t):ba(e[0]);default:return q(e,t)}}class Sa extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R;return this._value}next(e){super.next(this._value=e)}}function Ca(){return Error.call(this),this.message=\"no elements in sequence\",this.name=\"EmptyError\",this}Ca.prototype=Object.create(Error.prototype);const Ra=Ca,xa={};class Ta{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new ka(e,this.resultSelector))}}class ka extends V{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xa),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++){const t=e[r];this.add(U(this,t,t,r))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r,n,s){const i=this.values,o=this.toRespond?i[r]===xa?--this.toRespond:this.toRespond:0;i[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}function Ea(e){return new _(t=>{let r;try{r=e()}catch(n){return void t.error(n)}return(r?G(r):wa()).subscribe(t)})}function Pa(){return Y(1)}function Ia(e,t){return function(r){return r.lift(new Da(e,t))}}class Da{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Oa(e,this.predicate,this.thisArg))}}class Oa extends m{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Ma(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}Ma.prototype=Object.create(Error.prototype);const Aa=Ma;function La(e){return function(t){return 0===e?wa():t.lift(new ja(e))}}class ja{constructor(e){if(this.total=e,this.total<0)throw new Aa}call(e,t){return t.subscribe(new Na(e,this.total))}}class Na extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,n=this.ring;for(let s=0;s<r;s++){const s=t++%r;e.next(n[s])}}e.complete()}}function Fa(e,t,r){return function(n){return n.lift(new Ba(e,t,r))}}class Ba{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new Ua(e,this.nextOrObserver,this.error,this.complete))}}class Ua extends m{constructor(e,t,r,s){super(e),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=r||v,this._tapComplete=s||v,n(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||v,this._tapError=t.error||v,this._tapComplete=t.complete||v)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Va=(e=za)=>Fa({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function za(){return new Ra}function Ha(e=null){return t=>t.lift(new $a(e))}class $a{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new qa(e,this.defaultValue))}}class qa extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ga(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Ia((t,r)=>e(t,r,n)):Z,La(1),r?Ha(t):Va(()=>new Ra))}function Wa(e){return function(t){const r=new Ka(e),n=t.lift(r);return r.caught=n}}class Ka{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Qa(e,this.selector,this.caught))}}class Qa extends V{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let r;try{r=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new I(this,void 0,void 0);this.add(n),U(this,r,void 0,void 0,n)}}}function Za(e){return t=>0===e?wa():t.lift(new Ya(e))}class Ya{constructor(e){if(this.total=e,this.total<0)throw new Aa}call(e,t){return t.subscribe(new Ja(e,this.total))}}class Ja extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Xa(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Ia((t,r)=>e(t,r,n)):Z,Za(1),r?Ha(t):Va(()=>new Ra))}class ec{constructor(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}call(e,t){return t.subscribe(new tc(e,this.predicate,this.thisArg,this.source))}}class tc extends m{constructor(e,t,r,n){super(e),this.predicate=t,this.thisArg=r,this.source=n,this.index=0,this.thisArg=r||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function rc(e,t){return\"function\"==typeof t?r=>r.pipe(rc((r,n)=>G(e(r,n)).pipe(z((e,s)=>t(r,e,n,s))))):t=>t.lift(new nc(e))}class nc{constructor(e){this.project=e}call(e,t){return t.subscribe(new sc(e,this.project))}}class sc extends V{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,r)}_innerSub(e,t,r){const n=this.innerSubscription;n&&n.unsubscribe();const s=new I(this,void 0,void 0);this.destination.add(s),this.innerSubscription=U(this,e,t,r,s)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,r,n,s){this.destination.next(t)}}function ic(e,t){let r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new oc(e,t,r))}}class oc{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new ac(e,this.accumulator,this.seed,this.hasSeed))}}class ac extends m{constructor(e,t,r,n){super(e),this.accumulator=t,this._seed=r,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=r,this.destination.next(r)}}function cc(e,t){return W(e,t,1)}class lc{constructor(e){this.callback=e}call(e,t){return t.subscribe(new dc(e,this.callback))}}class dc extends m{constructor(e,t){super(e),this.add(new h(t))}}let uc=null;function hc(){return uc}const pc={class:\"className\",innerHtml:\"innerHTML\",readonly:\"readOnly\",tabindex:\"tabIndex\"},fc={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\\x7f\":\"Delete\",\"\\x1b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},mc={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\\x90\":\"NumLock\"},gc=(()=>{if(Re.Node)return Re.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class yc extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement(\"div\",document);if(null!=this.getStyle(e,\"animationName\"))this._animationPrefix=\"\";else{const t=[\"Webkit\",\"Moz\",\"O\",\"ms\"];for(let r=0;r<t.length;r++)if(null!=this.getStyle(e,t[r]+\"AnimationName\")){this._animationPrefix=\"-\"+t[r].toLowerCase()+\"-\";break}}const t={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};Object.keys(t).forEach(r=>{null!=this.getStyle(e,r)&&(this._transitionEnd=t[r])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,r){e.href=null==r?t:t+\"/../\"+r}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return\"function\"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:\"\"}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:\"\"}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error(\"parse not implemented\")}static makeCurrent(){var e;e=new yc,uc||(uc=e)}hasProperty(e,t){return t in e}setProperty(e,t,r){e[t]=r}getProperty(e,t){return e[t]}invoke(e,t,r){e[t](...r)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return pc}contains(e,t){return gc.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,r){e.addEventListener(t,r,!1)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent(\"MouseEvent\");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent(\"Event\");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return\"content\"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,\"content\")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n];return r}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,r){e.replaceChild(t,r)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,r){e.insertBefore(r,t)}insertAllBefore(e,t,r){r.forEach(r=>e.insertBefore(r,t))}insertAfter(e,t,r){e.insertBefore(r,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement(\"template\");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,r){return(r=r||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,r){const n=(r=r||this.getDefaultDocument()).createElement(\"SCRIPT\");return n.setAttribute(e,t),n}createStyleElement(e,t){const r=(t=t||this.getDefaultDocument()).createElement(\"style\");return this.appendChild(r,this.createTextNode(e,t)),r}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,r){e.style[t]=r}removeStyle(e,t){e.style[t]=\"\"}getStyle(e,t){return e.style[t]}hasStyle(e,t,r){const n=this.getStyle(e,t)||\"\";return r?n==r:n.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,r=e.attributes;for(let n=0;n<r.length;n++){const e=r.item(n);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,r){return e.hasAttributeNS(t,r)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,r){return e.getAttributeNS(t,r)}setAttribute(e,t,r){e.setAttribute(t,r)}setAttributeNS(e,t,r,n){e.setAttributeNS(t,r,n)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,r){e.removeAttributeNS(t,r)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument(\"fakeTitle\")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||\"\"}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&\"TEMPLATE\"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute(\"href\")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return\"Unidentified\";t.startsWith(\"U+\")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&mc.hasOwnProperty(t)&&(t=mc[t]))}return fc[t]||t}getGlobalEventTarget(e,t){return\"window\"===t?window:\"document\"===t?e:\"body\"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=wc||(wc=document.querySelector(\"base\"),wc)?wc.getAttribute(\"href\"):null;return null==t?null:(r=t,vc||(vc=document.createElement(\"a\")),vc.setAttribute(\"href\",r),\"/\"===vc.pathname.charAt(0)?vc.pathname:\"/\"+vc.pathname);var r}resetBaseElement(){wc=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,r){this.setAttribute(e,\"data-\"+t,r)}getData(e,t){return this.getAttribute(e,\"data-\"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return\"function\"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return da(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)}}let vc,wc=null;function bc(){return!!window.history.pushState}let _c=(()=>{class e extends Jo{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=hc().getLocation(),this._history=hc().getHistory()}getBaseHrefFromDOM(){return hc().getBaseHref(this._doc)}onPopState(e){hc().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",e,!1)}onHashChange(e){hc().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,r){bc()?this._history.pushState(e,t,r):this.location.hash=r}replaceState(e,t,r){bc()?this._history.replaceState(e,t,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.ctorParameters=()=>[{type:void 0,decorators:[{type:ae,args:[ma]}]}],e})();const Sc=new xe(\"TRANSITION_ID\"),Cc=[{provide:vs,useFactory:function(e,t,r){return()=>{r.get(ws).donePromise.then(()=>{const r=hc();Array.prototype.slice.apply(r.querySelectorAll(t,\"style[ng-transition]\")).filter(t=>r.getAttribute(t,\"ng-transition\")===e).forEach(e=>r.remove(e))})}},deps:[Sc,ma,Tt],multi:!0}];class Rc{static init(){var e;e=new Rc,ti=e}addToWindow(e){Re.getAngularTestability=(t,r=!0)=>{const n=e.findTestabilityInTree(t,r);if(null==n)throw new Error(\"Could not find testability for element.\");return n},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(e=>{const t=Re.getAllAngularTestabilities();let r=t.length,n=!1;const s=function(t){n=n||t,r--,0==r&&e(n)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,r){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:r?hc().isShadowRoot(t)?this.findTestabilityInTree(e,hc().getHost(t),!0):this.findTestabilityInTree(e,hc().parentElement(t),!0):null}}function xc(e,t){\"undefined\"!=typeof COMPILED&&COMPILED||((Re.ng=Re.ng||{})[e]=t)}const Tc=(()=>({ApplicationRef:ci,NgZone:$s}))();function kc(e){return wi(e)}const Ec=new xe(\"EventManagerPlugins\");class Pc{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,r){return this._findPluginFor(t).addEventListener(e,t,r)}addGlobalEventListener(e,t,r){return this._findPluginFor(t).addGlobalEventListener(e,t,r)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const r=this._plugins;for(let n=0;n<r.length;n++){const t=r[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(\"No event manager plugin found for event \"+e)}}class Ic{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const n=hc().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,r)}}class Dc{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Oc extends Dc{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const r=this._doc.createElement(\"style\");r.textContent=e,this._styleNodes.add(t.appendChild(r))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>hc().remove(e))}}const Mc={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},Ac=/%COMP%/g;function Lc(e,t,r){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?Lc(e,s,r):(s=s.replace(Ac,e),r.push(s))}return r}function jc(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Nc{constructor(e,t,r){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Fc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Be.Emulated:{let r=this.rendererByCompId.get(t.id);return r||(r=new Vc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,r)),r.applyToHost(e),r}case Be.Native:case Be.ShadowDom:return new zc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Lc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Fc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Mc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=\"string\"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector \"${e}\" did not match any elements`);return t||(r.textContent=\"\"),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,n){if(n){t=n+\":\"+t;const s=Mc[n];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const n=Mc[r];n?e.removeAttributeNS(n,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,n){n&nr.DashCase?e.style.setProperty(t,r,n&nr.Important?\"important\":\"\"):e.style[t]=r}removeStyle(e,t,r){r&nr.DashCase?e.style.removeProperty(t):e.style[t]=\"\"}setProperty(e,t,r){Uc(t,\"property\"),e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return Uc(t,\"listener\"),\"string\"==typeof e?this.eventManager.addGlobalEventListener(e,t,jc(r)):this.eventManager.addEventListener(e,t,jc(r))}}const Bc=(()=>\"@\".charCodeAt(0))();function Uc(e,t){if(e.charCodeAt(0)===Bc)throw new Error(`Found the synthetic ${t} ${e}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`)}class Vc extends Fc{constructor(e,t,r,n){super(e),this.component=r;const s=Lc(n+\"-\"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=\"_ngcontent-%COMP%\".replace(Ac,n+\"-\"+r.id),this.hostAttr=function(e){return\"_nghost-%COMP%\".replace(Ac,e)}(n+\"-\"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,\"\")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,\"\"),r}}class zc extends Fc{constructor(e,t,r,n){super(e),this.sharedStylesHost=t,this.hostEl=r,this.component=n,this.shadowRoot=n.encapsulation===Be.ShadowDom?r.attachShadow({mode:\"open\"}):r.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Lc(n.id,n.styles,[]);for(let i=0;i<s.length;i++){const e=document.createElement(\"style\");e.textContent=s[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Hc=(()=>\"undefined\"!=typeof Zone&&Zone.__symbol__||function(e){return\"__zone_symbol__\"+e})(),$c=Hc(\"addEventListener\"),qc=Hc(\"removeEventListener\"),Gc={},Wc=\"__zone_symbol__propagationStopped\",Kc=(()=>{const e=\"undefined\"!=typeof Zone&&Zone[Hc(\"BLACK_LISTED_EVENTS\")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),Qc=function(e){return!!Kc&&Kc.hasOwnProperty(e)},Zc=function(e){const t=Gc[e.type];if(!t)return;const r=this[t];if(!r)return;const n=[e];if(1===r.length){const e=r[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,n):e.handler.apply(this,n)}{const t=r.slice();for(let r=0;r<t.length&&!0!==e[Wc];r++){const e=t[r];e.zone!==Zone.current?e.zone.run(e.handler,this,n):e.handler.apply(this,n)}}};class Yc extends Ic{constructor(e,t,r){super(e),this.ngZone=t,r&&function(e){return\"server\"===e}(r)||this.patchEvent()}patchEvent(){if(\"undefined\"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Wc]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,r){let n=r;if(!e[$c]||$s.isInAngularZone()&&!Qc(t))e.addEventListener(t,n,!1);else{let r=Gc[t];r||(r=Gc[t]=Hc(\"ANGULAR\"+t+\"FALSE\"));let s=e[r];const i=s&&s.length>0;s||(s=e[r]=[]);const o=Qc(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:o,handler:n});else{let e=!1;for(let t=0;t<s.length;t++)if(s[t].handler===n){e=!0;break}e||s.push({zone:o,handler:n})}i||e[$c](t,Zc,!1)}return()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,r){let n=e[qc];if(!n)return e.removeEventListener.apply(e,[t,r,!1]);let s=Gc[t],i=s&&e[s];if(!i)return e.removeEventListener.apply(e,[t,r,!1]);let o=!1;for(let a=0;a<i.length;a++)if(i[a].handler===r){o=!0,i.splice(a,1);break}o?0===i.length&&n.apply(e,[t,Zc,!1]):e.removeEventListener.apply(e,[t,r,!1])}}const Jc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Xc=new xe(\"HammerGestureConfig\"),el=new xe(\"HammerLoader\");class tl{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get(\"pinch\").set({enable:!0}),t.get(\"rotate\").set({enable:!0});for(const r in this.overrides)t.get(r).set(this.overrides[r]);return t}}class rl extends Ic{constructor(e,t,r,n){super(e),this._config=t,this.console=r,this.loader=n}supports(e){return!(!Jc.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The \"${e}\" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(e,t,r){const n=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let n=!1,s=()=>{n=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\"),void(s=()=>{});n||(s=this.addEventListener(e,t,r))}).catch(()=>{this.console.warn(`The \"${t}\" event cannot be bound because the custom Hammer.JS loader failed.`),s=()=>{}}),()=>{s()}}return n.runOutsideAngular(()=>{const s=this._config.buildHammer(e),i=function(e){n.runGuarded((function(){r(e)}))};return s.on(t,i),()=>{s.off(t,i),\"function\"==typeof s.destroy&&s.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const nl=[\"alt\",\"control\",\"meta\",\"shift\"],sl={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class il extends Ic{constructor(e){super(e)}supports(e){return null!=il.parseEventName(e)}addEventListener(e,t,r){const n=il.parseEventName(t),s=il.eventCallback(n.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hc().onAndCancel(e,n.domEventName,s))}static parseEventName(e){const t=e.toLowerCase().split(\".\"),r=t.shift();if(0===t.length||\"keydown\"!==r&&\"keyup\"!==r)return null;const n=il._normalizeKey(t.pop());let s=\"\";if(nl.forEach(e=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s+=e+\".\")}),s+=n,0!=t.length||0===n.length)return null;const i={};return i.domEventName=r,i.fullKey=s,i}static getEventFullKey(e){let t=\"\",r=hc().getEventKey(e);return r=r.toLowerCase(),\" \"===r?r=\"space\":\".\"===r&&(r=\"dot\"),nl.forEach(n=>{n!=r&&(0,sl[n])(e)&&(t+=n+\".\")}),t+=r,t}static eventCallback(e,t,r){return n=>{il.getEventFullKey(n)===e&&r.runGuarded(()=>t(n))}}static _normalizeKey(e){switch(e){case\"esc\":return\"escape\";default:return e}}}class ol{}class al extends ol{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case mt.NONE:return t;case mt.HTML:return t instanceof ll?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"HTML\"),function(e,t){let r=null;try{pt=pt||new Ke(e);let n=t?String(t):\"\";r=pt.getInertBodyElement(n);let s=5,i=n;do{if(0===s)throw new Error(\"Failed to sanitize html because the input is unstable\");s--,n=i,i=r.innerHTML,r=pt.getInertBodyElement(n)}while(n!==i);const o=new lt,a=o.sanitizeChildren(ft(r)||r);return We()&&o.sanitizedSomething&&console.warn(\"WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss\"),a}finally{if(r){const e=ft(r)||r;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case mt.STYLE:return t instanceof dl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"Style\"),function(e){if(!(e=String(e).trim()))return\"\";const t=e.match(vt);return t&&Ye(t[1])===t[1]||e.match(yt)&&function(e){let t=!0,r=!0;for(let n=0;n<e.length;n++){const s=e.charAt(n);\"'\"===s&&r?t=!t:'\"'===s&&t&&(r=!r)}return t&&r}(e)?e:(We()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),\"unsafe\")}(t));case mt.SCRIPT:if(t instanceof ul)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,\"Script\"),new Error(\"unsafe value used in a script context\");case mt.URL:return t instanceof pl||t instanceof hl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"URL\"),Ye(String(t)));case mt.RESOURCE_URL:if(t instanceof pl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,\"ResourceURL\"),new Error(\"unsafe value used in a resource URL context (see http://g.co/ng/security#xss)\");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof cl)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(e){return new ll(e)}bypassSecurityTrustStyle(e){return new dl(e)}bypassSecurityTrustScript(e){return new ul(e)}bypassSecurityTrustUrl(e){return new hl(e)}bypassSecurityTrustResourceUrl(e){return new pl(e)}}class cl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return\"SafeValue must use [property]=binding: \"+this.changingThisBreaksApplicationSecurity+\" (see http://g.co/ng/security#xss)\"}}class ll extends cl{getTypeName(){return\"HTML\"}}class dl extends cl{getTypeName(){return\"Style\"}}class ul extends cl{getTypeName(){return\"Script\"}}class hl extends cl{getTypeName(){return\"URL\"}}class pl extends cl{getTypeName(){return\"ResourceURL\"}}const fl=si(_i,\"browser\",[{provide:Rs,useValue:\"browser\"},{provide:Cs,useValue:function(){yc.makeCurrent(),Rc.init()},multi:!0},{provide:Jo,useClass:_c,deps:[ma]},{provide:ma,useFactory:function(){return document},deps:[]}]);function ml(){return new $e}class gl{constructor(e){if(e)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}static withServerTransition(e){return{ngModule:gl,providers:[{provide:bs,useValue:e.appId},{provide:Sc,useExisting:bs},Cc]}}}\"undefined\"!=typeof window&&window;class yl{constructor(e,t){this.id=e,this.url=t}}class vl extends yl{constructor(e,t,r=\"imperative\",n=null){super(e,t),this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wl extends yl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bl extends yl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _l extends yl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sl extends yl{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cl extends yl{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rl extends yl{constructor(e,t,r,n,s){super(e,t),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xl extends yl{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tl extends yl{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class El{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pl{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Il{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Dl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Ol{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Ml{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Al{}class Ll{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function jl(e){return new Ll(e)}function Nl(e){const t=Error(\"NavigationCancelingError: \"+e);return t.ngNavigationCancelingError=!0,t}function Fl(e,t,r){const n=r.path.split(\"/\");if(n.length>e.length)return null;if(\"full\"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const s={};for(let i=0;i<n.length;i++){const t=n[i],r=e[i];if(t.startsWith(\":\"))s[t.substring(1)]=r;else if(t!==r.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}class Bl{constructor(e,t){this.routes=e,this.module=t}}function Ul(e,t=\"\"){for(let r=0;r<e.length;r++){const n=e[r];Vl(n,zl(t,n))}}function Vl(e,t){if(!e)throw new Error(`\\n      Invalid configuration of route '${t}': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&\"primary\"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if(\"string\"==typeof e.path&&\"/\"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(\"\"===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: \"${t}\", redirectTo: \"${e.redirectTo}\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&\"full\"!==e.pathMatch&&\"prefix\"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Ul(e.children,t)}function zl(e,t){return t?e||t.path?e&&!t.path?e+\"/\":!e&&t.path?t.path:`${e}/${t.path}`:\"\":e}function Hl(e){const t=e.children&&e.children.map(Hl),r=t?Object.assign({},e,{children:t}):Object.assign({},e);return!r.component&&(t||r.loadChildren)&&r.outlet&&\"primary\"!==r.outlet&&(r.component=Al),r}function $l(e,t){const r=Object.keys(e),n=Object.keys(t);if(!r||!n||r.length!=n.length)return!1;let s;for(let i=0;i<r.length;i++)if(s=r[i],e[s]!==t[s])return!1;return!0}function ql(e){return Array.prototype.concat.apply([],e)}function Gl(e){return e.length>0?e[e.length-1]:null}function Wl(e,t){for(const r in e)e.hasOwnProperty(r)&&t(e[r],r)}function Kl(e){return Ht(e)?e:zt(e)?G(Promise.resolve(e)):_a(e)}function Ql(e,t,r){return r?function(e,t){return $l(e,t)}(e.queryParams,t.queryParams)&&function e(t,r){if(!Xl(t.segments,r.segments))return!1;if(t.numberOfChildren!==r.numberOfChildren)return!1;for(const n in r.children){if(!t.children[n])return!1;if(!e(t.children[n],r.children[n]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>t[r]===e[r])}(e.queryParams,t.queryParams)&&function e(t,r){return function t(r,n,s){if(r.segments.length>s.length)return!!Xl(r.segments.slice(0,s.length),s)&&!n.hasChildren();if(r.segments.length===s.length){if(!Xl(r.segments,s))return!1;for(const t in n.children){if(!r.children[t])return!1;if(!e(r.children[t],n.children[t]))return!1}return!0}{const e=s.slice(0,r.segments.length),i=s.slice(r.segments.length);return!!Xl(r.segments,e)&&!!r.children.primary&&t(r.children.primary,n,i)}}(t,r,r.segments)}(e.root,t.root)}class Zl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jl(this.queryParams)),this._queryParamMap}toString(){return nd.serialize(this)}}class Yl{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wl(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}}class Jl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=jl(this.parameters)),this._parameterMap}toString(){return dd(this)}}function Xl(e,t){return e.length===t.length&&e.every((e,r)=>e.path===t[r].path)}function ed(e,t){let r=[];return Wl(e.children,(e,n)=>{\"primary\"===n&&(r=r.concat(t(e,n)))}),Wl(e.children,(e,n)=>{\"primary\"!==n&&(r=r.concat(t(e,n)))}),r}class td{}class rd{parse(e){const t=new md(e);return new Zl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${\"/\"+function e(t,r){if(!t.hasChildren())return sd(t);if(r){const r=t.children.primary?e(t.children.primary,!1):\"\",n=[];return Wl(t.children,(t,r)=>{\"primary\"!==r&&n.push(`${r}:${e(t,!1)}`)}),n.length>0?`${r}(${n.join(\"//\")})`:r}{const r=ed(t,(r,n)=>\"primary\"===n?[e(t.children.primary,!1)]:[`${n}:${e(r,!1)}`]);return`${sd(t)}/(${r.join(\"//\")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(e=>`${od(t)}=${od(e)}`).join(\"&\"):`${od(t)}=${od(r)}`});return t.length?\"?\"+t.join(\"&\"):\"\"}(e.queryParams)}${\"string\"==typeof e.fragment?\"#\"+encodeURI(e.fragment):\"\"}`}}const nd=new rd;function sd(e){return e.segments.map(e=>dd(e)).join(\"/\")}function id(e){return encodeURIComponent(e).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function od(e){return id(e).replace(/%3B/gi,\";\")}function ad(e){return id(e).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function cd(e){return decodeURIComponent(e)}function ld(e){return cd(e.replace(/\\+/g,\"%20\"))}function dd(e){return`${ad(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${ad(e)}=${ad(t[e])}`).join(\"\")}`;var t}const ud=/^[^\\/()?;=#]+/;function hd(e){const t=e.match(ud);return t?t[0]:\"\"}const pd=/^[^=?&#]+/,fd=/^[^?&#]+/;class md{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new Yl([],{}):new Yl([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(e)}while(this.consumeOptional(\"&\"));return e}parseFragment(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null}parseChildren(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");const e=[];for(this.peekStartsWith(\"(\")||e.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),e.push(this.parseSegment());let t={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),t=this.parseParens(!0));let r={};return this.peekStartsWith(\"(\")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r.primary=new Yl(e,t)),r}parseSegment(){const e=hd(this.remaining);if(\"\"===e&&this.peekStartsWith(\";\"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Jl(cd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(\";\");)this.parseParam(e);return e}parseParam(e){const t=hd(this.remaining);if(!t)return;this.capture(t);let r=\"\";if(this.consumeOptional(\"=\")){const e=hd(this.remaining);e&&(r=e,this.capture(r))}e[cd(t)]=cd(r)}parseQueryParam(e){const t=function(e){const t=e.match(pd);return t?t[0]:\"\"}(this.remaining);if(!t)return;this.capture(t);let r=\"\";if(this.consumeOptional(\"=\")){const e=function(e){const t=e.match(fd);return t?t[0]:\"\"}(this.remaining);e&&(r=e,this.capture(r))}const n=ld(t),s=ld(r);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(s)}else e[n]=s}parseParens(e){const t={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){const r=hd(this.remaining),n=this.remaining[r.length];if(\"/\"!==n&&\")\"!==n&&\";\"!==n)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;r.indexOf(\":\")>-1?(s=r.substr(0,r.indexOf(\":\")),this.capture(s),this.capture(\":\")):e&&(s=\"primary\");const i=this.parseChildren();t[s]=1===Object.keys(i).length?i.primary:new Yl([],i),this.consumeOptional(\"//\")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected \"${e}\".`)}}class gd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yd(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=yd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return vd(e,this._root).map(e=>e.value)}}function yd(e,t){if(e===t.value)return t;for(const r of t.children){const t=yd(e,r);if(t)return t}return null}function vd(e,t){if(e===t.value)return[t];for(const r of t.children){const n=vd(e,r);if(n.length)return n.unshift(t),n}return[]}class wd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bd(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class _d extends gd{constructor(e,t){super(e),this.snapshot=t,kd(this,e)}toString(){return this.snapshot.toString()}}function Sd(e,t){const r=function(e,t){const r=new xd([],{},{},\"\",{},\"primary\",t,null,e.root,-1,{});return new Td(\"\",new wd(r,[]))}(e,t),n=new Sa([new Jl(\"\",{})]),s=new Sa({}),i=new Sa({}),o=new Sa({}),a=new Sa(\"\"),c=new Cd(n,s,o,a,i,\"primary\",t,r.root);return c.snapshot=r.root,new _d(new wd(c,[]),r)}class Cd{constructor(e,t,r,n,s,i,o,a){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=s,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(z(e=>jl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z(e=>jl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rd(e,t=\"emptyOnly\"){const r=e.pathFromRoot;let n=0;if(\"always\"!==t)for(n=r.length-1;n>=1;){const e=r[n],t=r[n-1];if(e.routeConfig&&\"\"===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(n))}class xd{constructor(e,t,r,n,s,i,o,a,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join(\"/\")}', path:'${this.routeConfig?this.routeConfig.path:\"\"}')`}}class Td extends gd{constructor(e,t){super(t),this.url=e,kd(this,t)}toString(){return Ed(this._root)}}function kd(e,t){t.value._routerState=e,t.children.forEach(t=>kd(e,t))}function Ed(e){const t=e.children.length>0?` { ${e.children.map(Ed).join(\", \")} } `:\"\";return`${e.value}${t}`}function Pd(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,$l(t.queryParams,r.queryParams)||e.queryParams.next(r.queryParams),t.fragment!==r.fragment&&e.fragment.next(r.fragment),$l(t.params,r.params)||e.params.next(r.params),function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!$l(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.url.next(r.url),$l(t.data,r.data)||e.data.next(r.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Id(e,t){var r,n;return $l(e.params,t.params)&&Xl(r=e.url,n=t.url)&&r.every((e,t)=>$l(e.parameters,n[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Id(e.parent,t.parent))}function Dd(e){return\"object\"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Od(e,t,r,n,s){let i={};return n&&Wl(n,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>\"\"+e):\"\"+e}),new Zl(r.root===e?t:function e(t,r,n){const s={};return Wl(t.children,(t,i)=>{s[i]=t===r?n:e(t,r,n)}),new Yl(t.segments,s)}(r.root,e,t),i,s)}class Md{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dd(r[0]))throw new Error(\"Root segment cannot have matrix parameters\");const n=r.find(e=>\"object\"==typeof e&&null!=e&&e.outlets);if(n&&n!==Gl(r))throw new Error(\"{outlets:{}} has to be the last command\")}toRoot(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]}}class Ad{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ld(e){return\"object\"==typeof e&&null!=e&&e.outlets?e.outlets.primary:\"\"+e}function jd(e,t,r){if(e||(e=new Yl([],{})),0===e.segments.length&&e.hasChildren())return Nd(e,t,r);const n=function(e,t,r){let n=0,s=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=r.length)return i;const t=e.segments[s],o=Ld(r[n]),a=n<r.length-1?r[n+1]:null;if(s>0&&void 0===o)break;if(o&&a&&\"object\"==typeof a&&void 0===a.outlets){if(!Vd(o,a,t))return i;n+=2}else{if(!Vd(o,{},t))return i;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,t,r),s=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new Yl(e.segments.slice(0,n.pathIndex),{});return t.children.primary=new Yl(e.segments.slice(n.pathIndex),e.children),Nd(t,0,s)}return n.match&&0===s.length?new Yl(e.segments,{}):n.match&&!e.hasChildren()?Fd(e,t,r):n.match?Nd(e,0,s):Fd(e,t,r)}function Nd(e,t,r){if(0===r.length)return new Yl(e.segments,{});{const n=function(e){return\"object\"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(r),s={};return Wl(n,(r,n)=>{null!==r&&(s[n]=jd(e.children[n],t,r))}),Wl(e.children,(e,t)=>{void 0===n[t]&&(s[t]=e)}),new Yl(e.segments,s)}}function Fd(e,t,r){const n=e.segments.slice(0,t);let s=0;for(;s<r.length;){if(\"object\"==typeof r[s]&&void 0!==r[s].outlets){const e=Bd(r[s].outlets);return new Yl(n,e)}if(0===s&&Dd(r[0])){n.push(new Jl(e.segments[t].path,r[0])),s++;continue}const i=Ld(r[s]),o=s<r.length-1?r[s+1]:null;i&&o&&Dd(o)?(n.push(new Jl(i,Ud(o))),s+=2):(n.push(new Jl(i,{})),s++)}return new Yl(n,{})}function Bd(e){const t={};return Wl(e,(e,r)=>{null!==e&&(t[r]=Fd(new Yl([],{}),0,e))}),t}function Ud(e){const t={};return Wl(e,(e,r)=>t[r]=\"\"+e),t}function Vd(e,t,r){return e==r.path&&$l(t,r.parameters)}class zd{constructor(e,t,r,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=n}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const n=bd(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],r),delete n[t]}),Wl(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,r)})}deactivateRoutes(e,t,r){const n=e.value,s=t?t.value:null;if(n===s)if(n.component){const s=r.getContext(n.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const t=r.outlet.detach(),n=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet);if(r){const n=bd(e),s=e.value.component?r.children:t;Wl(n,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}activateChildRoutes(e,t,r){const n=bd(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],r),this.forwardEvent(new Ol(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Il(e.value.snapshot))}activateRoutes(e,t,r){const n=e.value,s=t?t.value:null;if(Pd(n),n===s)if(n.component){const s=r.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(n.component){const t=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Hd(e.route)}else{const r=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),s=r?r.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=s,t.outlet&&t.outlet.activateWith(n,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,r)}}function Hd(e){Pd(e.value),e.children.forEach(Hd)}function $d(e){return\"function\"==typeof e}function qd(e){return e instanceof Zl}class Gd{constructor(e){this.segmentGroup=e||null}}class Wd{constructor(e){this.urlTree=e}}function Kd(e){return new _(t=>t.error(new Gd(e)))}function Qd(e){return new _(t=>t.error(new Wd(e)))}function Zd(e){return new _(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Yd{constructor(e,t,r,n,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=n,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Le)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,\"primary\").pipe(z(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wa(e=>{if(e instanceof Wd)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Gd)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,\"primary\").pipe(z(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Wa(e=>{if(e instanceof Gd)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const n=e.segments.length>0?new Yl([],{primary:e}):e;return new Zl(n,t,r)}expandSegmentGroup(e,t,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(z(e=>new Yl([],e))):this.expandSegment(e,r,t,r.segments,n,!0)}expandChildren(e,t,r){return function(e,t){if(0===Object.keys(e).length)return _a({});const r=[],n=[],s={};return Wl(e,(e,i)=>{const o=t(i,e).pipe(z(e=>s[i]=e));\"primary\"===i?r.push(o):n.push(o)}),_a.apply(null,r.concat(n)).pipe(Pa(),Ga(),z(()=>s))}(r.children,(r,n)=>this.expandSegmentGroup(e,t,n,r))}expandSegment(e,t,r,n,s,i){return _a(...r).pipe(z(o=>this.expandSegmentAgainstRoute(e,t,r,o,n,s,i).pipe(Wa(e=>{if(e instanceof Gd)return _a(null);throw e}))),Pa(),Xa(e=>!!e),Wa((e,r)=>{if(e instanceof Ra||\"EmptyError\"===e.name){if(this.noLeftoversInUrl(t,n,s))return _a(new Yl([],{}));throw new Gd(t)}throw e}))}noLeftoversInUrl(e,t,r){return 0===t.length&&!e.children[r]}expandSegmentAgainstRoute(e,t,r,n,s,i,o){return tu(n)!==i?Kd(t):void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,n,s,i):Kd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,n,s,i){return\"**\"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,n){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith(\"/\")?Qd(s):this.lineralizeSegments(r,s).pipe(W(r=>{const s=new Yl(r,{});return this.expandSegment(e,s,t,r,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,s,i){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Jd(t,n,s);if(!o)return Kd(t);const d=this.applyRedirectCommands(a,n.redirectTo,l);return n.redirectTo.startsWith(\"/\")?Qd(d):this.lineralizeSegments(n,d).pipe(W(n=>this.expandSegment(e,t,r,n.concat(s.slice(c)),i,!1)))}matchSegmentAgainstRoute(e,t,r,n){if(\"**\"===r.path)return r.loadChildren?this.configLoader.load(e.injector,r).pipe(z(e=>(r._loadedConfig=e,new Yl(n,{})))):_a(new Yl(n,{}));const{matched:s,consumedSegments:i,lastChild:o}=Jd(t,r,n);if(!s)return Kd(t);const a=n.slice(o);return this.getChildConfig(e,r,n).pipe(W(e=>{const r=e.module,n=e.routes,{segmentGroup:s,slicedSegments:o}=function(e,t,r,n){return r.length>0&&function(e,t,r){return r.some(r=>eu(e,t,r)&&\"primary\"!==tu(r))}(e,r,n)?{segmentGroup:Xd(new Yl(t,function(e,t){const r={};r.primary=t;for(const n of e)\"\"===n.path&&\"primary\"!==tu(n)&&(r[tu(n)]=new Yl([],{}));return r}(n,new Yl(r,e.children)))),slicedSegments:[]}:0===r.length&&function(e,t,r){return r.some(r=>eu(e,t,r))}(e,r,n)?{segmentGroup:Xd(new Yl(e.segments,function(e,t,r,n){const s={};for(const i of r)eu(e,t,i)&&!n[tu(i)]&&(s[tu(i)]=new Yl([],{}));return Object.assign({},n,s)}(e,r,n,e.children))),slicedSegments:r}:{segmentGroup:e,slicedSegments:r}}(t,i,a,n);return 0===o.length&&s.hasChildren()?this.expandChildren(r,n,s).pipe(z(e=>new Yl(i,e))):0===n.length&&0===o.length?_a(new Yl(i,{})):this.expandSegment(r,s,n,o,\"primary\",!0).pipe(z(e=>new Yl(i.concat(e.segments),e.children)))}))}getChildConfig(e,t,r){return t.children?_a(new Bl(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_a(t._loadedConfig):function(e,t,r){const n=t.canLoad;return n&&0!==n.length?G(n).pipe(z(n=>{const s=e.get(n);let i;if(function(e){return e&&$d(e.canLoad)}(s))i=s.canLoad(t,r);else{if(!$d(s))throw new Error(\"Invalid CanLoad guard\");i=s(t,r)}return Kl(i)})).pipe(Pa(),(s=e=>!0===e,e=>e.lift(new ec(s,void 0,e)))):_a(!0);var s}(e.injector,t,r).pipe(W(r=>r?this.configLoader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,e))):function(e){return new _(t=>t.error(Nl(`Cannot load children because the guard of the route \"path: '${e.path}'\" returned false`)))}(t))):_a(new Bl([],e))}lineralizeSegments(e,t){let r=[],n=t.root;for(;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return _a(r);if(n.numberOfChildren>1||!n.children.primary)return Zd(e.redirectTo);n=n.children.primary}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,n){const s=this.createSegmentGroup(e,t.root,r,n);return new Zl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wl(e,(e,n)=>{if(\"string\"==typeof e&&e.startsWith(\":\")){const s=e.substring(1);r[n]=t[s]}else r[n]=e}),r}createSegmentGroup(e,t,r,n){const s=this.createSegments(e,t.segments,r,n);let i={};return Wl(t.children,(t,s)=>{i[s]=this.createSegmentGroup(e,t,r,n)}),new Yl(s,i)}createSegments(e,t,r,n){return t.map(t=>t.path.startsWith(\":\")?this.findPosParam(e,t,n):this.findOrReturn(t,r))}findPosParam(e,t,r){const n=r[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let r=0;for(const n of t){if(n.path===e.path)return t.splice(r),n;r++}return e}}function Jd(e,t,r){if(\"\"===t.path)return\"full\"===t.pathMatch&&(e.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(t.matcher||Fl)(r,e,t);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Xd(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Yl(e.segments.concat(t.segments),t.children)}return e}function eu(e,t,r){return(!(e.hasChildren()||t.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0!==r.redirectTo}function tu(e){return e.outlet||\"primary\"}class ru{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nu{constructor(e,t){this.component=e,this.route=t}}function su(e,t,r){const n=e._root;return function e(t,r,n,s,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bd(r);return t.children.forEach(t=>{!function(t,r,n,s,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=r?r.value:null,c=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(e,t,r){if(\"function\"==typeof r)return r(e,t);switch(r){case\"pathParamsChange\":return!Xl(e.url,t.url);case\"pathParamsOrQueryParamsChange\":return!Xl(e.url,t.url)||!$l(e.queryParams,t.queryParams);case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!Id(e,t)||!$l(e.queryParams,t.queryParams);case\"paramsChange\":default:return!Id(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ru(s)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,r,o.component?c?c.children:null:n,s,i),l&&i.canDeactivateChecks.push(new nu(c&&c.outlet&&c.outlet.component||null,a))}else a&&ou(r,c,i),i.canActivateChecks.push(new ru(s)),e(t,null,o.component?c?c.children:null:n,s,i)}(t,o[t.value.outlet],n,s.concat([t.value]),i),delete o[t.value.outlet]}),Wl(o,(e,t)=>ou(e,n.getContext(t),i)),i}(n,t?t._root:null,r,[n.value])}function iu(e,t,r){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:r).get(e)}function ou(e,t,r){const n=bd(e),s=e.value;Wl(n,(e,n)=>{ou(e,s.component?t?t.children.getContext(n):null:t,r)}),r.canDeactivateChecks.push(new nu(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const au=Symbol(\"INITIAL_VALUE\");function cu(){return rc(e=>function(...e){let t=null,r=null;return P(e[e.length-1])&&(r=e.pop()),\"function\"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),q(e,r).lift(new Ta(t))}(...e.map(e=>e.pipe(Za(1),function(...e){return t=>{let r=e[e.length-1];P(r)?e.pop():r=null;const n=e.length;return function(...e){return Pa()(_a(...e))}(1!==n||r?n>0?q(e,r):wa(r):ba(e[0]),t)}}(au)))).pipe(ic((e,t)=>{let r=!1;return t.reduce((e,n,s)=>{if(e!==au)return e;if(n===au&&(r=!0),!r){if(!1===n)return n;if(s===t.length-1||qd(n))return n}return e},e)},au),Ia(e=>e!==au),z(e=>qd(e)?e:!0===e),Za(1)))}function lu(e,t){return null!==e&&t&&t(new Dl(e)),_a(!0)}function du(e,t){return null!==e&&t&&t(new Pl(e)),_a(!0)}function uu(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?_a(n.map(n=>Ea(()=>{const s=iu(n,t,r);let i;if(function(e){return e&&$d(e.canActivate)}(s))i=Kl(s.canActivate(t,e));else{if(!$d(s))throw new Error(\"Invalid CanActivate guard\");i=Kl(s(t,e))}return i.pipe(Xa())}))).pipe(cu()):_a(!0)}function hu(e,t,r){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Ea(()=>_a(t.guards.map(s=>{const i=iu(s,t.node,r);let o;if(function(e){return e&&$d(e.canActivateChild)}(i))o=Kl(i.canActivateChild(n,e));else{if(!$d(i))throw new Error(\"Invalid CanActivateChild guard\");o=Kl(i(n,e))}return o.pipe(Xa())})).pipe(cu())));return _a(s).pipe(cu())}class pu{}class fu{constructor(e,t,r,n,s,i){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=i}recognize(){try{const e=yu(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,\"primary\"),r=new xd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},\"primary\",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new wd(r,t),s=new Td(this.url,n);return this.inheritParamsAndData(s._root),_a(s)}catch(e){return new _(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,r=Rd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=ed(t,(t,r)=>this.processSegmentGroup(e,t,r));return function(e){const t={};e.forEach(e=>{const r=t[e.value.outlet];if(r){const t=r.url.map(e=>e.toString()).join(\"/\"),n=e.value.url.map(e=>e.toString()).join(\"/\");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${n}'.`)}t[e.value.outlet]=e.value})}(r),r.sort((e,t)=>\"primary\"===e.value.outlet?-1:\"primary\"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,r,n){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,r,n)}catch(s){if(!(s instanceof pu))throw s}if(this.noLeftoversInUrl(t,r,n))return[];throw new pu}noLeftoversInUrl(e,t,r){return 0===t.length&&!e.children[r]}processSegmentAgainstRoute(e,t,r,n){if(e.redirectTo)throw new pu;if((e.outlet||\"primary\")!==n)throw new pu;let s,i=[],o=[];if(\"**\"===e.path){const i=r.length>0?Gl(r).parameters:{};s=new xd(r,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bu(e),n,e.component,e,mu(t),gu(t)+r.length,_u(e))}else{const a=function(e,t,r){if(\"\"===t.path){if(\"full\"===t.pathMatch&&(e.hasChildren()||r.length>0))throw new pu;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(t.matcher||Fl)(r,e,t);if(!n)throw new pu;const s={};Wl(n.posParams,(e,t)=>{s[t]=e.path});const i=n.consumed.length>0?Object.assign({},s,n.consumed[n.consumed.length-1].parameters):s;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:i}}(t,e,r);i=a.consumedSegments,o=r.slice(a.lastChild),s=new xd(i,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bu(e),n,e.component,e,mu(t),gu(t)+i.length,_u(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=yu(t,i,o,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return[new wd(s,e)]}if(0===a.length&&0===l.length)return[new wd(s,[])];const d=this.processSegment(a,c,l,\"primary\");return[new wd(s,d)]}}function mu(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gu(e){let t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function yu(e,t,r,n,s){if(r.length>0&&function(e,t,r){return r.some(r=>vu(e,t,r)&&\"primary\"!==wu(r))}(e,r,n)){const s=new Yl(t,function(e,t,r,n){const s={};s.primary=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const i of r)if(\"\"===i.path&&\"primary\"!==wu(i)){const r=new Yl([],{});r._sourceSegment=e,r._segmentIndexShift=t.length,s[wu(i)]=r}return s}(e,t,n,new Yl(r,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===r.length&&function(e,t,r){return r.some(r=>vu(e,t,r))}(e,r,n)){const i=new Yl(e.segments,function(e,t,r,n,s,i){const o={};for(const a of n)if(vu(e,r,a)&&!s[wu(a)]){const r=new Yl([],{});r._sourceSegment=e,r._segmentIndexShift=\"legacy\"===i?e.segments.length:t.length,o[wu(a)]=r}return Object.assign({},s,o)}(e,t,r,n,e.children,s));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:r}}const i=new Yl(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:r}}function vu(e,t,r){return(!(e.hasChildren()||t.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0===r.redirectTo}function wu(e){return e.outlet||\"primary\"}function bu(e){return e.data||{}}function _u(e){return e.resolve||{}}function Su(e,t,r,n){const s=iu(e,t,n);return Kl(s.resolve?s.resolve(t,r):s(t,r))}function Cu(e){return function(t){return t.pipe(rc(t=>{const r=e(t);return r?G(r).pipe(z(()=>t)):G([t])}))}}class Ru{}class xu{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Tu=new xe(\"ROUTES\");class ku{constructor(e,t,r,n){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=n}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(z(r=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=r.create(e);return new Bl(ql(n.injector.get(Tu)).map(Hl),n)}))}loadModuleFactory(e){return\"string\"==typeof e?G(this.loader.load(e)):Kl(e()).pipe(W(e=>e instanceof je?_a(e):G(this.compiler.compileModuleAsync(e))))}}class Eu{}class Pu{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Iu(e){throw e}function Du(e,t,r){return t.parse(\"/\")}function Ou(e,t){return _a(null)}class Mu{constructor(e,t,r,n,s,i,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=r,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Iu,this.malformedUriErrorHandler=Du,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ou,afterPreactivation:Ou},this.urlHandlingStrategy=new Pu,this.routeReuseStrategy=new xu,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.urlUpdateStrategy=\"deferred\",this.relativeLinkResolution=\"legacy\",this.ngModule=s.get(Le),this.console=s.get(Ts);const c=s.get($s);this.isNgZoneEnabled=c instanceof $s,this.resetConfig(a),this.currentUrlTree=new Zl(new Yl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ku(i,o,e=>this.triggerEvent(new kl(e)),e=>this.triggerEvent(new El(e))),this.routerState=Sd(this.currentUrlTree,this.rootComponentType),this.transitions=new Sa({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:\"imperative\",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ia(e=>0!==e.id),z(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),rc(e=>{let r=!1,n=!1;return _a(e).pipe(Fa(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),rc(e=>{const r=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if((\"reload\"===this.onSameUrlNavigation||r)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return _a(e).pipe(rc(e=>{const r=this.transitions.getValue();return t.next(new vl(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==this.transitions.getValue()?va:[e]}),rc(e=>Promise.resolve(e)),(n=this.ngModule.injector,s=this.configLoader,i=this.urlSerializer,o=this.config,function(e){return e.pipe(rc(e=>function(e,t,r,n,s){return new Yd(e,t,r,n,s).apply()}(n,s,i,e.extractedUrl,o).pipe(z(t=>Object.assign({},e,{urlAfterRedirects:t})))))}),Fa(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,r,n,s){return function(i){return i.pipe(W(i=>function(e,t,r,n,s=\"emptyOnly\",i=\"legacy\"){return new fu(e,t,r,n,s,i).recognize()}(e,t,i.urlAfterRedirects,r(i.urlAfterRedirects),n,s).pipe(z(e=>Object.assign({},i,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Fa(e=>{\"eager\"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Fa(e=>{const r=new Sl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(r)}));var n,s,i,o;if(r&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:r,extractedUrl:n,source:s,restoredState:i,extras:o}=e,a=new vl(r,this.serializeUrl(n),s,i);t.next(a);const c=Sd(n,this.rootComponentType).snapshot;return _a(Object.assign({},e,{targetSnapshot:c,urlAfterRedirects:n,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),va}),Cu(e=>{const{targetSnapshot:t,id:r,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:r,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),Fa(e=>{const t=new Cl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),z(e=>Object.assign({},e,{guards:su(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(r){return r.pipe(W(r=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=r;return 0===o.length&&0===i.length?_a(Object.assign({},r,{guardsResult:!0})):function(e,t,r,n){return G(e).pipe(W(e=>function(e,t,r,n,s){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?_a(i.map(i=>{const o=iu(i,t,s);let a;if(function(e){return e&&$d(e.canDeactivate)}(o))a=Kl(o.canDeactivate(e,t,r,n));else{if(!$d(o))throw new Error(\"Invalid CanDeactivate guard\");a=Kl(o(e,t,r,n))}return a.pipe(Xa())})).pipe(cu()):_a(!0)}(e.component,e.route,r,t,n)),Xa(e=>!0!==e,!0))}(o,n,s,e).pipe(W(r=>r&&\"boolean\"==typeof r?function(e,t,r,n){return G(t).pipe(cc(t=>G([du(t.route.parent,n),lu(t.route,n),hu(e,t.path,r),uu(e,t.route,r)]).pipe(Pa(),Xa(e=>!0!==e,!0))),Xa(e=>!0!==e,!0))}(n,i,e,t):_a(r)),z(e=>Object.assign({},r,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Fa(e=>{if(qd(e.guardsResult)){const t=Nl(`Redirecting to \"${this.serializeUrl(e.guardsResult)}\"`);throw t.url=e.guardsResult,t}}),Fa(e=>{const t=new Rl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ia(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const r=new bl(e.id,this.serializeUrl(e.extractedUrl),\"\");return t.next(r),e.resolve(!1),!1}return!0}),Cu(e=>{if(e.guards.canActivateChecks.length)return _a(e).pipe(Fa(e=>{const t=new xl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(e){return e.pipe(W(e=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=e;return s.length?G(s).pipe(cc(e=>function(e,t,r,n){return function(e,t,r,n){const s=Object.keys(e);if(0===s.length)return _a({});if(1===s.length){const i=s[0];return Su(e[i],t,r,n).pipe(z(e=>({[i]:e})))}const i={};return G(s).pipe(W(s=>Su(e[s],t,r,n).pipe(z(e=>(i[s]=e,e))))).pipe(Ga(),z(()=>i))}(e._resolve,e,t,n).pipe(z(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Rd(e,r).resolve),null)))}(e.route,n,t,r)),function(e,t){return arguments.length>=2?function(r){return w(ic(e,t),La(1),Ha(t))(r)}:function(t){return w(ic((t,r,n)=>e(t,r,n+1)),La(1))(t)}}((e,t)=>e),z(t=>e)):_a(e)}))}),Fa(e=>{const t=new Tl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,r}),Cu(e=>{const{targetSnapshot:t,id:r,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:r,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),z(e=>{const t=function(e,t,r){const n=function e(t,r,n){if(n&&t.shouldReuseRoute(r.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=r.value;const i=function(t,r,n){return r.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(s.value.snapshot,r.value))return e(t,r,s);return e(t,r)})}(t,r,n);return new wd(s,i)}{const n=t.retrieve(r.value);if(n){const e=n.route;return function e(t,r){if(t.value.routeConfig!==r.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(t.children.length!==r.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");r.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)e(t.children[n],r.children[n])}(r,e),e}{const n=new Cd(new Sa((s=r.value).url),new Sa(s.params),new Sa(s.queryParams),new Sa(s.fragment),new Sa(s.data),s.outlet,s.component,s),i=r.children.map(r=>e(t,r));return new wd(n,i)}}var s}(e,t._root,r?r._root:void 0);return new _d(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Fa(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,\"deferred\"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),z(e=>(new zd(o,e.targetRouterState,e.currentRouterState,a).activate(i),e))),Fa({next(){r=!0},complete(){r=!0}}),(s=()=>{if(!r&&!n){this.resetUrlToCurrentUrlTree();const r=new bl(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(r),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new lc(s))),Wa(r=>{if(n=!0,(s=r)&&s.ngNavigationCancelingError){const n=qd(r.url);n||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new bl(e.id,this.serializeUrl(e.extractedUrl),r.message);t.next(s),e.resolve(!1),n&&this.navigateByUrl(r.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const n=new _l(e.id,this.serializeUrl(e.extractedUrl),r);t.next(n);try{e.resolve(this.errorHandler(r))}catch(i){e.reject(i)}}var s;return va}));var s,i,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const r=\"popstate\"===e.type?\"popstate\":\"hashchange\",n=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,r,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ul(e),this.config=e.map(Hl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:r,queryParams:n,fragment:s,preserveQueryParams:i,queryParamsHandling:o,preserveFragment:a}=t;We()&&i&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");const c=r||this.routerState.root,l=a?this.currentUrlTree.fragment:s;let d=null;if(o)switch(o){case\"merge\":d=Object.assign({},this.currentUrlTree.queryParams,n);break;case\"preserve\":d=this.currentUrlTree.queryParams;break;default:d=n||null}else d=i?this.currentUrlTree.queryParams:n||null;return null!==d&&(d=this.removeEmptyProps(d)),function(e,t,r,n,s){if(0===r.length)return Od(t.root,t.root,t,n,s);const i=function(e){if(\"string\"==typeof e[0]&&1===e.length&&\"/\"===e[0])return new Md(!0,0,e);let t=0,r=!1;const n=e.reduce((e,n,s)=>{if(\"object\"==typeof n&&null!=n){if(n.outlets){const t={};return Wl(n.outlets,(e,r)=>{t[r]=\"string\"==typeof e?e.split(\"/\"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return\"string\"!=typeof n?[...e,n]:0===s?(n.split(\"/\").forEach((n,s)=>{0==s&&\".\"===n||(0==s&&\"\"===n?r=!0:\"..\"===n?t++:\"\"!=n&&e.push(n))}),e):[...e,n]},[]);return new Md(r,t,n)}(r);if(i.toRoot())return Od(t.root,new Yl([],{}),t,n,s);const o=function(e,t,r){if(e.isAbsolute)return new Ad(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Ad(r.snapshot._urlSegment,!0,0);const n=Dd(e.commands[0])?0:1;return function(e,t,r){let n=e,s=t,i=r;for(;i>s;){if(i-=s,n=n.parent,!n)throw new Error(\"Invalid number of '../'\");s=n.segments.length}return new Ad(n,!1,s-i)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(i,t,e),a=o.processChildren?Nd(o.segmentGroup,o.index,i.commands):jd(o.segmentGroup,o.index,i.commands);return Od(o.segmentGroup,a,t,n,s)}(c,this.currentUrlTree,e,d,l)}navigateByUrl(e,t={skipLocationChange:!1}){We()&&this.isNgZoneEnabled&&!$s.isInAngularZone()&&this.console.warn(\"Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?\");const r=qd(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,\"imperative\",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(r){t=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return t}isActive(e,t){if(qd(e))return Ql(this.currentUrlTree,e,t);const r=this.parseUrl(e);return Ql(this.currentUrlTree,r,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return null!=n&&(t[r]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new wl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn(\"Unhandled Navigation Error: \")})}scheduleNavigation(e,t,r,n){const s=this.getTransition();if(s&&\"imperative\"!==t&&\"imperative\"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&\"hashchange\"==t&&\"popstate\"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&\"popstate\"==t&&\"hashchange\"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,o=null;const a=new Promise((e,t)=>{i=e,o=t}),c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:i,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,r,n){const s=this.urlSerializer.serialize(e);n=n||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,\"\",Object.assign({},n,{navigationId:r})):this.location.go(s,\"\",Object.assign({},n,{navigationId:r}))}resetStateAndUrl(e,t,r){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})}}class Au{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lu,this.attachRef=null}}class Lu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Au,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class ju{constructor(e,t,r,n,s){this.parentContexts=e,this.location=t,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ms,this.deactivateEvents=new ms,this.name=n||\"primary\",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=e;const r=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,s=new Nu(e,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Nu{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cd?this.route:e===Lu?this.childContexts:this.parent.get(e,t)}}class Fu{}class Bu{preload(e,t){return t().pipe(Wa(()=>_a(null)))}}class Uu{preload(e,t){return _a(null)}}class Vu{constructor(e,t,r,n,s){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=new ku(t,r,t=>e.triggerEvent(new kl(t)),t=>e.triggerEvent(new El(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ia(e=>e instanceof wl),cc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Le);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const r=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;r.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?r.push(this.preloadConfig(e,n)):n.children&&r.push(this.processRoutes(e,n.children));return G(r).pipe(Y(),z(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(W(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class zu{constructor(e,t,r={}){this.router=e,this.viewportScroller=t,this.options=r,this.lastId=0,this.lastSource=\"imperative\",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||\"disabled\",r.anchorScrolling=r.anchorScrolling||\"disabled\"}init(){\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration(\"manual\"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ml&&(e.position?\"top\"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):\"enabled\"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&\"enabled\"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ml(e,\"popstate\"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Hu=new xe(\"ROUTER_CONFIGURATION\"),$u=new xe(\"ROUTER_FORROOT_GUARD\"),qu=[ra,{provide:td,useClass:rd},{provide:Mu,useFactory:Ju,deps:[ci,td,Lu,ra,Tt,di,Ms,Tu,Hu,[Eu,new ce],[Ru,new ce]]},Lu,{provide:Cd,useFactory:Xu,deps:[Mu]},{provide:di,useClass:pi},Vu,Uu,Bu,{provide:Hu,useValue:{enableTracing:!1}}];function Gu(){return new ni(\"Router\",Mu)}class Wu{constructor(e,t){}static forRoot(e,t){return{ngModule:Wu,providers:[qu,Yu(e),{provide:$u,useFactory:Zu,deps:[[Mu,new ce,new de]]},{provide:Hu,useValue:t||{}},{provide:ea,useFactory:Qu,deps:[Jo,[new ae(ta),new ce],Hu]},{provide:zu,useFactory:Ku,deps:[Mu,ga,Hu]},{provide:Fu,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Uu},{provide:ni,multi:!0,useFactory:Gu},[eh,{provide:vs,multi:!0,useFactory:th,deps:[eh]},{provide:nh,useFactory:rh,deps:[eh]},{provide:xs,multi:!0,useExisting:nh}]]}}static forChild(e){return{ngModule:Wu,providers:[Yu(e)]}}}function Ku(e,t,r){return r.scrollOffset&&t.setOffset(r.scrollOffset),new zu(e,t,r)}function Qu(e,t,r={}){return r.useHash?new sa(e,t):new ia(e,t)}function Zu(e){if(e)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function Yu(e){return[{provide:At,multi:!0,useValue:e},{provide:Tu,multi:!0,useValue:e}]}function Ju(e,t,r,n,s,i,o,a,c={},l,d){const u=new Mu(null,t,r,n,s,i,o,ql(a));if(l&&(u.urlHandlingStrategy=l),d&&(u.routeReuseStrategy=d),c.errorHandler&&(u.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(u.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const e=hc();u.events.subscribe(t=>{e.logGroup(\"Router Event: \"+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return c.onSameUrlNavigation&&(u.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(u.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(u.relativeLinkResolution=c.relativeLinkResolution),u}function Xu(e){return e.routerState.root}class eh{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Xo,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),r=this.injector.get(Mu),n=this.injector.get(Hu);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))e(!0);else if(\"disabled\"===n.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if(\"enabled\"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);r.hooks.afterPreactivation=()=>this.initNavigation?_a(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),r.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Hu),r=this.injector.get(Vu),n=this.injector.get(zu),s=this.injector.get(Mu),i=this.injector.get(ci);e===i.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),r.setUpPreloading(),n.init(),s.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return\"legacy_enabled\"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return\"legacy_disabled\"===e.initialNavigation||!1===e.initialNavigation}}function th(e){return e.appInitializer.bind(e)}function rh(e){return e.bootstrapListener.bind(e)}const nh=new xe(\"Router Initializer\");var sh=Vr({encapsulation:2,styles:[],data:{}});function ih(e){return Vi(0,[(e()(),Ei(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Zn(1,212992,null,0,ju,[Lu,xr,Qt,[8,null],St],null,null)],(function(e,t){e(t,1,0)}),null)}function oh(e){return Vi(0,[(e()(),Ei(0,0,null,null,1,\"ng-component\",[],null,null,null,ih,sh)),Zn(1,49152,null,0,Al,[],null,null)],null,null)}var ah=Tn(\"ng-component\",Al,oh,{},{},[]);class ch{constructor(e,t){this.router=e,this.roomService=t}ngOnInit(){}preview(e){console.log(e),this.roomService.getRoom(e).subscribe(t=>{console.log(\"room from room find\",t),t.length>0?(console.log(\"found\"),this.router.navigate([\"/room/\"+e])):(console.log(\"not found\"),this.notFound=!0),console.log(t)})}createRoom(){var e=this.makeid(15);console.log(\"created id\",e),this.roomService.createRoom(e).subscribe(t=>{this.router.navigate([\"/room/\"+e]),console.log(t)})}makeid(e){for(var t=\"\",r=\"abcdefghijklmnopqrtuvwxyz\".length,n=0;n<e;n++)t+=\"abcdefghijklmnopqrtuvwxyz\".charAt(Math.floor(Math.random()*r));return t}}class lh{constructor(e,t){this.http=e,this.ProcessHttpmsgService=t}isOpen(){return this._isOpen}getRoom(e){return this.http.get(Qo+\"main/lookup/\"+e).pipe(Wa(this.ProcessHttpmsgService.handleError))}createRoom(e){return this.http.post(Qo+\"main/create/\",{id:e}).pipe(Wa(this.ProcessHttpmsgService.handleError))}joinRoom(e,t){return this.http.post(Qo+\"main/join/\",{name:e,room:t}).pipe(Wa(this.ProcessHttpmsgService.handleError))}}var dh=Vr({encapsulation:0,styles:[[\"\"]],data:{}});function uh(e){return Vi(0,[(e()(),Ei(0,0,null,null,1,\"h3\",[],null,null,null,null,null)),(e()(),Fi(-1,null,[\"Uh oh! Room not found. Try a different link or create a brand new room\"]))],null,null)}function hh(e){return Vi(0,[(e()(),Ei(0,0,null,null,1,\"h1\",[],null,null,null,null,null)),(e()(),Fi(-1,null,[\"Welcome to NEON\"])),(e()(),Ei(2,0,null,null,1,\"p\",[],null,null,null,null,null)),(e()(),Fi(-1,null,[\"Joining a room? Enter the room ID here or enter the join URL in a different tab\"])),(e()(),Ei(4,0,[[\"roomID\",1]],null,0,\"input\",[[\"id\",\"roomID\"],[\"placeholder\",\"Room ID\"]],null,null,null,null,null)),(e()(),Ei(5,0,null,null,1,\"button\",[],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.preview(Nn(e,4).value)&&n),n}),null,null)),(e()(),Fi(-1,null,[\"Preview Video\"])),(e()(),Ei(7,0,null,null,1,\"p\",[],null,null,null,null,null)),(e()(),Fi(-1,null,[\"add imagery of tubes here\"])),(e()(),Ei(9,0,null,null,1,\"button\",[],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.createRoom()&&n),n}),null,null)),(e()(),Fi(-1,null,[\"Create A Room\"])),(e()(),ki(16777216,null,null,1,null,uh)),Zn(12,16384,null,0,ua,[xr,Cr],{ngIf:[0,\"ngIf\"]},null)],(function(e,t){e(t,12,0,t.component.notFound)}),null)}function ph(e){return Vi(0,[(e()(),Ei(0,0,null,null,1,\"app-entry\",[],null,null,null,hh,dh)),Zn(1,114688,null,0,ch,[Mu,lh],null,null)],(function(e,t){e(t,1,0)}),null)}var fh=Tn(\"app-entry\",ch,ph,{},{},[]);function mh(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}var gh=r(\"3fo0\");class yh{constructor(e,t,r,n,s,i,o,a,c,l,d){this.roomService=c,this._EVENTS={exitRoom:\"exitRoom\",openRoom:\"openRoom\",startVideo:\"startVideo\",stopVideo:\"stopVideo\",startAudio:\"startAudio\",stopAudio:\"stopAudio\",startScreen:\"startScreen\",stopScreen:\"stopScreen\"},this.mediaType={audio:\"audioType\",video:\"videoType\",screen:\"screenType\"},console.log(\"vidsource\",l),console.log(\"room\",i),this.room_id=i,this.username=o,console.log(\"socket\",s),this.localMediaEl=e,this.name=o,this.username=o,this.vidSource=l,this.audSource=d,this.userLabel=document.getElementById(\"userLabel\"),this.remoteAudioEl=n,this.remoteVideoEl1=t,this.remoteVideoEl2=r,this.successCallback=a,this.socket=s,this.y=0,this.consumers=new Map,this.producers=new Map,this.roomService.getRoom(this.room_id).subscribe(e=>{this.room=e,console.log(\"room from initial\",e)}),this.socket.request=function(e,t={}){return new Promise((r,n)=>{this.emit(e,t,e=>{e.error?n(e.error):r(e)})})},this.producerLabel=new Map,this._isOpen=!1,this.eventListeners=new Map,Object.keys(this._EVENTS).forEach((function(e){this.eventListeners.set(e,[])}).bind(this)),this.createRoom(i).then((function(){return mh(this,void 0,void 0,(function*(){yield this.join(o,i),this.initSockets(),this._isOpen=!0,this.successCallback()}))}).bind(this))}isOpen(){return this._isOpen}createRoom(e){return mh(this,void 0,void 0,(function*(){console.log(\"socket from creatteroom\",this.socket),yield this.socket.request(\"createRoom\",{room_id:e}).catch(e=>{console.log(e)})}))}add(){return mh(this,void 0,void 0,(function*(){console.log(\"add button clicked\")}))}join(e,t){return mh(this,void 0,void 0,(function*(){var r=document.getElementById(\"nameInput\"),n=document.getElementById(\"userLabel\");this.reveal(r),this.reveal(n);const s=[];console.log(\"name from join\",e),console.log(\"name input from join\",r.value),this.socket.request(\"join\",{name:e,room_id:t}).then((function(t){return mh(this,void 0,void 0,(function*(){s[0]=e,console.log(t);const r=yield this.socket.request(\"getRouterRtpCapabilities\");s[1]=r,console.log(\"data\",r);let n=yield this.loadDevice(r);this.device=n,s[2]=n,yield this.initTransports(this.device),this.produceAudio(this.mediaType.audio,this.vidSource,this.name),console.log(\"usercount is 0\"),this.produceVideo(this.mediaType.video,this.vidSource,this.name),this.socket.emit(\"getProducers\")}))}).bind(this)).catch(e=>{console.log(e)})}))}loadDevice(e){return mh(this,void 0,void 0,(function*(){try{const t=new gh.Device;return console.log(\"device\",t),yield t.load({routerRtpCapabilities:e}),this.device=t,t}catch(t){\"UnsupportedError\"===t.name&&console.error(\"browser not supported\"),console.error(t)}}))}initTransports(e){return mh(this,void 0,void 0,(function*(){console.log(\"init transports\"),console.log(\"name from init transports\",this.username);{const t=yield this.socket.request(\"createWebRtcTransport\",{forceTcp:!1,rtpCapabilities:e.rtpCapabilities});if(console.log(\"createtwebrtc datat\",t),t.error)return void console.error(t.error);this.producerTransport=e.createSendTransport(t),this.producerTransport.on(\"connect\",(function({dtlsParameters:e},r,n){return mh(this,void 0,void 0,(function*(){this.socket.request(\"connectTransport\",{dtlsParameters:e,transport_id:t.id}).then(r).catch(n)}))}).bind(this)),this.producerTransport.on(\"produce\",(function({kind:e,rtpParameters:t},r,n){return mh(this,void 0,void 0,(function*(){try{const{producer_id:n}=yield this.socket.request(\"produce\",{producerTransportId:this.producerTransport.id,kind:e,rtpParameters:t});r({id:n})}catch(s){n(s)}}))}).bind(this)),this.producerTransport.on(\"connectionstatechange\",(function(e){switch(e){case\"connecting\":case\"connected\":break;case\"failed\":this.producerTransport.close()}}).bind(this))}{const t=yield this.socket.request(\"createWebRtcTransport\",{forceTcp:!1});if(console.log(\"forcetcp data\",t),t.error)return void console.error(t.error);this.consumerTransport=e.createRecvTransport(t),this.consumerTransport.on(\"connect\",(function({dtlsParameters:e},t,r){this.socket.request(\"connectTransport\",{transport_id:this.consumerTransport.id,dtlsParameters:e}).then(t).catch(r)}).bind(this)),this.consumerTransport.on(\"connectionstatechange\",(function(e){return mh(this,void 0,void 0,(function*(){switch(e){case\"connecting\":case\"connected\":break;case\"failed\":this.consumerTransport.close()}}))}).bind(this))}}))}initSockets(){this.socket.on(\"consumerClosed\",(function({consumer_id:e}){console.log(\"closing consumer:\",e),this.removeConsumer(e)}).bind(this)),this.socket.on(\"newProducers\",(function(e){return mh(this,void 0,void 0,(function*(){console.log(\"new producers\",e);for(let{producer_id:t}of e)yield this.consume(t)}))}).bind(this)),this.socket.on(\"disconnect\",(function(){this.exit(!0)}).bind(this))}hide(e){e.classList.add(\"hidden\")}reveal(e){e.classList.remove(\"hidden\")}produceVideo(e,t=null,r){return mh(this,void 0,void 0,(function*(){console.log(\"produce video called\");var n=document.getElementById(\"previewvid\"),s=document.getElementById(\"nameInput\"),i=document.getElementById(\"startVideoButton\"),o=document.getElementById(\"userLabel\"),a=document.getElementById(\"preview\"),c=document.getElementById(\"remoteVideos1\"),l=document.getElementById(\"remoteVideos2\"),d=document.getElementById(\"radio\");n&&n.srcObject.getTracks().forEach((function(e){e.stop()})),this.hide(s),this.hide(i),this.hide(o),a&&(a.remove(),this.hide(a)),this.reveal(d),this.reveal(c),this.reveal(l),console.log(\"name is\",r),console.log(\"producetype\",e),console.log(\"device id\",t);let u,h={},p=!1,f=!1;switch(e){case this.mediaType.audio:h={audio:{deviceId:t},video:!1},p=!0;break;case this.mediaType.video:h={audio:!0,video:{width:{min:400,ideal:720},height:{min:400,ideal:720},deviceId:t,aspectRatio:{ideal:1.7777777778}}};break;case this.mediaType.screen:h=!1,f=!0;break;default:return}if(this.device.canProduce(\"video\")||p)if(this.producerLabel.has(e))console.log(\"producer already exists for this type \"+e);else{console.log(\"mediacontraints:\",h);try{const t=navigator.mediaDevices;u=f?yield t.getDisplayMedia():yield t.getUserMedia(h),console.log(t.getSupportedConstraints()),console.log(\"stream from produce\",u);const r={track:p?u.getAudioTracks()[0]:u.getVideoTracks()[0]};console.log(r),p||f||(r.track.encodings=[{rid:\"r0\",maxBitrate:1e5,scalabilityMode:\"S1T3\"},{rid:\"r1\",maxBitrate:3e5,scalabilityMode:\"S1T3\"},{rid:\"r2\",maxBitrate:9e5,scalabilityMode:\"S1T3\"}],r.track.codecOptions={videoGoogleStartBitrate:1e3});var m=yield this.producerTransport.produce(r);let n,s,i,o;console.log(\"producer\",m),this.producers.set(m.id,m),console.log(\"this producers\",this.producers),o=this.room[0].usercount,this.myPosition=o+1,console.log(\"length before placement\",o),o%2==0?p||(s=document.createElement(\"div\"),s.className=\"outer\",console.log(\"placing in row 1\"),this.remoteVideoEl1.appendChild(s),n=document.createElement(\"video\"),n.srcObject=u,n.muted=!0,n.id=m.id,n.playsinline=!1,n.autoplay=!0,n.className=\"vid\",i=document.createElement(\"h1\"),i.innerHTML=this.username,i.className=\"abs\",s.appendChild(n),s.appendChild(i)):p||(s=document.createElement(\"div\"),s.className=\"outer\",console.log(\"placing in row 2\"),this.remoteVideoEl2.appendChild(s),n=document.createElement(\"video\"),n.srcObject=u,n.id=m.id,n.muted=!0,n.playsinline=!1,n.autoplay=!0,n.className=\"vid\",i=document.createElement(\"h1\"),i.innerHTML=this.username,i.className=\"abs\",s.appendChild(n),s.appendChild(i));var g=document.getElementsByClassName(\"outer\");if(console.log(\"element count\",g.length),1==g.length||2==g.length){g=document.getElementsByClassName(\"outer\");for(var y=0;y<g.length;y++)g[y].classList.add(\"one\")}if(3==g.length||4==g.length)for(g=document.getElementsByClassName(\"outer\"),y=0;y<g.length;y++)g[y].classList.add(\"two\");if(5==g.length||6==g.length)for(g=document.getElementsByClassName(\"outer\"),y=0;y<g.length;y++)g[y].classList.add(\"three\");if(7==g.length||8==g.length)for(g=document.getElementsByClassName(\"outer\"),y=0;y<g.length;y++)g[y].classList.add(\"four\");if(9==g.length||10==g.length)for(g=document.getElementsByClassName(\"outer\"),y=0;y<g.length;y++)g[y].classList.add(\"five\");switch(m.on(\"trackended\",()=>{this.closeProducer(e)}),m.on(\"transportclose\",()=>{console.log(\"producer transport close\",m.id),p||(n.srcObject.getTracks().forEach((function(e){console.log(\"velem track\",e),e.stop()})),n.parentNode.removeChild(n),console.log(\"inside\")),this.producers.delete(m.id),document.getElementById(m.id).remove();var e=document.getElementById(\"exitButton\");this.hide(e),console.log(\"stream\",u)}),m.on(\"close\",()=>{console.log(\"closing producer\"),p||(n.srcObject.getTracks().forEach((function(e){e.stop()})),n.parentNode.removeChild(n)),this.producers.delete(m.id)}),this.producerLabel.set(e,m.id),e){case this.mediaType.audio:this.event(this._EVENTS.startAudio);break;case this.mediaType.video:this.event(this._EVENTS.startAudio),this.event(this._EVENTS.startVideo);break;case this.mediaType.screen:this.event(this._EVENTS.startScreen);break;default:return}}catch(v){console.log(v)}}else console.error(\"cannot produce video\")}))}produceAudio(e,t=null,r){return mh(this,void 0,void 0,(function*(){console.log(\"producing audio\"),document.getElementById(\"previewvid\"),this.username=r,console.log(\"type\");let n,s={},i=!0,o=!1;switch(e){case this.mediaType.audio:s={audio:{deviceId:t},video:!1},i=!0;break;case this.mediaType.video:s={audio:!1,video:{width:{min:400,ideal:720},height:{min:400,ideal:720},deviceId:t,aspectRatio:{ideal:1.7777777778}}};break;case this.mediaType.screen:s=!1,o=!0;break;default:return}if(this.device.canProduce(\"video\")||i)if(this.producerLabel.has(e))console.log(\"producer already exists for this type \"+e);else{console.log(\"mediacontraints:\",s);try{const t=navigator.mediaDevices;n=o?yield t.getDisplayMedia():yield t.getUserMedia(s),console.log(t.getSupportedConstraints()),console.log(\"stream\",n);const r=i?n.getAudioTracks()[0]:n.getVideoTracks()[0],a=n.getAudioTracks()[0];console.log(\"audio trakcs\",a);const c={track:r};let l=yield this.producerTransport.produce(c);switch(console.log(\"producer\",l),this.producers.set(l.id,l),l.on(\"trackended\",()=>{this.closeProducer(e)}),l.on(\"transportclose\",()=>{console.log(\"producer transport close\",l.id),this.producers.delete(l.id),document.getElementById(l.id).remove(),console.log(\"stream\",n)}),l.on(\"close\",()=>{console.log(\"closing producer\"),this.producers.delete(l.id)}),this.producerLabel.set(e,l.id),e){case this.mediaType.audio:this.event(this._EVENTS.startAudio);break;case this.mediaType.video:this.event(this._EVENTS.startVideo);break;case this.mediaType.screen:this.event(this._EVENTS.startScreen);break;default:return}}catch(a){console.log(a)}}else console.error(\"cannot produce video\")}))}consume(e){return mh(this,void 0,void 0,(function*(){let t;console.log(\"consume event\"),t=document.querySelectorAll(\"video\").length,console.log(\"video count\",t),this.getConsumeStream(e).then((function({consumer:t,stream:r,kind:n}){let s,i,o,a;if(this.consumers.set(t.id,t),\"video\"===n){var c=this;console.log(\"before join name\",this.name),console.log(\"before join room id \",this.room_id),this.roomService.joinRoom(this.name,this.room_id).subscribe(n=>{console.log(\"room from room find\",n),console.log(\"join room success: \"),c.roomusers=n[0].users,console.log(\"room users from intro\",c.roomusers);var i=[];console.log(\"comparing\",c.roomusers,e);for(var l=e,d=0;d<c.roomusers.length;d++)c.roomusers[d].produce_id==l&&i.push(c.roomusers[d]),c.roomusers[d].name==this.name&&(this.myPosition=c.roomusers[d].position);if(console.log(\"results after\",i),console.log(\"length before placement\",c.roomusers.length),console.log(\"divided\",c.roomusers.length%2),i[0].position%2!=0?(console.log(\"results\",i),console.log(\"results\",i[0].name),console.log(\"video element creation\",this.y),o=document.createElement(\"div\"),o.className=\"outer\",c.remoteVideoEl1.appendChild(o),console.log(\"adding to row 1\"),this.y++,s=document.createElement(\"video\"),s.srcObject=r,s.id=t.id,s.playsinline=!1,s.autoplay=!0,s.className=\"vid\",a=document.createElement(\"h1\"),a.innerHTML=i[0].name,a.className=\"abs\",o.appendChild(s),o.appendChild(a)):(console.log(\"results\",i),console.log(\"results\",i[0].name),console.log(\"video element creation\",this.y),o=document.createElement(\"div\"),o.className=\"outer\",c.remoteVideoEl2.appendChild(o),console.log(\"adding to row 2\"),this.y++,s=document.createElement(\"video\"),s.srcObject=r,s.id=t.id,s.playsinline=!1,s.autoplay=!0,s.className=\"vid\",a=document.createElement(\"h1\"),a.innerHTML=i[0].name,a.className=\"abs\",o.appendChild(s),o.appendChild(a)),console.log(\"consumer id\",t.id),console.log(\"my position\",this.myPosition,\"result id\",i[0].produce_id),this.myPosition%2!=0)this.myPosition+3==i[0].position?(console.log(\"consumer id\",t.id),u.style.maxHeight=\"35vh\"):this.myPosition-1==i[0].position&&((u=document.getElementById(t.id)).style.maxHeight=\"35vh\");else if(this.myPosition-3==i[0].position)(u=document.getElementById(t.id)).style.maxHeight=\"35vh\";else if(this.myPosition+1==i[0].position){var u;(u=document.getElementById(t.id)).style.maxHeight=\"35vh\"}var h=document.getElementsByClassName(\"outer\");if(console.log(\"element count\",h.length),1==h.length||2==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"one\");if(3==h.length||4==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"two\");if(5==h.length||6==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"three\");if(7==h.length||8==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"four\");if(9==h.length||10==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"five\")})}else c=this,this.roomService.joinRoom(this.name,this.room_id).subscribe(n=>{console.log(\"room from room find\",n),c.roomusers=n[0].users,console.log(\"room users from intro\",c.roomusers);var s=[];console.log(\"comparing\",c.roomusers,e);for(var o=e,a=0;a<c.roomusers.length;a++)c.roomusers[a].audio_id==o&&s.push(c.roomusers[a]),c.roomusers[a].name==this.name&&(this.myPosition=c.roomusers[a].position);console.log(\"audio results after\",s),console.log(\"length before placement\",c.roomusers.length),console.log(\"divided\",c.roomusers.length%2),i=document.createElement(\"audio\"),i.srcObject=r,i.id=t.id,i.playsinline=!1,i.autoplay=!0,this.remoteAudioEl.appendChild(i),this.myPosition%2!=0?this.myPosition+3==s[0].position?(console.log(\"consumer id\",t.id),i.volume=.5):this.myPosition-1==s[0].position&&(document.getElementById(t.id),i.volume=.5):(this.myPosition-3==s[0].position||this.myPosition+1==s[0].position)&&(document.getElementById(t.id),i.volume=.5)});t.on(\"trackended\",(function(){console.log(\"trackended\",t.id),this.removeConsumer(t.id)}).bind(this)),t.on(\"transportclose\",(function(){console.log(\"transport closed\",t.id),this.removeConsumer(t.id)}).bind(this))}).bind(this))}))}getConsumeStream(e){return mh(this,void 0,void 0,(function*(){console.log(\"consume stream\");const{rtpCapabilities:t}=this.device,r=yield this.socket.request(\"consume\",{rtpCapabilities:t,consumerTransportId:this.consumerTransport.id,producerId:e}),{id:n,kind:s,rtpParameters:i}=r,o=yield this.consumerTransport.consume({id:n,producerId:e,kind:s,rtpParameters:i,codecOptions:{}}),a=new MediaStream;var c=document.getElementById(\"remoteAudios\");return console.log(\"audi\",c),c.volume=1,a.addTrack(o.track),console.log(\"stream from getconsume stream\",a),{consumer:o,stream:a,kind:s}}))}closeProducer(e){if(console.log(\"closing producer\"),!this.producerLabel.has(e))return void console.log(\"there is no producer for this type \"+e);let t=this.producerLabel.get(e);if(console.log(t),this.socket.emit(\"producerClosed\",{producer_id:t}),this.producers.get(t).close(),this.producers.delete(t),this.producerLabel.delete(e),console.log(\"close producer\"),e!==this.mediaType.audio){let e=document.getElementById(t);e.parentNode.removeChild(e)}switch(e){case this.mediaType.audio:this.event(this._EVENTS.stopAudio);break;case this.mediaType.video:this.event(this._EVENTS.stopVideo);break;case this.mediaType.screen:this.event(this._EVENTS.stopScreen);break;default:return}}exit(e=!1){var t=document.getElementById(\"exitButton\");this.hide(t),console.log(\"exit room\");let r=(function(){this._isOpen=!1,this.consumerTransport.close(),this.producerTransport.close(),this.socket.off(\"disconnect\"),this.socket.off(\"newProducers\"),this.socket.off(\"consumerClosed\"),console.log(\"cleaned\")}).bind(this);e?r():this.socket.request(\"exitRoom\").then(e=>console.log(e)).catch(e=>console.warn(e)).finally((function(){r()}).bind(this)),this.event(this._EVENTS.exitRoom)}removeConsumer(e){console.log(\"person leaving is \",e);let t=document.getElementById(e);t.parentElement.remove(),t.parentNode.removeChild(t),this.consumers.delete(e)}event(e){this.eventListeners.has(e)&&this.eventListeners.get(e).forEach(e=>e())}on(e,t){this.eventListeners.get(e).push(t)}static get EVENTS(){return this.EVENTS}}class vh{constructor(e,t,r,n){this.location=e,this.router=t,this.socket=r,this.roomService=n,this.remoteVideos1=document.getElementById(\"remoteVideos1\"),this.remoteVideos2=document.getElementById(\"remoteVideos2\"),this.remoteAudios=document.getElementById(\"remoteAudios\"),this.startVideoButton=document.getElementById(\"startVideoButton\"),this.videoMedia=document.getElementById(\"videoMedia\"),this.login=document.getElementById(\"login\"),this.control=document.getElementById(\"control\"),this.nameInput=document.getElementById(\"nameInput\"),this.userLabel=document.getElementById(\"userLabel\"),this.name=name,this.username=name}ngOnInit(){var e=this.router.url.split(\"/\"),t=e[e.length-1];this.room_id=t,console.log(\"room id\",t);var r=document.getElementById(\"exitButton\");this.exitButton=r,document.getElementById(\"videoMedia\"),document.getElementById(\"startVideoButton\");var n=document.getElementById(\"previewvid\"),s=document.getElementById(\"remoteVideos1\");this.remoteVideos1=s;var i=document.getElementById(\"remoteVideos2\");this.remoteVideos2=i;var o=document.getElementById(\"localMedia\");this.localMedia=o;var a=document.getElementById(\"remoteAudios\");this.remoteAudios=a,console.log(this.router.url),console.log(\"this\",this),this.socket.on(\"disconnect\",()=>{console.log(this.socket)}),this.socket.on(\"connect_error\",(function(){console.log(\"connect error\")})),this.preview(n,s,i)}handleErrors(e){console.log(\"err\",e)}successCallback(){}joinRoom(e,t){this.addListeners()}exit(){this.rc.exit()}roomOpen(e,t){console.log(\"this from room oepn\",this);var r=document.getElementById(\"startVideoButton\");console.log(\"start video button\",r),this.reveal(r),console.log(\"exit button\",e),this.reveal(e),console.log(\"video media\",t),this.reveal(t)}hide(e){e.classList.add(\"hidden\")}reveal(e){e.classList.remove(\"hidden\")}addListeners(){}produceVideo(e,t,r,n){return mh(this,void 0,void 0,(function*(){console.log(\"source is\",r),this.rc?console.log(\"already connected to a room\"):(this.rc=new yh(this.localMedia,this.remoteVideos1,this.remoteVideos2,this.remoteAudios,this.socket,this.room_id,t,this.successCallback,this.roomService,e,n),console.log(\"this rc\",this.rc),this.addListeners());var s=this.rc.mediaType.video;this.rc.name=t,console.log(\"this rc\",this.rc),console.log(\"produce video\",s,e,t)}))}produceAudio(e,t){console.log(\"produce audio\",e,t)}preview(e,t,r){const n=document.querySelector(\"video\"),s=document.querySelector(\"select#audioSource\"),i=document.querySelector(\"select#audioOutput\"),o=document.querySelector(\"select#videoSource\"),a=[s,i,o];function c(e){const t=a.map(e=>e.value);a.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)});for(let r=0;r!==e.length;++r){const t=e[r],n=document.createElement(\"option\");n.value=t.deviceId,\"audioinput\"===t.kind?(n.text=t.label||\"microphone \"+(s.value.length+1),s.appendChild(n)):\"audiooutput\"===t.kind?(n.text=t.label||\"speaker \"+(i.value.length+1),i.appendChild(n)):\"videoinput\"===t.kind?(n.text=t.label||\"camera \"+(o.value.length+1),o.appendChild(n)):console.log(\"Some other kind of source/device: \",t)}a.forEach((e,r)=>{Array.prototype.slice.call(e.childNodes).some(e=>e.value===t[r])&&(e.value=t[r])})}function l(e){return window.stream=e,n.srcObject=e,navigator.mediaDevices.enumerateDevices()}function d(e){console.log(\"navigator.MediaDevices.getUserMedia error: \",e.message,e.name)}navigator.mediaDevices.enumerateDevices().then(c).catch(d);const u=document.querySelector(\"video\");let h;function p(){window.stream&&window.stream.getTracks().forEach(e=>{e.stop()});const e=o.value;navigator.mediaDevices.getUserMedia({video:{deviceId:e?{exact:e}:void 0}}).then(l).then(c).catch(d)}navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){h=e,u.srcObject=e})).catch((function(e){console.log(\"navigator.getUserMedia error: \",e)})),s.onchange=p,i.onchange=function(){var e,t;t=i.value,void 0!==(e=n).sinkId?e.setSinkId(t).then(()=>{console.log(\"Success, audio output device attached: \"+t)}).catch(e=>{let t=e;\"SecurityError\"===e.name&&(t=\"You need to use HTTPS for selecting audio output device: \"+e),console.error(t)}):console.warn(\"Browser does not support output device selection.\")},o.onchange=p,p()}openNav(){document.getElementById(\"mySidenav\").style.width=\"250px\"}closeNav(){document.getElementById(\"mySidenav\").style.width=\"0\"}typing(e){var t=document.getElementById(\"startVideoButton\");this.reveal(t),document.getElementById(\"previewName\").innerHTML=e}playMusic(){if(this.radio)this.playing?(this.radio.pause(),this.playing=!1):(this.radio.play(),this.playing=!0);else{let e=new Audio;e.src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/858/outfoxing.mp3\",this.radio=e,e.load(),e.play(),this.playing=!0}}}var wh,bh=r(\"pqID\"),_h=r.n(bh);class Sh{constructor(e){this.config=e,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:\"\",options:{}},void 0===e&&(e=this.emptyConfig),this.ioSocket=(_h.a?_h.a:bh)(e.url,e.options)}of(e){this.ioSocket.of(e)}on(e,t){this.ioSocket.on(e,t)}once(e,t){this.ioSocket.once(e,t)}connect(){return this.ioSocket.connect()}disconnect(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(e,...t){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(e,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(e){return this.subscribersCounter[e]||(this.subscribersCounter[e]=0),this.subscribersCounter[e]++,this.eventObservables$[e]||(this.eventObservables$[e]=new _(t=>{const r=e=>{t.next(e)};return this.ioSocket.on(e,r),()=>{this.subscribersCounter[e]--,0===this.subscribersCounter[e]&&(this.ioSocket.removeListener(e,r),delete this.eventObservables$[e])}}).pipe(ie())),this.eventObservables$[e]}fromOneTimeEvent(e){return new Promise(t=>this.once(e,t))}}function Ch(e){return new Sh(e)}const Rh=new xe(\"__SOCKET_IO_CONFIG__\");let xh=wh=class{static forRoot(e){return{ngModule:wh,providers:[{provide:Rh,useValue:e},{provide:Sh,useFactory:Ch,deps:[Rh]}]}}};var Th=Vr({encapsulation:0,styles:[\".containers[_ngcontent-%COMP%] {\\n            display: grid;\\n            grid-gap: 5px;\\n            grid-template-columns: repeat(auto-fit, 1fr);\\n            grid-template-rows: repeat(auto-fit, 300px);\\n        }\\n\\n        .container[_ngcontent-%COMP%] {\\n            display: flex;\\n        }\\n\\n        .vid[_ngcontent-%COMP%] {\\n            flex: 0 1 auto;\\n            height: 400px;\\n        }\\n\\n        .settings[_ngcontent-%COMP%] {\\n            background-color: #4CAF50;\\n            border: none;\\n            color: white;\\n            padding: 5px 10px;\\n            text-align: center;\\n            text-decoration: none;\\n            display: inline-block;\\n            font-size: 14px;\\n            margin: 2px 2px;\\n            cursor: pointer;\\n        }\\n\\n        .hidden[_ngcontent-%COMP%] {\\n            display: none\\n        }\",[\"\"]],data:{}});function kh(e){return Vi(0,[(e()(),Ei(0,0,null,null,46,\"html\",[],null,null,null,null,null)),(e()(),Ei(1,0,null,null,0,\"head\",[],null,null,null,null,null)),(e()(),Ei(2,0,null,null,44,\"body\",[],null,null,null,null,null)),(e()(),Ei(3,0,null,null,1,\"h1\",[],null,null,null,null,null)),(e()(),Fi(-1,null,[\"neon\"])),(e()(),Ei(5,0,null,null,1,\"span\",[[\"class\",\"i\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.openNav()&&n),n}),null,null)),(e()(),Fi(-1,null,[\"\\u24d8\"])),(e()(),Ei(7,0,null,null,14,\"div\",[[\"class\",\"\"],[\"id\",\"videoMedia\"]],null,null,null,null,null)),(e()(),Ei(8,0,null,null,1,\"div\",[[\"class\",\"video-container\"]],null,null,null,null,null)),(e()(),Ei(9,0,null,null,0,\"div\",[[\"id\",\"localMedia\"],[\"onclick\",\"rc.clicked()\"]],null,null,null,null,null)),(e()(),Ei(10,0,null,null,0,\"p\",[[\"id\",\"userLabel\"]],null,null,null,null,null)),(e()(),Ei(11,0,[[\"nameInput\",1]],null,0,\"input\",[[\"id\",\"nameInput\"],[\"placeholder\",\"Your Name\"],[\"type\",\"text\"]],null,[[null,\"keyup\"]],(function(e,t,r){var n=!0;return\"keyup\"===t&&(n=!1!==e.component.typing(Nn(e,11).value)&&n),n}),null,null)),(e()(),Ei(12,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Ei(13,0,null,null,2,\"div\",[[\"class\",\"outer\"],[\"id\",\"preview\"]],null,null,null,null,null)),(e()(),Ei(14,0,null,null,0,\"video\",[[\"autoplay\",\"\"],[\"class\",\"preview\"],[\"id\",\"previewvid\"],[\"playsinline\",\"\"]],null,null,null,null,null)),(e()(),Ei(15,0,[[\"previewName\",1]],null,0,\"h1\",[[\"class\",\"abs\"],[\"id\",\"previewName\"]],null,null,null,null,null)),(e()(),Ei(16,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Ei(17,0,null,null,1,\"button\",[[\"class\",\"hidden\"],[\"id\",\"startVideoButton\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.produceVideo(Nn(e,40).value,Nn(e,11).value,Nn(e,40).value,Nn(e,32).value)&&n),n}),null,null)),(e()(),Fi(-1,null,[\"Join Room\"])),(e()(),Ei(19,0,null,null,0,\"div\",[[\"id\",\"remoteVideos1\"]],null,null,null,null,null)),(e()(),Ei(20,0,null,null,0,\"div\",[[\"id\",\"remoteVideos2\"]],null,null,null,null,null)),(e()(),Ei(21,0,null,null,0,\"div\",[[\"id\",\"remoteAudios\"]],null,null,null,null,null)),(e()(),Ei(22,0,null,null,1,\"div\",[[\"id\",\"login\"]],null,null,null,null,null)),(e()(),Ei(23,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Ei(24,0,null,null,16,\"div\",[[\"class\",\"sidenav\"],[\"id\",\"mySidenav\"]],null,null,null,null,null)),(e()(),Ei(25,0,null,null,1,\"a\",[[\"class\",\"closebtn\"],[\"href\",\"javascript:void(0)\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.closeNav()&&n),n}),null,null)),(e()(),Fi(-1,null,[\"\\xd7\"])),(e()(),Ei(27,0,null,null,13,\"div\",[[\"class\",\"\"],[\"id\",\"control\"]],null,null,null,null,null)),(e()(),Ei(28,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Ei(29,0,null,null,3,\"div\",[[\"class\",\"select\"]],null,null,null,null,null)),(e()(),Ei(30,0,null,null,1,\"label\",[[\"for\",\"audioSource\"]],null,null,null,null,null)),(e()(),Fi(-1,null,[\"Audio input source: \"])),(e()(),Ei(32,0,[[\"audioSource\",1]],null,0,\"select\",[[\"id\",\"audioSource\"]],null,null,null,null,null)),(e()(),Ei(33,0,null,null,3,\"div\",[[\"class\",\"select\"]],null,null,null,null,null)),(e()(),Ei(34,0,null,null,1,\"label\",[[\"for\",\"audioOutput\"]],null,null,null,null,null)),(e()(),Fi(-1,null,[\"Audio output destination: \"])),(e()(),Ei(36,0,null,null,0,\"select\",[[\"id\",\"audioOutput\"]],null,null,null,null,null)),(e()(),Ei(37,0,null,null,3,\"div\",[[\"class\",\"select\"]],null,null,null,null,null)),(e()(),Ei(38,0,null,null,1,\"label\",[[\"for\",\"videoSource\"]],null,null,null,null,null)),(e()(),Fi(-1,null,[\"Video source: \"])),(e()(),Ei(40,0,[[\"videoSource\",1]],null,0,\"select\",[[\"id\",\"videoSource\"]],null,null,null,null,null)),(e()(),Ei(41,0,null,null,1,\"button\",[[\"class\",\"hidden\"],[\"id\",\"exitButton\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.exit()&&n),n}),null,null)),(e()(),Fi(-1,null,[\"Exit\"])),(e()(),Ei(43,0,null,null,3,\"div\",[[\"class\",\"radioOuter\"]],null,null,null,null,null)),(e()(),Ei(44,0,null,null,2,\"div\",[[\"class\",\"radio\"]],null,null,null,null,null)),(e()(),Ei(45,0,null,null,1,\"button\",[[\"aria-checked\",\"false\"],[\"class\",\"tape-controls-play hidden\"],[\"data-playing\",\"false\"],[\"id\",\"radio\"],[\"role\",\"switch\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.playMusic()&&n),n}),null,null)),(e()(),Fi(-1,null,[\"Audio Test\"]))],null,null)}function Eh(e){return Vi(0,[(e()(),Ei(0,0,null,null,1,\"app-home\",[],null,null,null,kh,Th)),Zn(1,114688,null,0,vh,[ra,Mu,Sh,lh],null,null)],(function(e,t){e(t,1,0)}),null)}var Ph=Tn(\"app-home\",vh,Eh,{},{},[]),Ih=Vr({encapsulation:0,styles:[[\"\"]],data:{}});function Dh(e){return Vi(0,[(e()(),Ei(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Zn(1,212992,null,0,ju,[Lu,xr,Qt,[8,null],St],null,null)],(function(e,t){e(t,1,0)}),null)}function Oh(e){return Vi(0,[(e()(),Ei(0,0,null,null,1,\"app-root\",[],null,null,null,Dh,Ih)),Zn(1,49152,null,0,Yo,[],null,null)],null,null)}var Mh=Tn(\"app-root\",Yo,Oh,{},{},[]);class Ah{}class Lh{}class jh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit=\"string\"==typeof e?()=>{this.headers=new Map,e.split(\"\\n\").forEach(e=>{const t=e.indexOf(\":\");if(t>0){const r=e.slice(0,t),n=r.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(s):this.headers.set(n,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const n=t.toLowerCase();\"string\"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(n,r),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:\"a\"})}set(e,t){return this.clone({name:e,value:t,op:\"s\"})}delete(e,t){return this.clone({name:e,value:t,op:\"d\"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case\"a\":case\"s\":let r=e.value;if(\"string\"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const n=(\"a\"===e.op?this.headers.get(t):void 0)||[];n.push(...r),this.headers.set(t,n);break;case\"d\":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Nh{encodeKey(e){return Fh(e)}encodeValue(e){return Fh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Fh(e){return encodeURIComponent(e).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/gi,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%2B/gi,\"+\").replace(/%3D/gi,\"=\").replace(/%3F/gi,\"?\").replace(/%2F/gi,\"/\")}class Bh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Nh,e.fromString){if(e.fromObject)throw new Error(\"Cannot specify both fromString and fromObject.\");this.map=function(e,t){const r=new Map;return e.length>0&&e.split(\"&\").forEach(e=>{const n=e.indexOf(\"=\"),[s,i]=-1==n?[t.decodeKey(e),\"\"]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=r.get(s)||[];o.push(i),r.set(s,o)}),r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:\"a\"})}set(e,t){return this.clone({param:e,value:t,op:\"s\"})}delete(e,t){return this.clone({param:e,value:t,op:\"d\"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+\"=\"+this.encoder.encodeValue(e)).join(\"&\")}).join(\"&\")}clone(e){const t=new Bh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case\"a\":case\"s\":const t=(\"a\"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case\"d\":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const r=t.indexOf(e.value);-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Uh(e){return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Vh(e){return\"undefined\"!=typeof Blob&&e instanceof Blob}function zh(e){return\"undefined\"!=typeof FormData&&e instanceof FormData}class Hh{constructor(e,t,r,n){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType=\"json\",this.method=e.toUpperCase(),function(e){switch(e){case\"DELETE\":case\"GET\":case\"HEAD\":case\"OPTIONS\":case\"JSONP\":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,s=n):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new jh),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const r=t.indexOf(\"?\");this.urlWithParams=t+(-1===r?\"?\":r<t.length-1?\"&\":\"\")+e}}else this.params=new Bh,this.urlWithParams=t}serializeBody(){return null===this.body?null:Uh(this.body)||Vh(this.body)||zh(this.body)||\"string\"==typeof this.body?this.body:this.body instanceof Bh?this.body.toString():\"object\"==typeof this.body||\"boolean\"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zh(this.body)?null:Vh(this.body)?this.body.type||null:Uh(this.body)?null:\"string\"==typeof this.body?\"text/plain\":this.body instanceof Bh?\"application/x-www-form-urlencoded;charset=UTF-8\":\"object\"==typeof this.body||\"number\"==typeof this.body||Array.isArray(this.body)?\"application/json\":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,n=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,r)=>t.set(r,e.setHeaders[r]),a)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,r)=>t.set(r,e.setParams[r]),c)),new Hh(t,r,s,{params:c,headers:a,reportProgress:o,responseType:n,withCredentials:i})}}const $h=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]=\"Sent\",e[e.UploadProgress]=\"UploadProgress\",e[e.ResponseHeader]=\"ResponseHeader\",e[e.DownloadProgress]=\"DownloadProgress\",e[e.Response]=\"Response\",e[e.User]=\"User\",e}();class qh{constructor(e,t=200,r=\"OK\"){this.headers=e.headers||new jh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Gh extends qh{constructor(e={}){super(e),this.type=$h.ResponseHeader}clone(e={}){return new Gh({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wh extends qh{constructor(e={}){super(e),this.type=$h.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Wh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Kh extends qh{constructor(e){super(e,0,\"Unknown Error\"),this.name=\"HttpErrorResponse\",this.ok=!1,this.message=this.status>=200&&this.status<300?\"Http failure during parsing for \"+(e.url||\"(unknown url)\"):`Http failure response for ${e.url||\"(unknown url)\"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Qh(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class Zh{constructor(e){this.handler=e}request(e,t,r={}){let n;if(e instanceof Hh)n=e;else{let s=void 0;s=r.headers instanceof jh?r.headers:new jh(r.headers);let i=void 0;r.params&&(i=r.params instanceof Bh?r.params:new Bh({fromObject:r.params})),n=new Hh(e,t,void 0!==r.body?r.body:null,{headers:s,params:i,reportProgress:r.reportProgress,responseType:r.responseType||\"json\",withCredentials:r.withCredentials})}const s=_a(n).pipe(cc(e=>this.handler.handle(e)));if(e instanceof Hh||\"events\"===r.observe)return s;const i=s.pipe(Ia(e=>e instanceof Wh));switch(r.observe||\"body\"){case\"body\":switch(n.responseType){case\"arraybuffer\":return i.pipe(z(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error(\"Response is not an ArrayBuffer.\");return e.body}));case\"blob\":return i.pipe(z(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error(\"Response is not a Blob.\");return e.body}));case\"text\":return i.pipe(z(e=>{if(null!==e.body&&\"string\"!=typeof e.body)throw new Error(\"Response is not a string.\");return e.body}));case\"json\":default:return i.pipe(z(e=>e.body))}case\"response\":return i;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,t={}){return this.request(\"DELETE\",e,t)}get(e,t={}){return this.request(\"GET\",e,t)}head(e,t={}){return this.request(\"HEAD\",e,t)}jsonp(e,t){return this.request(\"JSONP\",e,{params:(new Bh).append(t,\"JSONP_CALLBACK\"),observe:\"body\",responseType:\"json\"})}options(e,t={}){return this.request(\"OPTIONS\",e,t)}patch(e,t,r={}){return this.request(\"PATCH\",e,Qh(r,t))}post(e,t,r={}){return this.request(\"POST\",e,Qh(r,t))}put(e,t,r={}){return this.request(\"PUT\",e,Qh(r,t))}}class Yh{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Jh=new xe(\"HTTP_INTERCEPTORS\");class Xh{intercept(e,t){return t.handle(e)}}const ep=/^\\)\\]\\}',?\\n/;class tp{}class rp{constructor(){}build(){return new XMLHttpRequest}}class np{constructor(e){this.xhrFactory=e}handle(e){if(\"JSONP\"===e.method)throw new Error(\"Attempted to construct Jsonp request without JsonpClientModule installed.\");return new _(t=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((e,t)=>r.setRequestHeader(e,t.join(\",\"))),e.headers.has(\"Accept\")||r.setRequestHeader(\"Accept\",\"application/json, text/plain, */*\"),!e.headers.has(\"Content-Type\")){const t=e.detectContentTypeHeader();null!==t&&r.setRequestHeader(\"Content-Type\",t)}if(e.responseType){const t=e.responseType.toLowerCase();r.responseType=\"json\"!==t?t:\"text\"}const n=e.serializeBody();let s=null;const i=()=>{if(null!==s)return s;const t=1223===r.status?204:r.status,n=r.statusText||\"OK\",i=new jh(r.getAllResponseHeaders()),o=function(e){return\"responseURL\"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader(\"X-Request-URL\"):null}(r)||e.url;return s=new Gh({headers:i,status:t,statusText:n,url:o}),s},o=()=>{let{headers:n,status:s,statusText:o,url:a}=i(),c=null;204!==s&&(c=void 0===r.response?r.responseText:r.response),0===s&&(s=c?200:0);let l=s>=200&&s<300;if(\"json\"===e.responseType&&\"string\"==typeof c){const e=c;c=c.replace(ep,\"\");try{c=\"\"!==c?JSON.parse(c):null}catch(d){c=e,l&&(l=!1,c={error:d,text:c})}}l?(t.next(new Wh({body:c,headers:n,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new Kh({error:c,headers:n,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:n}=i(),s=new Kh({error:e,status:r.status||0,statusText:r.statusText||\"Unknown Error\",url:n||void 0});t.error(s)};let c=!1;const l=n=>{c||(t.next(i()),c=!0);let s={type:$h.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(s.total=n.total),\"text\"===e.responseType&&r.responseText&&(s.partialText=r.responseText),t.next(s)},d=e=>{let r={type:$h.UploadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),t.next(r)};return r.addEventListener(\"load\",o),r.addEventListener(\"error\",a),e.reportProgress&&(r.addEventListener(\"progress\",l),null!==n&&r.upload&&r.upload.addEventListener(\"progress\",d)),r.send(n),t.next({type:$h.Sent}),()=>{r.removeEventListener(\"error\",a),r.removeEventListener(\"load\",o),e.reportProgress&&(r.removeEventListener(\"progress\",l),null!==n&&r.upload&&r.upload.removeEventListener(\"progress\",d)),r.abort()}})}}const sp=new xe(\"XSRF_COOKIE_NAME\"),ip=new xe(\"XSRF_HEADER_NAME\");class op{}class ap{constructor(e,t,r){this.doc=e,this.platform=t,this.cookieName=r,this.lastCookieString=\"\",this.lastToken=null,this.parseCount=0}getToken(){if(\"server\"===this.platform)return null;const e=this.doc.cookie||\"\";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=da(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class cp{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const r=e.url.toLowerCase();if(\"GET\"===e.method||\"HEAD\"===e.method||r.startsWith(\"http://\")||r.startsWith(\"https://\"))return t.handle(e);const n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}class lp{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Jh,[]);this.chain=e.reduceRight((e,t)=>new Yh(e,t),this.backend)}return this.chain.handle(e)}}class dp{static disable(){return{ngModule:dp,providers:[{provide:cp,useClass:Xh}]}}static withOptions(e={}){return{ngModule:dp,providers:[e.cookieName?{provide:sp,useValue:e.cookieName}:[],e.headerName?{provide:ip,useValue:e.headerName}:[]]}}}class up{}let hp=(()=>{class e{constructor(){}handleError(e){let t;return t=e.error instanceof ErrorEvent?e.error.message:`${e.status} - ${e.statusText||\"\"} ${e.error}`,function(e,t){return new _(t=>t.error(e))}(t)}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:\"root\"}),e})();class pp{}var fp=Wo(Zo,[Yo],(function(e){return function(e){const t={},r=[];let n=!1;for(let s=0;s<e.length;s++){const i=e[s];i.token===Rt&&!0===i.value&&(n=!0),1073741824&i.flags&&r.push(i.token),i.index=s,t[Ur(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:r,isRoot:n}}([wn(512,Qt,Zt,[[8,[ah,fh,Ph,Mh]],[3,Qt],Le]),wn(5120,ks,Ri,[[3,ks]]),wn(4608,ca,la,[ks,[2,aa]]),wn(5120,ds,xi,[$s]),wn(5120,bs,_s,[]),wn(5120,vr,Si,[]),wn(5120,wr,Ci,[]),wn(4608,ol,al,[ma]),wn(6144,gt,null,[ol]),wn(4608,Xc,tl,[]),wn(5120,Ec,(function(e,t,r,n,s,i,o,a){return[new Yc(e,t,r),new il(n),new rl(s,i,o,a)]}),[ma,$s,Rs,ma,ma,Xc,Ts,[2,el]]),wn(4608,Pc,Pc,[Ec,$s]),wn(135680,Oc,Oc,[ma]),wn(4608,Nc,Nc,[Pc,Oc,bs]),wn(6144,rr,null,[Nc]),wn(6144,Dc,null,[Oc]),wn(4608,Ys,Ys,[$s]),wn(5120,Cd,Xu,[Mu]),wn(4608,Uu,Uu,[]),wn(6144,Fu,null,[Uu]),wn(135680,Vu,Vu,[Mu,di,Ms,Tt,Fu]),wn(4608,Bu,Bu,[]),wn(5120,zu,Ku,[Mu,ga,Hu]),wn(5120,nh,rh,[eh]),wn(5120,xs,(function(e){return[e]}),[nh]),wn(4608,op,ap,[ma,Rs,sp]),wn(4608,cp,cp,[op,ip]),wn(5120,Jh,(function(e){return[e]}),[cp]),wn(4608,rp,rp,[]),wn(6144,tp,null,[rp]),wn(4608,np,np,[tp]),wn(6144,Lh,null,[np]),wn(4608,Ah,lp,[Lh,Tt]),wn(4608,Zh,Zh,[Ah]),wn(5120,Sh,Ch,[Rh]),wn(4608,hp,hp,[]),wn(4608,lh,lh,[Zh,hp]),wn(1073742336,fa,fa,[]),wn(1024,$e,ml,[]),wn(1024,ni,(function(){return[Gu()]}),[]),wn(512,eh,eh,[Tt]),wn(1024,vs,(function(e,t){return[(r=e,xc(\"probe\",kc),xc(\"coreTokens\",Object.assign({},Tc,(r||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>kc),th(t)];var r}),[[2,ni],eh]),wn(512,ws,ws,[[2,vs]]),wn(131584,ci,ci,[$s,Ts,Tt,$e,Qt,ws]),wn(1073742336,Ti,Ti,[ci]),wn(1073742336,gl,gl,[[3,gl]]),wn(1024,$u,Zu,[[3,Mu]]),wn(512,td,rd,[]),wn(512,Lu,Lu,[]),wn(256,Hu,{scrollPositionRestoration:\"enabled\"},[]),wn(1024,ea,Qu,[Jo,[2,ta],Hu]),wn(512,ra,ra,[ea,Jo]),wn(512,Ms,Ms,[]),wn(512,di,pi,[Ms,[2,ui]]),wn(1024,Tu,(function(){return[[{path:\"welcome\",component:ch},{path:\"\",redirectTo:\"/welcome\",pathMatch:\"full\"},{path:\"room/:id\",component:vh}]]}),[]),wn(1024,Mu,Ju,[ci,td,Lu,ra,Tt,di,Ms,Tu,Hu,[2,Eu],[2,Ru]]),wn(1073742336,Wu,Wu,[[2,$u],[2,Mu]]),wn(1073742336,pp,pp,[]),wn(1073742336,dp,dp,[]),wn(1073742336,up,up,[]),wn(1073742336,xh,xh,[]),wn(1073742336,Zo,Zo,[]),wn(256,Rt,!0,[]),wn(256,sp,\"XSRF-TOKEN\",[]),wn(256,ip,\"X-XSRF-TOKEN\",[]),wn(256,Rh,{url:\"http://localhost:8080\",options:{}},[]),wn(256,\"BaseURL\",\"http://localhost:8080/\",[])])}));(function(){if(Ge)throw new Error(\"Cannot enable prod mode after platform setup.\");qe=!1})(),fl().bootstrapModuleFactory(fp).catch(e=>console.error(e))},zn8P:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=\"zn8P\"}},[[0,0]]]);","extractedComments":[]}