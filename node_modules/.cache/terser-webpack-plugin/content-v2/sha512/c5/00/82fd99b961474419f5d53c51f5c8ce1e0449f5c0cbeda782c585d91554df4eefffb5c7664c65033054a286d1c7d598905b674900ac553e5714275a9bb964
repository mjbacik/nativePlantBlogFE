{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{\"+qE3\":function(e,t,r){\"use strict\";var n,i=\"object\"==typeof Reflect?Reflect:null,o=i&&\"function\"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&\"function\"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener(\"error\",o),r([].slice.call(arguments))}var o;\"error\"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once(\"error\",o)),e.once(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,o,s;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if(\"function\"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error(\"Possible EventEmitter memory leak detected. \"+s.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");a.name=\"MaxListenersExceededWarning\",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:\"function\"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if(\"function\"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,\"defaultMaxListeners\",{enumerable:!0,get:function(){return c},set:function(e){if(\"number\"!=typeof e||e<0||s(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||s(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=\"error\"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error(\"Unhandled error.\"+(s?\" (\"+s.message+\")\":\"\"));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if(\"function\"==typeof c)o(c,this,t);else{var u=c.length,l=g(c,u);for(r=0;r<u;++r)o(l[r],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit(\"removeListener\",e,r.listener||t));else if(\"function\"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit(\"removeListener\",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)\"removeListener\"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},\"/pdn\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"8xwj\"),s=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"sSRp\"),u=r(\"1z2d\"),l=r(\"Gffd\"),d=new i.Logger(\"Safari11\"),p={OS:1024,MIS:1024};class h extends u.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new h}get name(){return\"Safari11\"}close(){if(d.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){d.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return d.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:p}){d.debug(\"run()\"),this._direction=e,this._remoteSdp=new l.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters(\"audio\",p),video:s.getSendingRtpParameters(\"video\",p)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters(\"audio\",p),video:s.getSendingRemoteRtpParameters(\"video\",p)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){d.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(d.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});d.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();d.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),d.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),i&&d.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let u,l=await this._pc.createOffer(),p=n.parse(l.sdp);const h=o.clone(this._sendingRtpParametersByKind[e.kind],{});h.codecs=s.reduceCodecs(h.codecs);const f=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=s.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:p}),\"video\"===e.kind&&t&&t.length>1&&(d.debug(\"send() | enabling simulcast\"),p=n.parse(l.sdp),u=p.media.find(e=>\"video\"===e.type),c.addLegacySimulcast({offerMediaObject:u,track:e,numStreams:t.length}),l={type:\"offer\",sdp:n.write(p)}),d.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",l),await this._pc.setLocalDescription(l),p=n.parse(this._pc.localDescription.sdp),u=p.media.find(t=>t.type===e.kind),h.rtcp.cname=a.getCname({offerMediaObject:u}),h.encodings=c.getRtpEncodings({offerMediaObject:u,track:e}),t)for(let n=0;n<h.encodings.length;++n)t[n]&&Object.assign(h.encodings[n],t[n]);if(h.encodings.length>1&&\"video/vp8\"===h.codecs[0].mimeType.toLowerCase())for(const n of h.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:u,offerRtpParameters:h,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find(t=>t.track===e);return this._mapSendLocalIdRtpSender.set(g,y),{localId:g,rtpParameters:h,rtpSender:y}}async stopSending(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();d.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void d.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",i.toString());throw i}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?d.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):d.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),d.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),d.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:o,priority:s};d.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),d.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),d.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=e,o=t;this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const s={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",s),await this._pc.setRemoteDescription(s);let c=await this._pc.createAnswer();const u=n.parse(c.sdp),l=u.media.find(e=>String(e.mid)===o);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:l}),c={type:\"answer\",sdp:n.write(u)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:u}),d.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",c),await this._pc.setLocalDescription(c);const p=this._pc.getReceivers().find(e=>e.track&&e.track.id===i);if(!p)throw new Error(\"new RTCRtpReceiver not\");return this._mapRecvLocalIdInfo.set(i,{mid:o,rtpParameters:r,rtpReceiver:p}),{localId:i,track:p.track,rtpReceiver:p}}async stopReceiving(e){this._assertRecvDirection(),d.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();d.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error(\"associated RTCRtpReceiver not found\");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:r};d.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}d.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Safari11=h},\"/rqz\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"nreB\"),i=r(\"8xwj\");function o(e){const t=new RegExp(\"^(audio|video)/(.+)\",\"i\");if(\"object\"!=typeof e)throw new TypeError(\"codec is not an object\");if(!e.mimeType||\"string\"!=typeof e.mimeType)throw new TypeError(\"missing codec.mimeType\");const r=t.exec(e.mimeType);if(!r)throw new TypeError(\"invalid codec.mimeType\");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&\"number\"!=typeof e.preferredPayloadType)throw new TypeError(\"invalid codec.preferredPayloadType\");if(\"number\"!=typeof e.clockRate)throw new TypeError(\"missing codec.clockRate\");\"audio\"===e.kind?\"number\"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&\"object\"==typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]=\"\",t=\"\"),\"string\"!=typeof t&&\"number\"!=typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if(\"apt\"===n&&\"number\"!=typeof t)throw new TypeError(\"invalid codec apt parameter\")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)s(n)}function s(e){if(\"object\"!=typeof e)throw new TypeError(\"fb is not an object\");if(!e.type||\"string\"!=typeof e.type)throw new TypeError(\"missing fb.type\");e.parameter&&\"string\"==typeof e.parameter||(e.parameter=\"\")}function a(e){if(\"object\"!=typeof e)throw new TypeError(\"ext is not an object\");if(e.kind&&\"string\"==typeof e.kind||(e.kind=\"\"),\"\"!==e.kind&&\"audio\"!==e.kind&&\"video\"!==e.kind)throw new TypeError(\"invalid ext.kind\");if(!e.uri||\"string\"!=typeof e.uri)throw new TypeError(\"missing ext.uri\");if(\"number\"!=typeof e.preferredId)throw new TypeError(\"missing ext.preferredId\");if(e.preferredEncrypt&&\"boolean\"!=typeof e.preferredEncrypt)throw new TypeError(\"invalid ext.preferredEncrypt\");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&\"string\"!=typeof e.direction)throw new TypeError(\"invalid ext.direction\");e.direction||(e.direction=\"sendrecv\")}function c(e){if(\"object\"!=typeof e)throw new TypeError(\"params is not an object\");if(e.mid&&\"string\"!=typeof e.mid)throw new TypeError(\"params.mid is not a string\");if(!Array.isArray(e.codecs))throw new TypeError(\"missing params.codecs\");for(const t of e.codecs)u(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError(\"params.headerExtensions is not an array\");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)l(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError(\"params.encodings is not an array\");e.encodings||(e.encodings=[]);for(const t of e.encodings)d(t);if(e.rtcp&&\"object\"!=typeof e.rtcp)throw new TypeError(\"params.rtcp is not an object\");e.rtcp||(e.rtcp={}),p(e.rtcp)}function u(e){const t=new RegExp(\"^(audio|video)/(.+)\",\"i\");if(\"object\"!=typeof e)throw new TypeError(\"codec is not an object\");if(!e.mimeType||\"string\"!=typeof e.mimeType)throw new TypeError(\"missing codec.mimeType\");const r=t.exec(e.mimeType);if(!r)throw new TypeError(\"invalid codec.mimeType\");if(\"number\"!=typeof e.payloadType)throw new TypeError(\"missing codec.payloadType\");if(\"number\"!=typeof e.clockRate)throw new TypeError(\"missing codec.clockRate\");\"audio\"===r[1].toLowerCase()?\"number\"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&\"object\"==typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]=\"\",t=\"\"),\"string\"!=typeof t&&\"number\"!=typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if(\"apt\"===n&&\"number\"!=typeof t)throw new TypeError(\"invalid codec apt parameter\")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)s(n)}function l(e){if(\"object\"!=typeof e)throw new TypeError(\"ext is not an object\");if(!e.uri||\"string\"!=typeof e.uri)throw new TypeError(\"missing ext.uri\");if(\"number\"!=typeof e.id)throw new TypeError(\"missing ext.id\");if(e.encrypt&&\"boolean\"!=typeof e.encrypt)throw new TypeError(\"invalid ext.encrypt\");e.encrypt||(e.encrypt=!1),e.parameters&&\"object\"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(void 0===r&&(e.parameters[t]=\"\",r=\"\"),\"string\"!=typeof r&&\"number\"!=typeof r)throw new TypeError(\"invalid header extension parameter\")}}function d(e){if(\"object\"!=typeof e)throw new TypeError(\"encoding is not an object\");if(e.ssrc&&\"number\"!=typeof e.ssrc)throw new TypeError(\"invalid encoding.ssrc\");if(e.rid&&\"string\"!=typeof e.rid)throw new TypeError(\"invalid encoding.rid\");if(e.rtx&&\"object\"!=typeof e.rtx)throw new TypeError(\"invalid encoding.rtx\");if(e.rtx&&\"number\"!=typeof e.rtx.ssrc)throw new TypeError(\"missing encoding.rtx.ssrc\");if(e.dtx&&\"boolean\"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&\"string\"!=typeof e.scalabilityMode)throw new TypeError(\"invalid encoding.scalabilityMode\")}function p(e){if(\"object\"!=typeof e)throw new TypeError(\"rtcp is not an object\");if(e.cname&&\"string\"!=typeof e.cname)throw new TypeError(\"invalid rtcp.cname\");e.reducedSize&&\"boolean\"==typeof e.reducedSize||(e.reducedSize=!0)}function h(e){if(\"object\"!=typeof e)throw new TypeError(\"numStreams is not an object\");if(\"number\"!=typeof e.OS)throw new TypeError(\"missing numStreams.OS\");if(\"number\"!=typeof e.MIS)throw new TypeError(\"missing numStreams.MIS\")}function f(e){return!!e&&/.+\\/rtx$/i.test(e.mimeType)}function m(e,t,{strict:r=!1,modify:i=!1}={}){const o=e.mimeType.toLowerCase();if(o!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(o){case\"video/h264\":if((e.parameters[\"packetization-mode\"]||0)!==(t.parameters[\"packetization-mode\"]||0))return!1;if(r){if(!n.isSameProfile(e.parameters,t.parameters))return!1;let r;try{r=n.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(s){return!1}i&&(r?(e.parameters[\"profile-level-id\"]=r,t.parameters[\"profile-level-id\"]=r):(delete e.parameters[\"profile-level-id\"],delete t.parameters[\"profile-level-id\"]))}break;case\"video/vp9\":if(r&&(e.parameters[\"profile-id\"]||0)!==(t.parameters[\"profile-id\"]||0))return!1}return!0}function g(e,t){const r=[];for(const n of e.rtcpFeedback||[]){const e=(t.rtcpFeedback||[]).find(e=>e.type===n.type&&(e.parameter===n.parameter||!e.parameter&&!n.parameter));e&&r.push(e)}return r}t.validateRtpCapabilities=function(e){if(\"object\"!=typeof e)throw new TypeError(\"caps is not an object\");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError(\"caps.codecs is not an array\");e.codecs||(e.codecs=[]);for(const t of e.codecs)o(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError(\"caps.headerExtensions is not an array\");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)a(t)},t.validateRtpCodecCapability=o,t.validateRtcpFeedback=s,t.validateRtpHeaderExtension=a,t.validateRtpParameters=c,t.validateRtpCodecParameters=u,t.validateRtpHeaderExtensionParameters=l,t.validateRtpEncodingParameters=d,t.validateRtcpParameters=p,t.validateSctpCapabilities=function(e){if(\"object\"!=typeof e)throw new TypeError(\"caps is not an object\");if(!e.numStreams||\"object\"!=typeof e.numStreams)throw new TypeError(\"missing caps.numStreams\");h(e.numStreams)},t.validateNumSctpStreams=h,t.validateSctpParameters=function(e){if(\"object\"!=typeof e)throw new TypeError(\"params is not an object\");if(\"number\"!=typeof e.port)throw new TypeError(\"missing params.port\");if(\"number\"!=typeof e.OS)throw new TypeError(\"missing params.OS\");if(\"number\"!=typeof e.MIS)throw new TypeError(\"missing params.MIS\");if(\"number\"!=typeof e.maxMessageSize)throw new TypeError(\"missing params.maxMessageSize\")},t.validateSctpStreamParameters=function(e){if(\"object\"!=typeof e)throw new TypeError(\"params is not an object\");if(\"number\"!=typeof e.streamId)throw new TypeError(\"missing params.streamId\");let t=!1;if(\"boolean\"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&\"number\"!=typeof e.maxPacketLifeTime)throw new TypeError(\"invalid params.maxPacketLifeTime\");if(e.maxRetransmits&&\"number\"!=typeof e.maxRetransmits)throw new TypeError(\"invalid params.maxRetransmits\");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError(\"cannot provide both maxPacketLifeTime and maxRetransmits\");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError(\"cannot be ordered with maxPacketLifeTime or maxRetransmits\");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.priority&&\"string\"!=typeof e.priority)throw new TypeError(\"invalid params.priority\");if(e.label&&\"string\"!=typeof e.label)throw new TypeError(\"invalid params.label\");if(e.protocol&&\"string\"!=typeof e.protocol)throw new TypeError(\"invalid params.protocol\")},t.getExtendedRtpCapabilities=function(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs||[]){if(f(n))continue;const t=(e.codecs||[]).find(e=>m(e,n,{strict:!0,modify:!0}));if(!t)continue;const i={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:n.parameters,rtcpFeedback:g(t,n)};r.codecs.push(i)}for(const n of r.codecs){const r=e.codecs.find(e=>f(e)&&e.parameters.apt===n.localPayloadType),i=t.codecs.find(e=>f(e)&&e.parameters.apt===n.remotePayloadType);r&&i&&(n.localRtxPayloadType=r.preferredPayloadType,n.remoteRtxPayloadType=i.preferredPayloadType)}for(const n of t.headerExtensions){const t=e.headerExtensions.find(e=>{return r=n,!((t=e).kind&&r.kind&&t.kind!==r.kind||t.uri!==r.uri);var t,r});if(!t)continue;const i={kind:n.kind,uri:n.uri,sendId:t.preferredId,recvId:n.preferredId,encrypt:t.preferredEncrypt,direction:\"sendrecv\"};switch(n.direction){case\"sendrecv\":i.direction=\"sendrecv\";break;case\"recvonly\":i.direction=\"sendonly\";break;case\"sendonly\":i.direction=\"recvonly\";break;case\"inactive\":i.direction=\"inactive\"}r.headerExtensions.push(i)}return r},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs)t.codecs.push({mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback}),r.remoteRtxPayloadType&&t.codecs.push({mimeType:r.kind+\"/rtx\",kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]});for(const r of e.headerExtensions)\"sendrecv\"!==r.direction&&\"recvonly\"!==r.direction||t.headerExtensions.push({kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction});return t},t.getSendingRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs)n.kind===e&&(r.codecs.push({mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback}),n.localRtxPayloadType&&r.codecs.push({mimeType:n.kind+\"/rtx\",payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]}));for(const n of t.headerExtensions)n.kind&&n.kind!==e||\"sendrecv\"!==n.direction&&\"sendonly\"!==n.direction||r.headerExtensions.push({uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}});return r},t.getSendingRemoteRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs)n.kind===e&&(r.codecs.push({mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback}),n.localRtxPayloadType&&r.codecs.push({mimeType:n.kind+\"/rtx\",payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]}));for(const n of t.headerExtensions)n.kind&&n.kind!==e||\"sendrecv\"!==n.direction&&\"sendonly\"!==n.direction||r.headerExtensions.push({uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}});if(r.headerExtensions.some(e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.uri))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(e=>\"goog-remb\"!==e.type);else if(r.headerExtensions.some(e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.uri))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(e=>\"transport-cc\"!==e.type);else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(e=>\"transport-cc\"!==e.type&&\"goog-remb\"!==e.type);return r},t.reduceCodecs=function(e,t){const r=[];if(t){for(let n=0;n<e.length;++n)if(m(e[n],t)){r.push(e[n]),f(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError(\"no matching codec found\")}else r.push(e[0]),f(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){c(e=i.clone(e,{}));const t={mid:\"probator\",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:\"probator\"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some(t=>t.kind===e)},t.canReceive=function(e,t){if(c(e),0===e.codecs.length)return!1;const r=e.codecs[0];return t.codecs.some(e=>e.remotePayloadType===r.payloadType)}},0:function(e,t,r){e.exports=r(\"zUnb\")},\"0+mJ\":function(e,t,r){var n=r(\"fg2H\"),i=r(\"K/+X\"),o=r(\"rfC7\"),s=r(\"YzUL\");t.polling=function(e){var t=!1,r=!1,s=!1!==e.jsonp;if(\"undefined\"!=typeof location){var a=\"https:\"===location.protocol,c=location.port;c||(c=a?443:80),t=e.hostname!==location.hostname||c!==e.port,r=e.secure!==a}if(e.xdomain=t,e.xscheme=r,\"open\"in new n(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error(\"JSONP disabled\");return new o(e)},t.websocket=s},\"0NQQ\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"8xwj\"),s=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"iHzg\"),u=r(\"1z2d\"),l=r(\"Gffd\"),d=r(\"gEDQ\"),p=new i.Logger(\"Chrome74\"),h={OS:1024,MIS:1024};class f extends u.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Chrome74\"}close(){if(p.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){p.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"});try{e.addTransceiver(\"audio\"),e.addTransceiver(\"video\");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}){p.debug(\"run()\"),this._direction=e,this._remoteSdp=new l.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters(\"audio\",d),video:s.getSendingRtpParameters(\"video\",d)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters(\"audio\",d),video:s.getSendingRemoteRtpParameters(\"video\",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){p.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),p.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),t&&t.length>1&&t.forEach((e,t)=>{e.rid=\"r\"+t});const u=o.clone(this._sendingRtpParametersByKind[e.kind],{});u.codecs=s.reduceCodecs(u.codecs,i);const l=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});l.codecs=s.reduceCodecs(l.codecs,i);const h=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream],sendEncodings:t});let m,g=await this._pc.createOffer(),y=n.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:y});let v=!1;const b=d.parse((t||[{}])[0].scalabilityMode);t&&1===t.length&&b.spatialLayers>1&&\"video/vp9\"===u.codecs[0].mimeType.toLowerCase()&&(p.debug(\"send() | enabling legacy simulcast for VP9 SVC\"),v=!0,y=n.parse(g.sdp),m=y.media[h.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:b.spatialLayers}),g={type:\"offer\",sdp:n.write(y)}),p.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",g),await this._pc.setLocalDescription(g);const _=f.mid;if(u.mid=_,y=n.parse(this._pc.localDescription.sdp),m=y.media[h.idx],u.rtcp.cname=a.getCname({offerMediaObject:m}),t)if(1===t.length){let e=c.getRtpEncodings({offerMediaObject:m});Object.assign(e[0],t[0]),v&&(e=[e[0]]),u.encodings=e}else u.encodings=t;else u.encodings=c.getRtpEncodings({offerMediaObject:m});if(u.encodings.length>1&&(\"video/vp8\"===u.codecs[0].mimeType.toLowerCase()||\"video/h264\"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:m,reuseMid:h.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:r,extmapAllowMixed:!0});const w={type:\"answer\",sdp:this._remoteSdp.getSdp()};return p.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(_,f),{localId:_,rtpParameters:u,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),p.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const r=await this._pc.createOffer();p.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?p.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):p.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),p.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),p.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:o,priority:s};p.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),p.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),p.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const o={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const c=n.parse(s.sdp),u=c.media.find(e=>String(e.mid)===i);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:u}),s={type:\"answer\",sdp:n.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:c}),p.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s);const l=this._pc.getTransceivers().find(e=>e.mid===i);if(!l)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(i,l),{localId:i,track:l.receiver.track,rtpReceiver:l.receiver}}async stopReceiving(e){this._assertRecvDirection(),p.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();p.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:r};p.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome74=f},\"0zaL\":function(e,t,r){var n=r(\"Wm4p\"),i=r(\"cpc2\");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState=\"\",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var r=new Error(e);return r.type=\"TransportError\",r.description=t,this.emit(\"error\",r),this},o.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},o.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(e)},o.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},o.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit(\"packet\",e)},o.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},1:function(e,t){},\"14A5\":function(e,t){var r=void 0!==r?r:\"undefined\"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:\"undefined\"!=typeof MSBlobBuilder?MSBlobBuilder:\"undefined\"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob([\"hi\"]).size}catch(e){return!1}}(),i=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function a(e,t){t=t||{};var n=new r;return s(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function c(e,t){return new Blob(s(e),t||{})}\"undefined\"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=n?i?Blob:c:o?a:void 0},\"1gGv\":function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;t.splice(1,0,r,\"color: inherit\");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&(n++,\"%c\"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem(\"debug\",e):t.storage.removeItem(\"debug\")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem(\"debug\")}catch(r){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type&&!window.process.__nwjs)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.log=console.debug||console.log||(()=>{}),e.exports=r(\"2gMR\")(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}}},\"1z2d\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"GygU\");t.HandlerInterface=class extends n.EnhancedEventEmitter{constructor(){super()}}},\"2Fkq\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"nAs4\"),s=r(\"8xwj\"),a=r(\"/rqz\"),c=r(\"YwPy\"),u=r(\"iHzg\"),l=r(\"1z2d\"),d=r(\"Gffd\"),p=new i.Logger(\"Firefox60\"),h={OS:16,MIS:2048};class f extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Firefox60\"}close(){if(p.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){p.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"}),t=document.createElement(\"canvas\");t.getContext(\"2d\");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver(\"audio\",{direction:\"sendrecv\"});const o=e.addTransceiver(r,{direction:\"sendrecv\"}),s=o.sender.getParameters();s.encodings=[{rid:\"r0\",maxBitrate:1e5},{rid:\"r1\",maxBitrate:5e5}],await o.sender.setParameters(s);const a=await e.createOffer();try{t.remove()}catch(i){}try{r.stop()}catch(i){}try{e.close()}catch(i){}const u=n.parse(a.sdp);return c.extractRtpCapabilities({sdpObject:u})}catch(i){try{t.remove()}catch(o){}try{r.stop()}catch(o){}try{e.close()}catch(o){}throw i}}async getNativeSctpCapabilities(){return p.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:l}){p.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters(\"audio\",l),video:a.getSendingRtpParameters(\"video\",l)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters(\"audio\",l),video:a.getSendingRemoteRtpParameters(\"video\",l)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:s||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){throw new o.UnsupportedError(\"not supported\")}async restartIce(e){if(p.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),p.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),t&&(t=s.clone(t,[])).length>1&&(t.forEach((e,t)=>{e.rid=\"r\"+t}),t.reverse());const o=s.clone(this._sendingRtpParametersByKind[e.kind],{});o.codecs=a.reduceCodecs(o.codecs,i);const l=s.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});l.codecs=a.reduceCodecs(l.codecs,i);const d=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream]});if(t){const e=d.sender.getParameters();e.encodings=t,await d.sender.setParameters(e)}const h=await this._pc.createOffer();let f=n.parse(h.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:f}),p.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",h),await this._pc.setLocalDescription(h);const m=d.mid;o.mid=m,f=n.parse(this._pc.localDescription.sdp);const g=f.media[f.media.length-1];if(o.rtcp.cname=c.getCname({offerMediaObject:g}),t)if(1===t.length){const e=u.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],t[0]),o.encodings=e}else o.encodings=t.reverse();else o.encodings=u.getRtpEncodings({offerMediaObject:g});if(o.encodings.length>1&&(\"video/vp8\"===o.codecs[0].mimeType.toLowerCase()||\"video/h264\"===o.codecs[0].mimeType.toLowerCase()))for(const n of o.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:g,offerRtpParameters:o,answerRtpParameters:l,codecOptions:r,extmapAllowMixed:!0});const y={type:\"answer\",sdp:this._remoteSdp.getSdp()};return p.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(m,d),{localId:m,rtpParameters:o,rtpSender:d.sender}}async stopSending(e){p.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated transceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();p.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?p.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):p.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),p.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated transceiver not found\");const n=r.sender.getParameters();t=n.encodings.length-1-t,n.encodings.forEach((e,r)=>{e.active=r>=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),p.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:o,priority:s};p.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),p.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),p.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const o={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=n.parse(s.sdp),u=a.media.find(e=>String(e.mid)===i);c.applyCodecParameters({offerRtpParameters:r,answerMediaObject:u}),s={type:\"answer\",sdp:n.write(a)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:a}),p.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s);const l=this._pc.getTransceivers().find(e=>e.mid===i);if(!l)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(i,l),{localId:i,track:l.receiver.track,rtpReceiver:l.receiver}}async stopReceiving(e){this._assertRecvDirection(),p.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();p.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:r};p.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=c.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Firefox60=f},\"2gMR\":function(e,t,r){e.exports=function(e){function t(e){let r,i=null;function o(...e){if(!o.enabled)return;const n=o,i=Number(new Date);n.diff=i-(r||i),n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if(\"%%\"===r)return\"%\";s++;const o=t.formatters[i];return\"function\"==typeof o&&(r=o.call(n,e[s]),e.splice(s,1),s--),r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),\"function\"==typeof t.init&&t.init(o),o}function n(e,r){const n=t(this.namespace+(void 0===r?\":\":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>\"-\"+e)].join(\",\");return t.enable(\"\"),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(\"u6rE\"),t.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},\"3exg\":function(e,t,r){var n=r(\"0zaL\"),i=r(\"TypT\"),o=r(\"Wm4p\"),s=r(\"Yvos\"),a=r(\"Aplp\"),c=r(\"Bn1Y\")(\"engine.io-client:polling\");e.exports=l;var u=null!=new(r(\"fg2H\"))({xdomain:!1}).responseType;function l(e){u&&!(e&&e.forceBase64)||(this.supportsBinary=!1),n.call(this,e)}s(l,n),l.prototype.name=\"polling\",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function r(){c(\"paused\"),t.readyState=\"paused\",e()}if(this.readyState=\"pausing\",this.polling||!this.writable){var n=0;this.polling&&(c(\"we are currently polling - waiting to pause\"),n++,this.once(\"pollComplete\",(function(){c(\"pre-pause polling complete\"),--n||r()}))),this.writable||(c(\"we are currently writing - waiting to pause\"),n++,this.once(\"drain\",(function(){c(\"pre-pause writing complete\"),--n||r()})))}else r()},l.prototype.poll=function(){c(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},l.prototype.onData=function(e){var t=this;c(\"polling got data %s\",e),o.decodePayload(e,this.socket.binaryType,(function(e,r,n){if(\"opening\"===t.readyState&&\"open\"===e.type&&t.onOpen(),\"close\"===e.type)return t.onClose(),!1;t.onPacket(e)})),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():c('ignoring poll - transport state \"%s\"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c(\"writing close packet\"),e.write([{type:\"close\"}])}\"open\"===this.readyState?(c(\"transport open - closing\"),t()):(c(\"transport not open - deferring close\"),this.once(\"open\",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit(\"drain\")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,r)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?\"https\":\"http\",r=\"\";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&(\"https\"===t&&443!==Number(this.port)||\"http\"===t&&80!==Number(this.port))&&(r=\":\"+this.port),e.length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+e}},\"3fo0\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"Nj9v\");t.Device=n.Device,t.detectDevice=n.detectDevice;const i=r(\"Ay4W\");t.types=i,t.version=\"3.6.26\";var o=r(\"gEDQ\");t.parseScalabilityMode=o.parse},\"4+Ds\":function(e,t,r){e.exports=r(\"uKDP\"),e.exports.parser=r(\"Wm4p\")},\"4Eqw\":function(e,t,r){\"use strict\";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AwaitQueue=class{constructor({ClosedErrorClass:e=Error,StoppedErrorClass:t=Error}={ClosedErrorClass:Error,StoppedErrorClass:Error}){this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.ClosedErrorClass=e,this.StoppedErrorClass=t}get size(){return this.pendingTasks.length}close(){if(!this.closed){this.closed=!0;for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.ClosedErrorClass(\"AwaitQueue closed\"));this.pendingTasks.length=0}}push(e,t){return n(this,void 0,void 0,(function*(){if(this.closed)throw new this.ClosedErrorClass(\"AwaitQueue closed\");if(\"function\"!=typeof e)throw new TypeError(\"given task is not a function\");if(!e.name&&t)try{Object.defineProperty(e,\"name\",{value:t})}catch(r){}return new Promise((r,n)=>{const i={task:e,name:t,resolve:r,reject:n,stopped:!1,enqueuedAt:new Date,executedAt:void 0};this.pendingTasks.push(i),1===this.pendingTasks.length&&this.next()})}))}stop(){if(!this.closed){for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.StoppedErrorClass(\"AwaitQueue stopped\"));this.pendingTasks.length=0}}dump(){const e=new Date;return this.pendingTasks.map(t=>({task:t.task,name:t.name,enqueuedTime:t.executedAt?t.executedAt.getTime()-t.enqueuedAt.getTime():e.getTime()-t.enqueuedAt.getTime(),executingTime:t.executedAt?e.getTime()-t.executedAt.getTime():0}))}next(){return n(this,void 0,void 0,(function*(){const e=this.pendingTasks[0];e&&(yield this.executeTask(e),this.pendingTasks.shift(),this.next())}))}executeTask(e){return n(this,void 0,void 0,(function*(){if(!e.stopped){e.executedAt=new Date;try{const t=yield e.task();if(e.stopped)return;e.resolve(t)}catch(t){if(e.stopped)return;e.reject(t)}}}))}}},\"4NJD\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"nAs4\"),s=r(\"8xwj\"),a=r(\"/rqz\"),c=r(\"YwPy\"),u=r(\"sSRp\"),l=r(\"1z2d\"),d=r(\"Gffd\"),p=new i.Logger(\"Chrome55\"),h={OS:1024,MIS:1024};class f extends l.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Chrome55\"}close(){if(p.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){p.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:l}){p.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters(\"audio\",l),video:a.getSendingRtpParameters(\"video\",l)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters(\"audio\",l),video:a.getSendingRemoteRtpParameters(\"video\",l)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:s||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){p.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),p.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),i&&p.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let o,l=await this._pc.createOffer(),d=n.parse(l.sdp);const h=s.clone(this._sendingRtpParametersByKind[e.kind],{});h.codecs=a.reduceCodecs(h.codecs);const f=s.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=a.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:d}),\"video\"===e.kind&&t&&t.length>1&&(p.debug(\"send() | enabling simulcast\"),d=n.parse(l.sdp),o=d.media.find(e=>\"video\"===e.type),u.addLegacySimulcast({offerMediaObject:o,track:e,numStreams:t.length}),l={type:\"offer\",sdp:n.write(d)}),p.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",l),await this._pc.setLocalDescription(l),d=n.parse(this._pc.localDescription.sdp),o=d.media.find(t=>t.type===e.kind),h.rtcp.cname=c.getCname({offerMediaObject:o}),h.encodings=u.getRtpEncodings({offerMediaObject:o,track:e}),t)for(let n=0;n<h.encodings.length;++n)t[n]&&Object.assign(h.encodings[n],t[n]);if(h.encodings.length>1&&\"video/vp8\"===h.codecs[0].mimeType.toLowerCase())for(const n of h.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:o,offerRtpParameters:h,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,e),{localId:g,rtpParameters:h}}async stopSending(e){this._assertSendDirection(),p.debug(\"stopSending() [localId:%s]\",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error(\"track not found\");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();p.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void p.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",i.toString());throw i}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){throw new o.UnsupportedError(\"not implemented\")}async setMaxSpatialLayer(e,t){throw new o.UnsupportedError(\" not implemented\")}async setRtpEncodingParameters(e,t){throw new o.UnsupportedError(\"not supported\")}async getSenderStats(e){throw new o.UnsupportedError(\"not implemented\")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:o,priority:s};p.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),p.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),p.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=e,o=t,s=r.rtcp.cname;this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:r,streamId:s,trackId:e});const a={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",a),await this._pc.setRemoteDescription(a);let u=await this._pc.createAnswer();const l=n.parse(u.sdp),d=l.media.find(e=>String(e.mid)===o);c.applyCodecParameters({offerRtpParameters:r,answerMediaObject:d}),u={type:\"answer\",sdp:n.write(l)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:l}),p.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",u),await this._pc.setLocalDescription(u);const h=this._pc.getRemoteStreams().find(e=>e.id===s).getTrackById(i);if(!h)throw new Error(\"remote track not found\");return this._mapRecvLocalIdInfo.set(i,{mid:o,rtpParameters:r}),{localId:i,track:h}}async stopReceiving(e){this._assertRecvDirection(),p.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();p.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){throw new o.UnsupportedError(\"not implemented\")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:r};p.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=c.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome55=f},\"6C75\":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},\"7h/2\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"1gGv\"),i=\"mediasoup-client\";t.Logger=class{constructor(e){e?(this._debug=n.default(`${i}:${e}`),this._warn=n.default(`${i}:WARN:${e}`),this._error=n.default(`${i}:ERROR:${e}`)):(this._debug=n.default(i),this._warn=n.default(i+\":WARN\"),this._error=n.default(i+\":ERROR\")),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},\"7jRU\":function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},\"7kHm\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"nAs4\"),s=r(\"8xwj\"),a=r(\"/rqz\"),c=r(\"YwPy\"),u=r(\"sSRp\"),l=r(\"1z2d\"),d=r(\"Gffd\"),p=new i.Logger(\"ReactNative\"),h={OS:1024,MIS:1024};class f extends l.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"ReactNative\"}close(){if(p.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){p.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:l}){p.debug(\"run()\"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters(\"audio\",l),video:a.getSendingRtpParameters(\"video\",l)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters(\"audio\",l),video:a.getSendingRemoteRtpParameters(\"video\",l)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:s||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){p.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),p.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),i&&p.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let o,l=await this._pc.createOffer(),d=n.parse(l.sdp);const h=s.clone(this._sendingRtpParametersByKind[e.kind],{});h.codecs=a.reduceCodecs(h.codecs);const f=s.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=a.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:d}),\"video\"===e.kind&&t&&t.length>1&&(p.debug(\"send() | enabling simulcast\"),d=n.parse(l.sdp),o=d.media.find(e=>\"video\"===e.type),u.addLegacySimulcast({offerMediaObject:o,track:e,numStreams:t.length}),l={type:\"offer\",sdp:n.write(d)}),p.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",l),await this._pc.setLocalDescription(l),d=n.parse(this._pc.localDescription.sdp),o=d.media.find(t=>t.type===e.kind),h.rtcp.cname=c.getCname({offerMediaObject:o}),h.encodings=u.getRtpEncodings({offerMediaObject:o,track:e}),t)for(let n=0;n<h.encodings.length;++n)t[n]&&Object.assign(h.encodings[n],t[n]);if(h.encodings.length>1&&(\"video/vp8\"===h.codecs[0].mimeType.toLowerCase()||\"video/h264\"===h.codecs[0].mimeType.toLowerCase()))for(const n of h.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:o,offerRtpParameters:h,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,e),{localId:g,rtpParameters:h}}async stopSending(e){this._assertSendDirection(),p.debug(\"stopSending() [localId:%s]\",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error(\"track not found\");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();p.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void p.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",i.toString());throw i}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){throw new o.UnsupportedError(\"not implemented\")}async setMaxSpatialLayer(e,t){throw new o.UnsupportedError(\"not implemented\")}async setRtpEncodingParameters(e,t){throw new o.UnsupportedError(\"not implemented\")}async getSenderStats(e){throw new o.UnsupportedError(\"not implemented\")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:o,priority:s};p.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),p.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),p.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=e,o=t;let a=r.rtcp.cname;p.debug(\"receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc\"),a+=\"-hack-\"+s.generateRandomNumber(),this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:r,streamId:a,trackId:e});const u={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",u),await this._pc.setRemoteDescription(u);let l=await this._pc.createAnswer();const d=n.parse(l.sdp),h=d.media.find(e=>String(e.mid)===o);c.applyCodecParameters({offerRtpParameters:r,answerMediaObject:h}),l={type:\"answer\",sdp:n.write(d)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:d}),p.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",l),await this._pc.setLocalDescription(l);const f=this._pc.getRemoteStreams().find(e=>e.id===a).getTrackById(i);if(!f)throw new Error(\"remote track not found\");return this._mapRecvLocalIdInfo.set(i,{mid:o,rtpParameters:r}),{localId:i,track:f}}async stopReceiving(e){this._assertRecvDirection(),p.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();p.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){throw new o.UnsupportedError(\"not implemented\")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:r};p.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=c.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.ReactNative=f},\"7m5y\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),i=r(\"nAs4\"),o=r(\"8xwj\"),s=r(\"/rqz\"),a=r(\"GhxY\"),c=r(\"1z2d\"),u=new n.Logger(\"Edge11\");class l extends c.HandlerInterface{constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}static createFactory(){return()=>new l}get name(){return\"Edge11\"}close(){u.debug(\"close()\");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const t of this._rtpSenders.values())try{t.stop()}catch(e){}for(const t of this._rtpReceivers.values())try{t.stop()}catch(e){}}async getNativeRtpCapabilities(){return u.debug(\"getNativeRtpCapabilities()\"),a.getCapabilities()}async getNativeSctpCapabilities(){return u.debug(\"getNativeSctpCapabilities()\"),{numStreams:{OS:0,MIS:0}}}run({iceParameters:e,iceCandidates:t,dtlsParameters:r,iceServers:n,iceTransportPolicy:i,extendedRtpCapabilities:a}){u.debug(\"run()\"),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters(\"audio\",a),video:s.getSendingRtpParameters(\"video\",a)},this._remoteIceParameters=e,this._remoteIceCandidates=t,this._remoteDtlsParameters=r,this._cname=\"CNAME-\"+o.generateRandomNumber(),this._setIceGatherer({iceServers:n,iceTransportPolicy:i}),this._setIceTransport(),this._setDtlsTransport()}async updateIceServers(e){throw new i.UnsupportedError(\"not supported\")}async restartIce(e){if(u.debug(\"restartIce()\"),this._remoteIceParameters=e,this._transportReady){u.debug(\"restartIce() | calling iceTransport.start()\"),this._iceTransport.start(this._iceGatherer,e,\"controlling\");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:e,encodings:t,codec:r}){u.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),this._transportReady||await this._setupTransport({localDtlsRole:\"server\"}),u.debug(\"send() | calling new RTCRtpSender()\");const n=new RTCRtpSender(e,this._dtlsTransport),i=o.clone(this._sendingRtpParametersByKind[e.kind],{});i.codecs=s.reduceCodecs(i.codecs,r);const c=i.codecs.some(e=>/.+\\/rtx$/i.test(e.mimeType));t||(t=[{}]);for(const s of t)s.ssrc=o.generateRandomNumber(),c&&(s.rtx={ssrc:o.generateRandomNumber()});i.encodings=t,i.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const l=a.mangleRtpParameters(i);u.debug(\"send() | calling rtpSender.send() [params:%o]\",l),await n.send(l);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(d,n),{localId:d,rtpParameters:i,rtpSender:n}}async stopSending(e){u.debug(\"stopSending() [localId:%s]\",e);const t=this._rtpSenders.get(e);if(!t)throw new Error(\"RTCRtpSender not found\");this._rtpSenders.delete(e);try{u.debug(\"stopSending() | calling rtpSender.stop()\"),t.stop()}catch(r){throw u.warn(\"stopSending() | rtpSender.stop() failed:%o\",r),r}}async replaceTrack(e,t){t?u.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):u.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._rtpSenders.get(e);if(!r)throw new Error(\"RTCRtpSender not found\");r.setTrack(t)}async setMaxSpatialLayer(e,t){u.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error(\"RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.setParameters(n)}async setRtpEncodingParameters(e,t){u.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error(\"RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.setParameters(n)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error(\"RTCRtpSender not found\");return t.getStats()}async sendDataChannel(e){throw new i.UnsupportedError(\"not implemented\")}async receive({trackId:e,kind:t,rtpParameters:r}){u.debug(\"receive() [trackId:%s, kind:%s]\",e,t),this._transportReady||await this._setupTransport({localDtlsRole:\"server\"}),u.debug(\"receive() | calling new RTCRtpReceiver()\");const n=new RTCRtpReceiver(this._dtlsTransport,t);n.addEventListener(\"error\",e=>{u.error('rtpReceiver \"error\" event [event:%o]',e)});const i=a.mangleRtpParameters(r);u.debug(\"receive() | calling rtpReceiver.receive() [params:%o]\",i),await n.receive(i);const o=e;return this._rtpReceivers.set(o,n),{localId:o,track:n.track,rtpReceiver:n}}async stopReceiving(e){u.debug(\"stopReceiving() [localId:%s]\",e);const t=this._rtpReceivers.get(e);if(!t)throw new Error(\"RTCRtpReceiver not found\");this._rtpReceivers.delete(e);try{u.debug(\"stopReceiving() | calling rtpReceiver.stop()\"),t.stop()}catch(r){u.warn(\"stopReceiving() | rtpReceiver.stop() failed:%o\",r)}}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error(\"RTCRtpReceiver not found\");return t.getStats()}async receiveDataChannel(e){throw new i.UnsupportedError(\"not implemented\")}_setIceGatherer({iceServers:e,iceTransportPolicy:t}){const r=new RTCIceGatherer({iceServers:e||[],gatherPolicy:t||\"all\"});r.addEventListener(\"error\",e=>{u.error('iceGatherer \"error\" event [event:%o]',e)});try{r.gather()}catch(n){u.debug(\"_setIceGatherer() | iceGatherer.gather() failed: %s\",n.toString())}this._iceGatherer=r}_setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener(\"statechange\",()=>{switch(e.state){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}}),e.addEventListener(\"icestatechange\",()=>{switch(e.state){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}}),e.addEventListener(\"candidatepairchange\",e=>{u.debug('iceTransport \"candidatepairchange\" event [pair:%o]',e.pair)}),this._iceTransport=e}_setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener(\"statechange\",()=>{u.debug('dtlsTransport \"statechange\" event [state:%s]',e.state)}),e.addEventListener(\"dtlsstatechange\",()=>{u.debug('dtlsTransport \"dtlsstatechange\" event [state:%s]',e.state),\"closed\"===e.state&&this.emit(\"@connectionstatechange\",\"closed\")}),e.addEventListener(\"error\",e=>{u.error('dtlsTransport \"error\" event [event:%o]',e)}),this._dtlsTransport=e}async _setupTransport({localDtlsRole:e}){u.debug(\"_setupTransport()\");const t=this._dtlsTransport.getLocalParameters();t.role=e,await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:t}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,\"controlling\");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(e=>\"sha-256\"===e.algorithm||\"sha-384\"===e.algorithm||\"sha-512\"===e.algorithm),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=l},\"8Lyy\":function(e,t,r){var n=r(\"O6qx\"),i=/%[sdv%]/g,o=function(e){var t=1,r=arguments,n=r.length;return e.replace(i,(function(e){if(t>=n)return e;var i=r[t];switch(t+=1,e){case\"%%\":return\"%\";case\"%s\":return String(i);case\"%d\":return Number(i);case\"%v\":return\"\"}}))},s=function(e,t,r){var n=[e+\"=\"+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1)n.push(t.name?r[t.name][t.names[i]]:r[t.names[i]]);else n.push(r[t.name]);return o.apply(null,n)},a=[\"v\",\"o\",\"s\",\"i\",\"u\",\"e\",\"p\",\"c\",\"b\",\"t\",\"r\",\"z\",\"a\"],c=[\"i\",\"c\",\"b\",\"a\"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=\" \"),e.media.forEach((function(e){null==e.payloads&&(e.payloads=\"\")}));var r=t.innerOrder||c,i=[];return(t.outerOrder||a).forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(s(t,r,e))}))}))})),e.media.forEach((function(e){i.push(s(\"m\",n.m[0],e)),r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(s(t,r,e))}))}))}))})),i.join(\"\\r\\n\")+\"\\r\\n\"}},\"8xwj\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.clone=function(e,t){return void 0===e?t:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},\"AZE+\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),i=r(\"GygU\"),o=r(\"nAs4\"),s=new n.Logger(\"Producer\");t.Producer=class extends i.EnhancedEventEmitter{constructor({id:e,localId:t,rtpSender:r,track:n,rtpParameters:o,stopTracks:a,disableTrackOnPause:c,zeroRtpOnPause:u,appData:l}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug(\"constructor()\"),this._id=e,this._localId=t,this._rtpSender=r,this._track=n,this._kind=n.kind,this._rtpParameters=o,this._paused=!!c&&!n.enabled,this._maxSpatialLayer=void 0,this._stopTracks=a,this._disableTrackOnPause=c,this._zeroRtpOnPause=u,this._appData=l,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(s.debug(\"close()\"),this._closed=!0,this._destroyTrack(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(s.debug(\"transportClosed()\"),this._closed=!0,this._destroyTrack(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}async getStats(){if(this._closed)throw new o.InvalidStateError(\"closed\");return this.safeEmitAsPromise(\"@getstats\")}pause(){s.debug(\"pause()\"),this._closed?s.error(\"pause() | Producer closed\"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise(\"@replacetrack\",null).catch(()=>{}),this._observer.safeEmit(\"pause\"))}resume(){s.debug(\"resume()\"),this._closed?s.error(\"resume() | Producer closed\"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise(\"@replacetrack\",this._track).catch(()=>{}),this._observer.safeEmit(\"resume\"))}async replaceTrack({track:e}){if(s.debug(\"replaceTrack() [track:%o]\",e),this._closed){if(e&&this._stopTracks)try{e.stop()}catch(t){}throw new o.InvalidStateError(\"closed\")}if(e&&\"ended\"===e.readyState)throw new o.InvalidStateError(\"track ended\");e!==this._track?(this._zeroRtpOnPause&&this._paused||await this.safeEmitAsPromise(\"@replacetrack\",e),this._destroyTrack(),this._track=e,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack()):s.debug(\"replaceTrack() | same track, ignored\")}async setMaxSpatialLayer(e){if(this._closed)throw new o.InvalidStateError(\"closed\");if(\"video\"!==this._kind)throw new o.UnsupportedError(\"not a video Producer\");if(\"number\"!=typeof e)throw new TypeError(\"invalid spatialLayer\");e!==this._maxSpatialLayer&&(await this.safeEmitAsPromise(\"@setmaxspatiallayer\",e),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new o.InvalidStateError(\"closed\");if(\"object\"!=typeof e)throw new TypeError(\"invalid params\");await this.safeEmitAsPromise(\"@setrtpencodingparameters\",e)}_onTrackEnded(){s.debug('track \"ended\" event'),this.safeEmit(\"trackended\"),this._observer.safeEmit(\"trackended\")}_handleTrack(){this._track&&this._track.addEventListener(\"ended\",this._onTrackEnded)}_destroyTrack(){if(this._track)try{this._track.removeEventListener(\"ended\",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}},Aplp:function(e,t,r){\"use strict\";var n,i=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),o={},s=0,a=0;function c(e){var t=\"\";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function u(){var e=c(+new Date);return e!==n?(s=0,n=e):e+\".\"+c(s++)}for(;a<64;a++)o[i[a]]=a;u.encode=c,u.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+o[e.charAt(a)];return t},e.exports=u},Ay4W:function(e,t,r){\"use strict\";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,\"__esModule\",{value:!0}),n(r(\"Nj9v\")),n(r(\"UloB\")),n(r(\"AZE+\")),n(r(\"sZ75\")),n(r(\"Uli8\")),n(r(\"hUSI\")),n(r(\"1z2d\")),n(r(\"nAs4\"))},BbHu:function(e,t,r){e.exports=function(e){function t(e){let r,i=null;function o(...e){if(!o.enabled)return;const n=o,i=Number(new Date);n.diff=i-(r||i),n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if(\"%%\"===r)return\"%\";s++;const o=t.formatters[i];return\"function\"==typeof o&&(r=o.call(n,e[s]),e.splice(s,1),s--),r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),\"function\"==typeof t.init&&t.init(o),o}function n(e,r){const n=t(this.namespace+(void 0===r?\":\":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>\"-\"+e)].join(\",\");return t.enable(\"\"),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(\"jWG7\"),t.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},Bn1Y:function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(r){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(\"Odm+\")).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+e[0]+(r?\"%c \":\" \")+\"+\"+t.humanize(this.diff),r){var n=\"color: \"+this.color;e.splice(1,0,n,\"color: inherit\");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){\"%%\"!==e&&(i++,\"%c\"===e&&(o=i))})),e.splice(o,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem(\"debug\"):t.storage.debug=e}catch(r){}},t.load=n,t.useColors=function(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))},t.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}},t.enable(n())},C2QD:function(e,t){function r(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},EL67:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"8xwj\"),s=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"sSRp\"),u=r(\"1z2d\"),l=r(\"Gffd\"),d=new i.Logger(\"Chrome67\"),p={OS:1024,MIS:1024};class h extends u.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new h}get name(){return\"Chrome67\"}close(){if(d.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){d.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return d.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:p}){d.debug(\"run()\"),this._direction=e,this._remoteSdp=new l.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters(\"audio\",p),video:s.getSendingRtpParameters(\"video\",p)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters(\"audio\",p),video:s.getSendingRemoteRtpParameters(\"video\",p)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"plan-b\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){d.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(d.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});d.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();d.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),d.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id),i&&d.warn(\"send() | codec selection is not available in %s handler\",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let u,l=await this._pc.createOffer(),p=n.parse(l.sdp);const h=o.clone(this._sendingRtpParametersByKind[e.kind],{});h.codecs=s.reduceCodecs(h.codecs);const f=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(f.codecs=s.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:p}),\"video\"===e.kind&&t&&t.length>1&&(d.debug(\"send() | enabling simulcast\"),p=n.parse(l.sdp),u=p.media.find(e=>\"video\"===e.type),c.addLegacySimulcast({offerMediaObject:u,track:e,numStreams:t.length}),l={type:\"offer\",sdp:n.write(p)}),d.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",l),await this._pc.setLocalDescription(l),p=n.parse(this._pc.localDescription.sdp),u=p.media.find(t=>t.type===e.kind),h.rtcp.cname=a.getCname({offerMediaObject:u}),h.encodings=c.getRtpEncodings({offerMediaObject:u,track:e}),t)for(let n=0;n<h.encodings.length;++n)t[n]&&Object.assign(h.encodings[n],t[n]);if(h.encodings.length>1&&\"video/vp8\"===h.codecs[0].mimeType.toLowerCase())for(const n of h.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:u,offerRtpParameters:h,answerRtpParameters:f,codecOptions:r});const m={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find(t=>t.track===e);return this._mapSendLocalIdRtpSender.set(g,y),{localId:g,rtpParameters:h,rtpSender:y}}async stopSending(e){this._assertSendDirection(),d.debug(\"stopSending() [localId:%s]\",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();d.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void d.warn(\"stopSending() | ignoring expected error due no sending tracks: %s\",i.toString());throw i}if(\"stable\"===this._pc.signalingState)return;const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?d.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):d.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),d.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),d.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error(\"associated RTCRtpSender not found\");const n=r.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error(\"associated RTCRtpSender not found\");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:o,priority:s};d.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),d.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),d.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=e,o=t;this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const s={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",s),await this._pc.setRemoteDescription(s);let c=await this._pc.createAnswer();const u=n.parse(c.sdp),l=u.media.find(e=>String(e.mid)===o);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:l}),c={type:\"answer\",sdp:n.write(u)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:u}),d.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",c),await this._pc.setLocalDescription(c);const p=this._pc.getReceivers().find(e=>e.track&&e.track.id===i);if(!p)throw new Error(\"new RTCRtpReceiver not\");return this._mapRecvLocalIdInfo.set(i,{mid:o,rtpParameters:r,rtpReceiver:p}),{localId:i,track:p.track,rtpReceiver:p}}async stopReceiving(e){this._assertRecvDirection(),d.debug(\"stopReceiving() [localId:%s]\",e);const{mid:t,rtpParameters:r}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:r});const n={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();d.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error(\"associated RTCRtpReceiver not found\");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:r};d.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}d.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome67=h},FGiv:function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+\" \"+r:Math.ceil(e/t)+\" \"+r+\"s\"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if(\"string\"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*s;case\"days\":case\"day\":case\"d\":return s*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return s*i;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return s*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return s*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return s;default:return}}}}(e);if(\"number\"===c&&!1===isNaN(e))return t.long?s(a=e,o,\"day\")||s(a,i,\"hour\")||s(a,n,\"minute\")||s(a,r,\"second\")||a+\" ms\":function(e){return e>=o?Math.round(e/o)+\"d\":e>=i?Math.round(e/i)+\"h\":e>=n?Math.round(e/n)+\"m\":e>=r?Math.round(e/r)+\"s\":e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},Gffd:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"R7wK\"),s=new i.Logger(\"RemoteSdp\");t.RemoteSdp=class{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,sctpParameters:n,plainRtpParameters:i,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=e,this._iceCandidates=t,this._dtlsParameters=r,this._sctpParameters=n,this._plainRtpParameters=i,this._planB=o,this._sdpObject={version:0,origin:{address:\"0.0.0.0\",ipVer:4,netType:\"IN\",sessionId:1e4,sessionVersion:0,username:\"mediasoup-client\"},name:\"-\",timing:{start:0,stop:0},media:[]},e&&e.iceLite&&(this._sdpObject.icelite=\"ice-lite\"),r){this._sdpObject.msidSemantic={semantic:\"WMS\",token:\"*\"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:r.fingerprints[e-1].algorithm,hash:r.fingerprints[e-1].value},this._sdpObject.groups=[{type:\"BUNDLE\",mids:\"\"}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(e){s.debug(\"updateIceParameters() [iceParameters:%o]\",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?\"ice-lite\":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){s.debug(\"updateDtlsRole() [role:%s]\",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:e,reuseMid:t,offerRtpParameters:r,answerRtpParameters:n,codecOptions:i,extmapAllowMixed:s=!1}){const a=new o.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:e,offerRtpParameters:r,answerRtpParameters:n,codecOptions:i,extmapAllowMixed:s});t?this._replaceMediaSection(a,t):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:e,kind:t,offerRtpParameters:r,streamId:n,trackId:i}){const s=this._midToIndex.get(e);let a;if(void 0!==s&&(a=this._mediaSections[s]),a)a.planBReceive({offerRtpParameters:r,streamId:n,trackId:i}),this._replaceMediaSection(a);else{a=new o.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:e,kind:t,offerRtpParameters:r,streamId:n,trackId:i});const s=this._mediaSections.find(e=>e.closed);s?this._replaceMediaSection(a,s.mid):this._addMediaSection(a)}}disableMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);this._mediaSections[t].disable()}closeMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);const r=this._mediaSections[t];if(e===this._firstMid)return s.debug(\"closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]\",e),void this.disableMediaSection(e);r.close(),this._regenerateBundleMids()}planBStopReceiving({mid:e,offerRtpParameters:t}){const r=this._midToIndex.get(e);if(void 0===r)throw new Error(`no media section found with mid '${e}'`);const n=this._mediaSections[r];n.planBStopReceiving({offerRtpParameters:t}),this._replaceMediaSection(n)}sendSctpAssociation({offerMediaObject:e}){const t=new o.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:e});this._addMediaSection(t)}receiveSctpAssociation({oldDataChannelSpec:e=!1}={}){const t=new o.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:\"datachannel\",kind:\"application\",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if(\"string\"==typeof t){const r=this._midToIndex.get(t);if(void 0===r)throw new Error(`no media section found for reuseMid '${t}'`);const n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(e=>!e.closed).map(e=>e.mid).join(\" \"))}}},GhxY:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"8xwj\");t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=n.clone(e,{});for(const r of t.codecs){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType||`${r.kind}/${r.name}`,r.parameters){const e=r.parameters;e.apt&&(e.apt=Number(e.apt)),e[\"packetization-mode\"]&&(e[\"packetization-mode\"]=Number(e[\"packetization-mode\"]))}for(const e of r.rtcpFeedback||[])e.parameter||(e.parameter=\"\")}return t},t.mangleRtpParameters=function(e){const t=n.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split(\"/\")[1]),delete r.mimeType;return t}},GygU:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"+qE3\"),i=new(r(\"7h/2\").Logger)(\"EnhancedEventEmitter\");t.EnhancedEventEmitter=class extends n.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}safeEmit(e,...t){const r=this.listenerCount(e);try{return this.emit(e,...t)}catch(n){return i.error(\"safeEmit() | event listener threw an error [event:%s]:%o\",e,n),Boolean(r)}}async safeEmitAsPromise(e,...t){return new Promise((r,n)=>{try{this.emit(e,...t,r,n)}catch(o){i.error(\"safeEmitAsPromise() | event listener threw an error [event:%s]:%o\",e,o),n(o)}})}}},\"K/+X\":function(e,t,r){var n=r(\"fg2H\"),i=r(\"3exg\"),o=r(\"cpc2\"),s=r(\"Yvos\"),a=r(\"Bn1Y\")(\"engine.io-client:polling-xhr\"),c=r(\"y508\");function u(){}function l(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,\"undefined\"!=typeof location){var t=\"https:\"===location.protocol,r=location.port;r||(r=t?443:80),this.xd=\"undefined\"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||\"GET\",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function p(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}e.exports=l,e.exports.Request=d,s(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},l.prototype.doWrite=function(e,t){var r=this.request({method:\"POST\",data:e,isBinary:\"string\"!=typeof e&&void 0!==e}),n=this;r.on(\"success\",t),r.on(\"error\",(function(e){n.onError(\"xhr post error\",e)})),this.sendXhr=r},l.prototype.doPoll=function(){a(\"xhr poll\");var e=this.request(),t=this;e.on(\"data\",(function(e){t.onData(e)})),e.on(\"error\",(function(e){t.onError(\"xhr poll error\",e)})),this.pollXhr=e},o(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{a(\"xhr open %s: %s\",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if(\"POST\"===this.method)try{t.setRequestHeader(\"Content-type\",this.isBinary?\"application/octet-stream\":\"text/plain;charset=UTF-8\")}catch(o){}try{t.setRequestHeader(\"Accept\",\"*/*\")}catch(o){}\"withCredentials\"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader(\"Content-Type\");(r.supportsBinary&&\"application/octet-stream\"===e||\"application/octet-stream; charset=UTF-8\"===e)&&(t.responseType=\"arraybuffer\")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError(\"number\"==typeof t.status?t.status:0)}),0))},a(\"xhr data %s\",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){r.onError(o)}),0)}\"undefined\"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},d.prototype.onData=function(e){this.emit(\"data\",e),this.onSuccess()},d.prototype.onError=function(e){this.emit(\"error\",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}\"undefined\"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader(\"Content-Type\")}catch(r){}e=(\"application/octet-stream\"===t||\"application/octet-stream; charset=UTF-8\"===t)&&this.xhr.response||this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return\"undefined\"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},\"undefined\"!=typeof document&&(\"function\"==typeof attachEvent?attachEvent(\"onunload\",p):\"function\"==typeof addEventListener&&addEventListener(\"onpagehide\"in c?\"pagehide\":\"unload\",p,!1))},M39V:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(i,o),a=0,c=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18),s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:\"BROWSER_MAP\",get:function(){return o.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return o.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return o.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return o.PLATFORMS_MAP}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),s=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];\"string\"==typeof s?(i[t]=s,o+=1):\"object\"==typeof s&&(r[t]=s,n+=1)})),n>0){var s=Object.keys(r),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(r[l]);if(void 0!==d)return d}}if(o>0){var p=Object.keys(i),h=a.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],t.push(\">\"===e[0]?1:-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\\/(\\d+(\\.?_?\\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);t.default=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:o.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}],e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},Nj9v:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"M39V\"),i=r(\"7h/2\"),o=r(\"GygU\"),s=r(\"nAs4\"),a=r(\"8xwj\"),c=r(\"/rqz\"),u=r(\"UloB\"),l=r(\"0NQQ\"),d=r(\"UThS\"),p=r(\"EL67\"),h=r(\"4NJD\"),f=r(\"2Fkq\"),m=r(\"jZQw\"),g=r(\"/pdn\"),y=r(\"7m5y\"),v=r(\"7kHm\"),b=new i.Logger(\"Device\");function _(){if(\"object\"==typeof navigator&&\"ReactNative\"===navigator.product)return\"undefined\"==typeof RTCPeerConnection?void b.warn(\"this._detectDevice() | unsupported ReactNative without RTCPeerConnection\"):(b.debug(\"this._detectDevice() | ReactNative handler chosen\"),\"ReactNative\");if(\"object\"!=typeof navigator||\"string\"!=typeof navigator.userAgent)b.warn(\"this._detectDevice() | unknown device\");else{const e=navigator.userAgent,t=n.getParser(e),r=t.getEngine();if(t.satisfies({chrome:\">=74\",chromium:\">=74\"}))return\"Chrome74\";if(t.satisfies({chrome:\">=70\",chromium:\">=70\"}))return\"Chrome70\";if(t.satisfies({chrome:\">=67\",chromium:\">=67\"}))return\"Chrome67\";if(t.satisfies({chrome:\">=55\",chromium:\">=55\"}))return\"Chrome55\";if(t.satisfies({firefox:\">=60\"}))return\"Firefox60\";if(t.satisfies({safari:\">=12.0\"})&&\"undefined\"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty(\"currentDirection\"))return\"Safari12\";if(t.satisfies({safari:\">=11\"}))return\"Safari11\";if(t.satisfies({\"microsoft edge\":\">=11\"})&&t.satisfies({\"microsoft edge\":\"<=18\"}))return\"Edge11\";if(r.name&&\"blink\"===r.name.toLowerCase()){const t=e.match(/(?:(?:Chrome|Chromium))[ /](\\w+)/i);if(t){const e=Number(t[1]);return e>=74?\"Chrome74\":e>=70?\"Chrome70\":e>=67?\"Chrome67\":\"Chrome55\"}return\"Chrome74\"}b.warn(\"this._detectDevice() | browser not supported [name:%s, version:%s]\",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=_,t.Device=class{constructor({handlerName:e,handlerFactory:t,Handler:r}={}){if(this._loaded=!1,this._observer=new o.EnhancedEventEmitter,b.debug(\"constructor()\"),r){if(b.warn(\"constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead\"),\"string\"!=typeof r)throw new TypeError(\"non string Handler option no longer supported, use handlerFactory instead\");e=r}if(e&&t)throw new TypeError(\"just one of handlerName or handlerInterface can be given\");if(t)this._handlerFactory=t;else{if(e)b.debug(\"constructor() | handler given: %s\",e);else{if(!(e=_()))throw new s.UnsupportedError(\"device not supported\");b.debug(\"constructor() | detected handler: %s\",e)}switch(e){case\"Chrome74\":this._handlerFactory=l.Chrome74.createFactory();break;case\"Chrome70\":this._handlerFactory=d.Chrome70.createFactory();break;case\"Chrome67\":this._handlerFactory=p.Chrome67.createFactory();break;case\"Chrome55\":this._handlerFactory=h.Chrome55.createFactory();break;case\"Firefox60\":this._handlerFactory=f.Firefox60.createFactory();break;case\"Safari12\":this._handlerFactory=m.Safari12.createFactory();break;case\"Safari11\":this._handlerFactory=g.Safari11.createFactory();break;case\"Edge11\":this._handlerFactory=y.Edge11.createFactory();break;case\"ReactNative\":this._handlerFactory=v.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName \"${e}\"`)}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new s.InvalidStateError(\"not loaded\");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new s.InvalidStateError(\"not loaded\");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:e}){let t;b.debug(\"load() [routerRtpCapabilities:%o]\",e),e=a.clone(e,void 0);try{if(this._loaded)throw new s.InvalidStateError(\"already loaded\");c.validateRtpCapabilities(e),t=this._handlerFactory();const r=await t.getNativeRtpCapabilities();b.debug(\"load() | got native RTP capabilities:%o\",r),c.validateRtpCapabilities(r),this._extendedRtpCapabilities=c.getExtendedRtpCapabilities(r,e),b.debug(\"load() | got extended RTP capabilities:%o\",this._extendedRtpCapabilities),this._canProduceByKind.audio=c.canSend(\"audio\",this._extendedRtpCapabilities),this._canProduceByKind.video=c.canSend(\"video\",this._extendedRtpCapabilities),this._recvRtpCapabilities=c.getRecvRtpCapabilities(this._extendedRtpCapabilities),c.validateRtpCapabilities(this._recvRtpCapabilities),b.debug(\"load() | got receiving RTP capabilities:%o\",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),b.debug(\"load() | got native SCTP capabilities:%o\",this._sctpCapabilities),c.validateSctpCapabilities(this._sctpCapabilities),b.debug(\"load() succeeded\"),this._loaded=!0,t.close()}catch(r){throw t&&t.close(),r}}canProduce(e){if(!this._loaded)throw new s.InvalidStateError(\"not loaded\");if(\"audio\"!==e&&\"video\"!==e)throw new TypeError(`invalid kind \"${e}\"`);return this._canProduceByKind[e]}createSendTransport({id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:u={}}){return b.debug(\"createSendTransport()\"),this._createTransport({direction:\"send\",id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:u})}createRecvTransport({id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:u={}}){return b.debug(\"createRecvTransport()\"),this._createTransport({direction:\"recv\",id:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:u})}_createTransport({direction:e,id:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:p={}}){if(!this._loaded)throw new s.InvalidStateError(\"not loaded\");if(\"string\"!=typeof t)throw new TypeError(\"missing id\");if(\"object\"!=typeof r)throw new TypeError(\"missing iceParameters\");if(!Array.isArray(n))throw new TypeError(\"missing iceCandidates\");if(\"object\"!=typeof i)throw new TypeError(\"missing dtlsParameters\");if(o&&\"object\"!=typeof o)throw new TypeError(\"wrong sctpParameters\");if(p&&\"object\"!=typeof p)throw new TypeError(\"if given, appData must be an object\");const h=new u.Transport({direction:e,id:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:p,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit(\"newtransport\",h),h}}},O6qx:function(e,t){var r=e.exports={v:[{name:\"version\",reg:/^(\\d*)$/}],o:[{name:\"origin\",reg:/^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,names:[\"username\",\"sessionId\",\"sessionVersion\",\"netType\",\"ipVer\",\"address\"],format:\"%s %s %d %s IP%d %s\"}],s:[{name:\"name\"}],i:[{name:\"description\"}],u:[{name:\"uri\"}],e:[{name:\"email\"}],p:[{name:\"phone\"}],z:[{name:\"timezones\"}],r:[{name:\"repeats\"}],t:[{name:\"timing\",reg:/^(\\d*) (\\d*)/,names:[\"start\",\"stop\"],format:\"%d %d\"}],c:[{name:\"connection\",reg:/^IN IP(\\d) (\\S*)/,names:[\"version\",\"ip\"],format:\"IN IP%d %s\"}],b:[{push:\"bandwidth\",reg:/^(TIAS|AS|CT|RR|RS):(\\d*)/,names:[\"type\",\"limit\"],format:\"%s:%s\"}],m:[{reg:/^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,names:[\"type\",\"port\",\"protocol\",\"payloads\"],format:\"%s %d %s %s\"}],a:[{push:\"rtp\",reg:/^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,names:[\"payload\",\"codec\",\"rate\",\"encoding\"],format:function(e){return e.encoding?\"rtpmap:%d %s/%s/%s\":e.rate?\"rtpmap:%d %s/%s\":\"rtpmap:%d %s\"}},{push:\"fmtp\",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:[\"payload\",\"config\"],format:\"fmtp:%d %s\"},{name:\"control\",reg:/^control:(.*)/,format:\"control:%s\"},{name:\"rtcp\",reg:/^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,names:[\"port\",\"netType\",\"ipVer\",\"address\"],format:function(e){return null!=e.address?\"rtcp:%d %s IP%d %s\":\"rtcp:%d\"}},{push:\"rtcpFbTrrInt\",reg:/^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,names:[\"payload\",\"value\"],format:\"rtcp-fb:%s trr-int %d\"},{push:\"rtcpFb\",reg:/^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,names:[\"payload\",\"type\",\"subtype\"],format:function(e){return null!=e.subtype?\"rtcp-fb:%s %s %s\":\"rtcp-fb:%s %s\"}},{push:\"ext\",reg:/^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,names:[\"value\",\"direction\",\"encrypt-uri\",\"uri\",\"config\"],format:function(e){return\"extmap:%d\"+(e.direction?\"/%s\":\"%v\")+(e[\"encrypt-uri\"]?\" %s\":\"%v\")+\" %s\"+(e.config?\" %s\":\"\")}},{name:\"extmapAllowMixed\",reg:/^(extmap-allow-mixed)/},{push:\"crypto\",reg:/^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,names:[\"id\",\"suite\",\"config\",\"sessionConfig\"],format:function(e){return null!=e.sessionConfig?\"crypto:%d %s %s %s\":\"crypto:%d %s %s\"}},{name:\"setup\",reg:/^setup:(\\w*)/,format:\"setup:%s\"},{name:\"connectionType\",reg:/^connection:(new|existing)/,format:\"connection:%s\"},{name:\"mid\",reg:/^mid:([^\\s]*)/,format:\"mid:%s\"},{name:\"msid\",reg:/^msid:(.*)/,format:\"msid:%s\"},{name:\"ptime\",reg:/^ptime:(\\d*(?:\\.\\d*)*)/,format:\"ptime:%d\"},{name:\"maxptime\",reg:/^maxptime:(\\d*(?:\\.\\d*)*)/,format:\"maxptime:%d\"},{name:\"direction\",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:\"icelite\",reg:/^(ice-lite)/},{name:\"iceUfrag\",reg:/^ice-ufrag:(\\S*)/,format:\"ice-ufrag:%s\"},{name:\"icePwd\",reg:/^ice-pwd:(\\S*)/,format:\"ice-pwd:%s\"},{name:\"fingerprint\",reg:/^fingerprint:(\\S*) (\\S*)/,names:[\"type\",\"hash\"],format:\"fingerprint:%s %s\"},{push:\"candidates\",reg:/^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,names:[\"foundation\",\"component\",\"transport\",\"priority\",\"ip\",\"port\",\"type\",\"raddr\",\"rport\",\"tcptype\",\"generation\",\"network-id\",\"network-cost\"],format:function(e){var t=\"candidate:%s %d %s %d %s %d typ %s\";return t+=null!=e.raddr?\" raddr %s rport %d\":\"%v%v\",t+=null!=e.tcptype?\" tcptype %s\":\"%v\",null!=e.generation&&(t+=\" generation %d\"),(t+=null!=e[\"network-id\"]?\" network-id %d\":\"%v\")+(null!=e[\"network-cost\"]?\" network-cost %d\":\"%v\")}},{name:\"endOfCandidates\",reg:/^(end-of-candidates)/},{name:\"remoteCandidates\",reg:/^remote-candidates:(.*)/,format:\"remote-candidates:%s\"},{name:\"iceOptions\",reg:/^ice-options:(\\S*)/,format:\"ice-options:%s\"},{push:\"ssrcs\",reg:/^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,names:[\"id\",\"attribute\",\"value\"],format:function(e){var t=\"ssrc:%d\";return null!=e.attribute&&(t+=\" %s\",null!=e.value&&(t+=\":%s\")),t}},{push:\"ssrcGroups\",reg:/^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,names:[\"semantics\",\"ssrcs\"],format:\"ssrc-group:%s %s\"},{name:\"msidSemantic\",reg:/^msid-semantic:\\s?(\\w*) (\\S*)/,names:[\"semantic\",\"token\"],format:\"msid-semantic: %s %s\"},{push:\"groups\",reg:/^group:(\\w*) (.*)/,names:[\"type\",\"mids\"],format:\"group:%s %s\"},{name:\"rtcpMux\",reg:/^(rtcp-mux)/},{name:\"rtcpRsize\",reg:/^(rtcp-rsize)/},{name:\"sctpmap\",reg:/^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,names:[\"sctpmapNumber\",\"app\",\"maxMessageSize\"],format:function(e){return null!=e.maxMessageSize?\"sctpmap:%s %s %s\":\"sctpmap:%s %s\"}},{name:\"xGoogleFlag\",reg:/^x-google-flag:([^\\s]*)/,format:\"x-google-flag:%s\"},{push:\"rids\",reg:/^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,names:[\"id\",\"direction\",\"params\"],format:function(e){return e.params?\"rid:%s %s %s\":\"rid:%s %s\"}},{push:\"imageattrs\",reg:new RegExp(\"^imageattr:(\\\\d+|\\\\*)[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?\"),names:[\"pt\",\"dir1\",\"attrs1\",\"dir2\",\"attrs2\"],format:function(e){return\"imageattr:%s %s %s\"+(e.dir2?\" %s %s\":\"\")}},{name:\"simulcast\",reg:new RegExp(\"^simulcast:(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?$\"),names:[\"dir1\",\"list1\",\"dir2\",\"list2\"],format:function(e){return\"simulcast:%s %s\"+(e.dir2?\" %s %s\":\"\")}},{name:\"simulcast_03\",reg:/^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,names:[\"value\"],format:\"simulcast: %s\"},{name:\"framerate\",reg:/^framerate:(\\d+(?:$|\\.\\d+))/,format:\"framerate:%s\"},{name:\"sourceFilter\",reg:/^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,names:[\"filterMode\",\"netType\",\"addressTypes\",\"destAddress\",\"srcList\"],format:\"source-filter: %s %s %s %s %s\"},{name:\"bundleOnly\",reg:/^(bundle-only)/},{name:\"label\",reg:/^label:(.+)/,format:\"label:%s\"},{name:\"sctpPort\",reg:/^sctp-port:(\\d+)$/,format:\"sctp-port:%s\"},{name:\"maxMessageSize\",reg:/^max-message-size:(\\d+)$/,format:\"max-message-size:%s\"},{push:\"tsRefClocks\",reg:/^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,names:[\"clksrc\",\"clksrcExt\"],format:function(e){return\"ts-refclk:%s\"+(null!=e.clksrcExt?\"=%s\":\"\")}},{name:\"mediaClk\",reg:/^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,names:[\"id\",\"mediaClockName\",\"mediaClockValue\",\"rateNumerator\",\"rateDenominator\"],format:function(e){var t=\"mediaclk:\";return t+=null!=e.id?\"id=%s %s\":\"%v%s\",t+=null!=e.mediaClockValue?\"=%s\":\"\",(t+=null!=e.rateNumerator?\" rate=%s\":\"\")+(null!=e.rateDenominator?\"/%s\":\"\")}},{name:\"keywords\",reg:/^keywds:(.+)$/,format:\"keywds:%s\"},{name:\"content\",reg:/^content:(.+)/,format:\"content:%s\"},{name:\"bfcpFloorCtrl\",reg:/^floorctrl:(c-only|s-only|c-s)/,format:\"floorctrl:%s\"},{name:\"bfcpConfId\",reg:/^confid:(\\d+)/,format:\"confid:%s\"},{name:\"bfcpUserId\",reg:/^userid:(\\d+)/,format:\"userid:%s\"},{name:\"bfcpFloorId\",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:[\"id\",\"mStream\"],format:\"floorid:%s mstrm:%s\"},{push:\"invalid\",names:[\"value\"]}]};Object.keys(r).forEach((function(e){r[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format=\"%s\")}))}))},OAgL:function(e,t,r){var n=r(\"lGCn\"),i=r(\"cpc2\"),o=r(\"kSER\"),s=r(\"Y4EA\"),a=r(\"QN7Q\"),c=r(\"Bn1Y\")(\"socket.io-client:socket\"),u=r(\"TypT\"),l=r(\"WLGk\");e.exports=h;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;function h(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,\"open\",a(this,\"onopen\")),s(e,\"packet\",a(this,\"onpacket\")),s(e,\"close\",a(this,\"onclose\"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\")),this},h.prototype.send=function(){var e=o(arguments);return e.unshift(\"message\"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=o(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof t[t.length-1]&&(c(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(c(\"transport is open - connecting\"),\"/\"!==this.nsp)if(this.query){var e=\"object\"==typeof this.query?u.encode(this.query):this.query;c(\"sending connect packet with query %s\",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},h.prototype.onclose=function(e){c(\"close (%s)\",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",e)},h.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===n.ERROR&&\"/\"===e.nsp)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit(\"error\",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];c(\"emitting event %j\",t),null!=e.id&&(c(\"attaching ack callback to event\"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=o(arguments);c(\"sending ack %j\",i),t.packet({type:l(i)?n.BINARY_ACK:n.ACK,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];\"function\"==typeof t?(c(\"calling ack %s with %j\",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c(\"bad ack %s\",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){c(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(c(\"performing disconnect (%s)\",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},\"Odm+\":function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),\"string\"!=typeof s[0]&&s.unshift(\"%O\");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if(\"%%\"===r)return r;c++;var i=t.formatters[n];return\"function\"==typeof i&&(r=i.call(e,s[c]),s.splice(c,1),c--),r})),t.formatArgs.call(e,s);var u=n.log||t.log||console.log.bind(console);u.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=i,\"function\"==typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(r=0;r<t.instances.length;r++){var o=t.instances[r];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(\"FGiv\"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},QN7Q:function(e,t){var r=[].slice;e.exports=function(e,t){if(\"string\"==typeof t&&(t=e[t]),\"function\"!=typeof t)throw new Error(\"bind() requires a function\");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},Qsis:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},R7wK:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"8xwj\");class i{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,planB:n=!1}){if(this._mediaObject={},this._planB=n,e&&this.setIceParameters(e),t){this._mediaObject.candidates=[];for(const e of t){const t={component:1};t.foundation=e.foundation,t.ip=e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates=\"end-of-candidates\",this._mediaObject.iceOptions=\"renomination\"}r&&this.setDtlsRole(r.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}disable(){this._mediaObject.direction=\"inactive\",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}close(){this._mediaObject.direction=\"inactive\",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}}function o(e){const t=new RegExp(\"^(audio|video)/(.+)\",\"i\").exec(e.mimeType);if(!t)throw new TypeError(\"invalid codec.mimeType\");return t[2]}t.MediaSection=i,t.AnswerMediaSection=class extends i{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:a=!1,offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:l,codecOptions:d,extmapAllowMixed:p=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:r,planB:a}),this._mediaObject.mid=String(c.mid),this._mediaObject.type=c.type,this._mediaObject.protocol=c.protocol,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.port=s.port):(this._mediaObject.connection={ip:\"127.0.0.1\",version:4},this._mediaObject.port=7),c.type){case\"audio\":case\"video\":this._mediaObject.direction=\"recvonly\",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of l.codecs){const t={payload:e.payloadType,codec:o(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const r=n.clone(e.parameters,{});if(d){const{opusStereo:t,opusFec:n,opusDtx:i,opusMaxPlaybackRate:o,opusPtime:s,videoGoogleStartBitrate:a,videoGoogleMaxBitrate:c,videoGoogleMinBitrate:l}=d,p=u.codecs.find(t=>t.payloadType===e.payloadType);switch(e.mimeType.toLowerCase()){case\"audio/opus\":void 0!==t&&(p.parameters[\"sprop-stereo\"]=t?1:0,r.stereo=t?1:0),void 0!==n&&(p.parameters.useinbandfec=n?1:0,r.useinbandfec=n?1:0),void 0!==i&&(p.parameters.usedtx=i?1:0,r.usedtx=i?1:0),void 0!==o&&(r.maxplaybackrate=o),void 0!==s&&(p.parameters.ptime=s,r.ptime=s);break;case\"video/vp8\":case\"video/vp9\":case\"video/h264\":case\"video/h265\":void 0!==a&&(r[\"x-google-start-bitrate\"]=a),void 0!==c&&(r[\"x-google-max-bitrate\"]=c),void 0!==l&&(r[\"x-google-min-bitrate\"]=l)}}const i={payload:e.payloadType,config:\"\"};for(const e of Object.keys(r))i.config&&(i.config+=\";\"),i.config+=`${e}=${r[e]}`;i.config&&this._mediaObject.fmtp.push(i);for(const n of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:n.type,subtype:n.parameter})}this._mediaObject.payloads=l.codecs.map(e=>e.payloadType).join(\" \"),this._mediaObject.ext=[];for(const e of l.headerExtensions)(c.ext||[]).some(t=>t.uri===e.uri)&&this._mediaObject.ext.push({uri:e.uri,value:e.id});if(p&&\"extmap-allow-mixed\"===c.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed=\"extmap-allow-mixed\"),c.simulcast){this._mediaObject.simulcast={dir1:\"recv\",list1:c.simulcast.list1},this._mediaObject.rids=[];for(const e of c.rids||[])\"send\"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:\"recv\"})}else if(c.simulcast_03){this._mediaObject.simulcast_03={value:c.simulcast_03.value.replace(/send/g,\"recv\")},this._mediaObject.rids=[];for(const e of c.rids||[])\"send\"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:\"recv\"})}this._mediaObject.rtcpMux=\"rtcp-mux\",this._mediaObject.rtcpRsize=\"rtcp-rsize\",this._planB&&\"video\"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag=\"conference\");break;case\"application\":\"number\"==typeof c.sctpPort?(this._mediaObject.payloads=\"webrtc-datachannel\",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize):c.sctpmap&&(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:\"webrtc-datachannel\",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize})}}setDtlsRole(e){switch(e){case\"client\":this._mediaObject.setup=\"active\";break;case\"server\":this._mediaObject.setup=\"passive\";break;case\"auto\":this._mediaObject.setup=\"actpass\"}}},t.OfferMediaSection=class extends i{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:r,sctpParameters:n,plainRtpParameters:i,planB:s=!1,mid:a,kind:c,offerRtpParameters:u,streamId:l,trackId:d,oldDataChannelSpec:p=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:r,planB:s}),this._mediaObject.mid=String(a),this._mediaObject.type=c,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol=\"RTP/AVP\",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:\"127.0.0.1\",version:4},this._mediaObject.protocol=n?\"UDP/DTLS/SCTP\":\"UDP/TLS/RTP/SAVPF\",this._mediaObject.port=7),c){case\"audio\":case\"video\":{this._mediaObject.direction=\"sendonly\",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${l||\"-\"} ${d}`);for(const n of u.codecs){const e={payload:n.payloadType,codec:o(n),rate:n.clockRate};n.channels>1&&(e.encoding=n.channels),this._mediaObject.rtp.push(e);const t={payload:n.payloadType,config:\"\"};for(const r of Object.keys(n.parameters))t.config&&(t.config+=\";\"),t.config+=`${r}=${n.parameters[r]}`;t.config&&this._mediaObject.fmtp.push(t);for(const r of n.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:n.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads=u.codecs.map(e=>e.payloadType).join(\" \"),this._mediaObject.ext=[];for(const n of u.headerExtensions)this._mediaObject.ext.push({uri:n.uri,value:n.id});this._mediaObject.rtcpMux=\"rtcp-mux\",this._mediaObject.rtcpRsize=\"rtcp-rsize\";const e=u.encodings[0],t=e.ssrc,r=e.rtx&&e.rtx.ssrc?e.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],u.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:\"cname\",value:u.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:\"msid\",value:`${l||\"-\"} ${d}`}),r&&(u.rtcp.cname&&this._mediaObject.ssrcs.push({id:r,attribute:\"cname\",value:u.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:r,attribute:\"msid\",value:`${l||\"-\"} ${d}`}),this._mediaObject.ssrcGroups.push({semantics:\"FID\",ssrcs:`${t} ${r}`}));break}case\"application\":p?(this._mediaObject.payloads=n.port,this._mediaObject.sctpmap={app:\"webrtc-datachannel\",sctpmapNumber:n.port,maxMessageSize:n.maxMessageSize}):(this._mediaObject.payloads=\"webrtc-datachannel\",this._mediaObject.sctpPort=n.port,this._mediaObject.maxMessageSize=n.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup=\"actpass\"}planBReceive({offerRtpParameters:e,streamId:t,trackId:r}){const n=e.encodings[0],i=n.ssrc,o=n.rtx&&n.rtx.ssrc?n.rtx.ssrc:void 0;e.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:\"cname\",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:\"msid\",value:`${t||\"-\"} ${r}`}),o&&(e.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:\"cname\",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:\"msid\",value:`${t||\"-\"} ${r}`}),this._mediaObject.ssrcGroups.push({semantics:\"FID\",ssrcs:`${i} ${o}`}))}planBStopReceiving({offerRtpParameters:e}){const t=e.encodings[0],r=t.ssrc,n=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(e=>e.id!==r&&e.id!==n),n&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(e=>e.ssrcs!==`${r} ${n}`))}}},TypT:function(e,t){t.encode=function(e){var t=\"\";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+=\"&\"),t+=encodeURIComponent(r)+\"=\"+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split(\"&\"),n=0,i=r.length;n<i;n++){var o=r[n].split(\"=\");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},UThS:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"8xwj\"),s=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"iHzg\"),u=r(\"1z2d\"),l=r(\"Gffd\"),d=r(\"gEDQ\"),p=new i.Logger(\"Chrome70\"),h={OS:1024,MIS:1024};class f extends u.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return\"Chrome70\"}close(){if(p.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){p.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"});try{e.addTransceiver(\"audio\"),e.addTransceiver(\"video\");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug(\"getNativeSctpCapabilities()\"),{numStreams:h}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:d}){p.debug(\"run()\"),this._direction=e,this._remoteSdp=new l.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters(\"audio\",d),video:s.getSendingRtpParameters(\"video\",d)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters(\"audio\",d),video:s.getSendingRemoteRtpParameters(\"video\",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\",sdpSemantics:\"unified-plan\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){p.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),p.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id);const u=o.clone(this._sendingRtpParametersByKind[e.kind],{});u.codecs=s.reduceCodecs(u.codecs,i);const l=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});l.codecs=s.reduceCodecs(l.codecs,i);const h=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream]});let m,g=await this._pc.createOffer(),y=n.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:y}),t&&t.length>1&&(p.debug(\"send() | enabling legacy simulcast\"),y=n.parse(g.sdp),m=y.media[h.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:t.length}),g={type:\"offer\",sdp:n.write(y)});let v=!1;const b=d.parse((t||[{}])[0].scalabilityMode);if(t&&1===t.length&&b.spatialLayers>1&&\"video/vp9\"===u.codecs[0].mimeType.toLowerCase()&&(p.debug(\"send() | enabling legacy simulcast for VP9 SVC\"),v=!0,y=n.parse(g.sdp),m=y.media[h.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:b.spatialLayers}),g={type:\"offer\",sdp:n.write(y)}),p.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",g),await this._pc.setLocalDescription(g),t){p.debug(\"send() | applying given encodings\");const e=f.sender.getParameters();for(let r=0;r<(e.encodings||[]).length;++r){const n=e.encodings[r],i=t[r];if(!i)break;e.encodings[r]=Object.assign(n,i)}await f.sender.setParameters(e)}const _=f.mid;if(u.mid=_,y=n.parse(this._pc.localDescription.sdp),m=y.media[h.idx],u.rtcp.cname=a.getCname({offerMediaObject:m}),u.encodings=c.getRtpEncodings({offerMediaObject:m}),t)for(let n=0;n<u.encodings.length;++n)t[n]&&Object.assign(u.encodings[n],t[n]);if(v&&(u.encodings=[u.encodings[0]]),u.encodings.length>1&&(\"video/vp8\"===u.codecs[0].mimeType.toLowerCase()||\"video/h264\"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:m,reuseMid:h.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:r});const w={type:\"answer\",sdp:this._remoteSdp.getSdp()};return p.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(_,f),{localId:_,rtpParameters:u,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),p.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const r=await this._pc.createOffer();p.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?p.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):p.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),p.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),p.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:r,protocol:o,priority:s};p.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),p.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};p.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),p.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const o={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const c=n.parse(s.sdp),u=c.media.find(e=>String(e.mid)===i);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:u}),s={type:\"answer\",sdp:n.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:c}),p.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s);const l=this._pc.getTransceivers().find(e=>e.mid===i);if(!l)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(i,l),{localId:i,track:l.receiver.track,rtpReceiver:l.receiver}}async stopReceiving(e){this._assertRecvDirection(),p.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();p.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:r};p.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}p.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Chrome70=f},Uli8:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),i=r(\"GygU\"),o=r(\"nAs4\"),s=new n.Logger(\"DataProducer\");t.DataProducer=class extends i.EnhancedEventEmitter{constructor({id:e,dataChannel:t,sctpStreamParameters:r,appData:n}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug(\"constructor()\"),this._id=e,this._dataChannel=t,this._sctpStreamParameters=r,this._appData=n,this._handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(s.debug(\"close()\"),this._closed=!0,this._dataChannel.close(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(s.debug(\"transportClosed()\"),this._closed=!0,this._dataChannel.close(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}send(e){if(s.debug(\"send()\"),this._closed)throw new o.InvalidStateError(\"closed\");this._dataChannel.send(e)}_handleDataChannel(){this._dataChannel.addEventListener(\"open\",()=>{this._closed||(s.debug('DataChannel \"open\" event'),this.safeEmit(\"open\"))}),this._dataChannel.addEventListener(\"error\",e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error(\"unknown DataChannel error\")),\"sctp-failure\"===t.errorDetail?s.error(\"DataChannel SCTP error [sctpCauseCode:%s]: %s\",t.sctpCauseCode,t.message):s.error('DataChannel \"error\" event: %o',t),this.safeEmit(\"error\",t)}),this._dataChannel.addEventListener(\"close\",()=>{this._closed||(s.warn('DataChannel \"close\" event'),this._closed=!0,this.emit(\"@close\"),this.safeEmit(\"close\"))}),this._dataChannel.addEventListener(\"message\",()=>{this._closed||s.warn('DataChannel \"message\" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener(\"bufferedamountlow\",()=>{this._closed||this.safeEmit(\"bufferedamountlow\")})}}},UloB:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"4Eqw\"),i=r(\"7h/2\"),o=r(\"GygU\"),s=r(\"nAs4\"),a=r(\"8xwj\"),c=r(\"/rqz\"),u=r(\"AZE+\"),l=r(\"sZ75\"),d=r(\"Uli8\"),p=r(\"hUSI\"),h=new i.Logger(\"Transport\");t.Transport=class extends o.EnhancedEventEmitter{constructor({direction:e,id:t,iceParameters:r,iceCandidates:i,dtlsParameters:c,sctpParameters:u,iceServers:l,iceTransportPolicy:d,additionalSettings:p,proprietaryConstraints:f,appData:m,handlerFactory:g,extendedRtpCapabilities:y,canProduceByKind:v}){super(),this._closed=!1,this._connectionState=\"new\",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new n.AwaitQueue({ClosedErrorClass:s.InvalidStateError}),this._observer=new o.EnhancedEventEmitter,h.debug(\"constructor() [id:%s, direction:%s]\",t,e),this._id=t,this._direction=e,this._extendedRtpCapabilities=y,this._canProduceByKind=v,this._maxSctpMessageSize=u?u.maxMessageSize:null,delete(p=a.clone(p,{})).iceServers,delete p.iceTransportPolicy,delete p.bundlePolicy,delete p.rtcpMuxPolicy,delete p.sdpSemantics,this._handler=g(),this._handler.run({direction:e,iceParameters:r,iceCandidates:i,dtlsParameters:c,sctpParameters:u,iceServers:l,iceTransportPolicy:d,additionalSettings:p,proprietaryConstraints:f,extendedRtpCapabilities:y}),this._appData=m,this._handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){if(!this._closed){h.debug(\"close()\"),this._closed=!0,this._awaitQueue.close(),this._handler.close();for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit(\"close\")}}async getStats(){if(this._closed)throw new s.InvalidStateError(\"closed\");return this._handler.getTransportStats()}async restartIce({iceParameters:e}){if(h.debug(\"restartIce()\"),this._closed)throw new s.InvalidStateError(\"closed\");if(!e)throw new TypeError(\"missing iceParameters\");return this._awaitQueue.push(async()=>this._handler.restartIce(e),\"transport.restartIce()\")}async updateIceServers({iceServers:e}={}){if(h.debug(\"updateIceServers()\"),this._closed)throw new s.InvalidStateError(\"closed\");if(!Array.isArray(e))throw new TypeError(\"missing iceServers\");return this._awaitQueue.push(async()=>this._handler.updateIceServers(e),\"transport.updateIceServers()\")}async produce({track:e,encodings:t,codecOptions:r,codec:n,stopTracks:i=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,appData:l={}}={}){if(h.debug(\"produce() [track:%o]\",e),!e)throw new TypeError(\"missing track\");if(\"send\"!==this._direction)throw new s.UnsupportedError(\"not a sending Transport\");if(!this._canProduceByKind[e.kind])throw new s.UnsupportedError(\"cannot produce \"+e.kind);if(\"ended\"===e.readyState)throw new s.InvalidStateError(\"track ended\");if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(0===this.listenerCount(\"produce\"))throw new TypeError('no \"produce\" listener set into this transport');if(l&&\"object\"!=typeof l)throw new TypeError(\"if given, appData must be an object\");return this._awaitQueue.push(async()=>{let s;if(t&&!Array.isArray(t))throw TypeError(\"encodings must be an array\");t&&0===t.length?s=void 0:t&&(s=t.map(e=>{const t={active:!0};return!1===e.active&&(t.active=!1),\"boolean\"==typeof e.dtx&&(t.dtx=e.dtx),\"string\"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),\"number\"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),\"number\"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),\"number\"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),\"boolean\"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),\"string\"==typeof e.priority&&(t.priority=e.priority),\"string\"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t}));const{localId:d,rtpParameters:p,rtpSender:h}=await this._handler.send({track:e,encodings:s,codecOptions:r,codec:n});try{c.validateRtpParameters(p);const{id:t}=await this.safeEmitAsPromise(\"produce\",{kind:e.kind,rtpParameters:p,appData:l}),r=new u.Producer({id:t,localId:d,rtpSender:h,track:e,rtpParameters:p,stopTracks:i,disableTrackOnPause:o,zeroRtpOnPause:a,appData:l});return this._producers.set(r.id,r),this._handleProducer(r),this._observer.safeEmit(\"newproducer\",r),r}catch(f){throw this._handler.stopSending(d).catch(()=>{}),f}},\"transport.produce()\").catch(t=>{if(i)try{e.stop()}catch(r){}throw t})}async consume({id:e,producerId:t,kind:r,rtpParameters:n,appData:i={}}){if(h.debug(\"consume()\"),n=a.clone(n,void 0),this._closed)throw new s.InvalidStateError(\"closed\");if(\"recv\"!==this._direction)throw new s.UnsupportedError(\"not a receiving Transport\");if(\"string\"!=typeof e)throw new TypeError(\"missing id\");if(\"string\"!=typeof t)throw new TypeError(\"missing producerId\");if(\"audio\"!==r&&\"video\"!==r)throw new TypeError(`invalid kind '${r}'`);if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(i&&\"object\"!=typeof i)throw new TypeError(\"if given, appData must be an object\");return this._awaitQueue.push(async()=>{if(!c.canReceive(n,this._extendedRtpCapabilities))throw new s.UnsupportedError(\"cannot consume this Producer\");const{localId:o,rtpReceiver:a,track:u}=await this._handler.receive({trackId:e,kind:r,rtpParameters:n}),d=new l.Consumer({id:e,localId:o,producerId:t,rtpReceiver:a,track:u,rtpParameters:n,appData:i});if(this._consumers.set(d.id,d),this._handleConsumer(d),!this._probatorConsumerCreated&&\"video\"===r)try{const e=c.generateProbatorRtpParameters(d.rtpParameters);await this._handler.receive({trackId:\"probator\",kind:\"video\",rtpParameters:e}),h.debug(\"consume() | Consumer for RTP probation created\"),this._probatorConsumerCreated=!0}catch(p){h.error(\"consume() | failed to create Consumer for RTP probation:%o\",p)}return this._observer.safeEmit(\"newconsumer\",d),d},\"transport.consume()\")}async produceData({ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:r,priority:n=\"low\",label:i=\"\",protocol:o=\"\",appData:a={}}={}){if(h.debug(\"produceData()\"),\"send\"!==this._direction)throw new s.UnsupportedError(\"not a sending Transport\");if(!this._maxSctpMessageSize)throw new s.UnsupportedError(\"SCTP not enabled by remote Transport\");if(![\"very-low\",\"low\",\"medium\",\"high\"].includes(n))throw new TypeError(\"wrong priority\");if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(0===this.listenerCount(\"producedata\"))throw new TypeError('no \"producedata\" listener set into this transport');if(a&&\"object\"!=typeof a)throw new TypeError(\"if given, appData must be an object\");return(t||r)&&(e=!1),this._awaitQueue.push(async()=>{const{dataChannel:s,sctpStreamParameters:u}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,priority:n,label:i,protocol:o});c.validateSctpStreamParameters(u);const{id:l}=await this.safeEmitAsPromise(\"producedata\",{sctpStreamParameters:u,label:i,protocol:o,appData:a}),p=new d.DataProducer({id:l,dataChannel:s,sctpStreamParameters:u,appData:a});return this._dataProducers.set(p.id,p),this._handleDataProducer(p),this._observer.safeEmit(\"newdataproducer\",p),p},\"transport.produceData()\")}async consumeData({id:e,dataProducerId:t,sctpStreamParameters:r,label:n=\"\",protocol:i=\"\",appData:o={}}){if(h.debug(\"consumeData()\"),r=a.clone(r,void 0),this._closed)throw new s.InvalidStateError(\"closed\");if(\"recv\"!==this._direction)throw new s.UnsupportedError(\"not a receiving Transport\");if(!this._maxSctpMessageSize)throw new s.UnsupportedError(\"SCTP not enabled by remote Transport\");if(\"string\"!=typeof e)throw new TypeError(\"missing id\");if(\"string\"!=typeof t)throw new TypeError(\"missing dataProducerId\");if(0===this.listenerCount(\"connect\")&&\"new\"===this._connectionState)throw new TypeError('no \"connect\" listener set into this transport');if(o&&\"object\"!=typeof o)throw new TypeError(\"if given, appData must be an object\");return c.validateSctpStreamParameters(r),this._awaitQueue.push(async()=>{const{dataChannel:s}=await this._handler.receiveDataChannel({sctpStreamParameters:r,label:n,protocol:i}),a=new p.DataConsumer({id:e,dataProducerId:t,dataChannel:s,sctpStreamParameters:r,appData:o});return this._dataConsumers.set(a.id,a),this._handleDataConsumer(a),this._observer.safeEmit(\"newdataconsumer\",a),a},\"transport.consumeData()\")}_handleHandler(){const e=this._handler;e.on(\"@connect\",({dtlsParameters:e},t,r)=>{this._closed?r(new s.InvalidStateError(\"closed\")):this.safeEmit(\"connect\",{dtlsParameters:e},t,r)}),e.on(\"@connectionstatechange\",e=>{e!==this._connectionState&&(h.debug(\"connection state changed to %s\",e),this._connectionState=e,this._closed||this.safeEmit(\"connectionstatechange\",e))})}_handleProducer(e){e.on(\"@close\",()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push(async()=>this._handler.stopSending(e.localId),\"producer @close event\").catch(e=>h.warn(\"producer.close() failed:%o\",e))}),e.on(\"@replacetrack\",(t,r,n)=>{this._awaitQueue.push(async()=>this._handler.replaceTrack(e.localId,t),\"producer @replacetrack event\").then(r).catch(n)}),e.on(\"@setmaxspatiallayer\",(t,r,n)=>{this._awaitQueue.push(async()=>this._handler.setMaxSpatialLayer(e.localId,t),\"producer @setmaxspatiallayer event\").then(r).catch(n)}),e.on(\"@setrtpencodingparameters\",(t,r,n)=>{this._awaitQueue.push(async()=>this._handler.setRtpEncodingParameters(e.localId,t),\"producer @setrtpencodingparameters event\").then(r).catch(n)}),e.on(\"@getstats\",(t,r)=>{if(this._closed)return r(new s.InvalidStateError(\"closed\"));this._handler.getSenderStats(e.localId).then(t).catch(r)})}_handleConsumer(e){e.on(\"@close\",()=>{this._consumers.delete(e.id),this._closed||this._awaitQueue.push(async()=>this._handler.stopReceiving(e.localId),\"consumer @close event\").catch(()=>{})}),e.on(\"@getstats\",(t,r)=>{if(this._closed)return r(new s.InvalidStateError(\"closed\"));this._handler.getReceiverStats(e.localId).then(t).catch(r)})}_handleDataProducer(e){e.on(\"@close\",()=>{this._dataProducers.delete(e.id)})}_handleDataConsumer(e){e.on(\"@close\",()=>{this._dataConsumers.delete(e.id)})}}},Uxeu:function(e,t){var r=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,n=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];e.exports=function(e){var t,i,o=e,s=e.indexOf(\"[\"),a=e.indexOf(\"]\");-1!=s&&-1!=a&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,\";\")+e.substring(a,e.length));for(var c,u=r.exec(e||\"\"),l={},d=14;d--;)l[n[d]]=u[d]||\"\";return-1!=s&&-1!=a&&(l.source=o,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,\":\"),l.authority=l.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),l.ipv6uri=!0),l.pathNames=(i=(t=l.path).replace(/\\/{2,9}/g,\"/\").split(\"/\"),\"/\"!=t.substr(0,1)&&0!==t.length||i.splice(0,1),\"/\"==t.substr(t.length-1,1)&&i.splice(i.length-1,1),i),l.queryKey=(c={},l.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(c[t]=r)})),c),l}},VIe4:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;t.splice(1,0,r,\"color: inherit\");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&(n++,\"%c\"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem(\"debug\",e):t.storage.removeItem(\"debug\")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem(\"debug\")}catch(r){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type&&!window.process.__nwjs)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.log=console.debug||console.log||(()=>{}),e.exports=r(\"BbHu\")(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}}},WLGk:function(e,t,r){var n=r(\"6C75\"),i=Object.prototype.toString,o=\"function\"==typeof Blob||\"undefined\"!=typeof Blob&&\"[object BlobConstructor]\"===i.call(Blob),s=\"function\"==typeof File||\"undefined\"!=typeof File&&\"[object FileConstructor]\"===i.call(File);e.exports=function e(t){if(!t||\"object\"!=typeof t)return!1;if(n(t)){for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(\"function\"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||\"function\"==typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||s&&t instanceof File)return!0;if(t.toJSON&&\"function\"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},Wm4p:function(e,t,r){var n,i=r(\"dkv/\"),o=r(\"WLGk\"),s=r(\"ypnn\"),a=r(\"zMFY\"),c=r(\"oIG/\");\"undefined\"!=typeof ArrayBuffer&&(n=r(\"g5Dd\"));var u=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),l=\"undefined\"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=u||l;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=i(p),f={type:\"error\",data:\"parser error\"},m=r(\"14A5\");function g(e,t,r){for(var n=new Array(e.length),i=a(e.length,r),o=function(e,r,i){t(r,(function(t,r){n[e]=r,i(t,n)}))},s=0;s<e.length;s++)o(s,e[s],i)}t.encodePacket=function(e,r,n,i){\"function\"==typeof r&&(i=r,r=!1),\"function\"==typeof n&&(i=n,n=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if(\"undefined\"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=p[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}(e,r,i);if(void 0!==m&&o instanceof m)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(d)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},r,!0,n)},i.readAsArrayBuffer(e.data)}(e,r,n);var i=new Uint8Array(1);return i[0]=p[e.type],n(new m([i.buffer,e.data]))}(e,r,i);if(o&&o.base64)return function(e,r){return r(\"b\"+t.packets[e.type]+e.data.data)}(e,i);var s=p[e.type];return void 0!==e.data&&(s+=n?c.encode(String(e.data),{strict:!1}):String(e.data)),i(\"\"+s)},t.encodeBase64Packet=function(e,r){var n,i=\"b\"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(\",\")[1];r(i+e)},o.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var s=new Uint8Array(e.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];n=String.fromCharCode.apply(null,a)}return i+=btoa(n),r(i)},t.decodePacket=function(e,r,n){if(void 0===e)return f;if(\"string\"==typeof e){if(\"b\"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var i=e.charAt(0);return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:f}i=new Uint8Array(e)[0];var o=s(e,1);return m&&\"blob\"===r&&(o=new m([o])),{type:h[i],data:o}},t.decodeBase64Packet=function(e,t){var r=h[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=n.decode(e.substr(1));return\"blob\"===t&&m&&(i=new m([i])),{type:r,data:i}},t.encodePayload=function(e,r,n){\"function\"==typeof r&&(n=r,r=null);var i=o(e);return r&&i?m&&!d?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n):e.length?void g(e,(function(e,n){t.encodePacket(e,!!i&&r,!1,(function(e){n(null,function(e){return e.length+\":\"+e}(e))}))}),(function(e,t){return n(t.join(\"\"))})):n(\"0:\")},t.decodePayload=function(e,r,n){if(\"string\"!=typeof e)return t.decodePayloadAsBinary(e,r,n);var i;if(\"function\"==typeof r&&(n=r,r=null),\"\"===e)return n(f,0,1);for(var o,s,a=\"\",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(\":\"===l){if(\"\"===a||a!=(o=Number(a)))return n(f,0,1);if(a!=(s=e.substr(c+1,o)).length)return n(f,0,1);if(s.length){if(i=t.decodePacket(s,r,!1),f.type===i.type&&f.data===i.data)return n(f,0,1);if(!1===n(i,c+o,u))return}c+=o,a=\"\"}else a+=l}return\"\"!==a?n(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){return r(null,e)}))}),(function(e,t){var n=t.reduce((function(e,t){var r;return e+(r=\"string\"==typeof t?t.length:t.byteLength).toString().length+r+2}),0),i=new Uint8Array(n),o=0;return t.forEach((function(e){var t=\"string\"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);r=n.buffer}i[o++]=t?0:1;var a=r.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);for(i[o++]=255,n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]})),r(i.buffer)}))},t.encodePayloadAsBlob=function(e,r){g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,\"string\"==typeof e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,m){var a=new m([t.buffer,s.buffer,e]);r(null,a)}}))}),(function(e,t){return r(new m(t))}))},t.decodePayloadAsBinary=function(e,r,n){\"function\"==typeof r&&(n=r,r=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],u=\"\",l=1;255!==a[l];l++){if(u.length>310)return n(f,0,1);u+=a[l]}i=s(i,2+u.length),u=parseInt(u);var d=s(i,0,u);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var p=new Uint8Array(d);for(d=\"\",l=0;l<p.length;l++)d+=String.fromCharCode(p[l])}o.push(d),i=s(i,u)}var h=o.length;o.forEach((function(e,i){n(t.decodePacket(e,r,!0),i,h)}))}},Y4EA:function(e,t){e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},Yvos:function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},YwPy:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\");t.extractRtpCapabilities=function({sdpObject:e}){const t=new Map,r=[];let i=!1,o=!1;for(const s of e.media){const e=s.type;switch(e){case\"audio\":if(i)continue;i=!0;break;case\"video\":if(o)continue;o=!0;break;default:continue}for(const r of s.rtp){const n={kind:e,mimeType:`${e}/${r.codec}`,preferredPayloadType:r.payload,clockRate:r.rate,channels:r.encoding,parameters:{},rtcpFeedback:[]};t.set(n.preferredPayloadType,n)}for(const r of s.fmtp||[]){const e=n.parseParams(r.config),i=t.get(r.payload);i&&(e&&e[\"profile-level-id\"]&&(e[\"profile-level-id\"]=String(e[\"profile-level-id\"])),i.parameters=e)}for(const r of s.rtcpFb||[]){const e=t.get(r.payload);if(!e)continue;const n={type:r.type,parameter:r.subtype};n.parameter||delete n.parameter,e.rtcpFeedback.push(n)}for(const t of s.ext||[])t[\"encrypt-uri\"]||r.push({kind:e,uri:t.uri,preferredId:t.value})}return{codecs:Array.from(t.values()),headerExtensions:r}},t.extractDtlsParameters=function({sdpObject:e}){const t=(e.media||[]).find(e=>e.iceUfrag&&0!==e.port);if(!t)throw new Error(\"no active media section found\");const r=t.fingerprint||e.fingerprint;let n;switch(t.setup){case\"active\":n=\"client\";break;case\"passive\":n=\"server\";break;case\"actpass\":n=\"auto\"}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}},t.getCname=function({offerMediaObject:e}){const t=(e.ssrcs||[]).find(e=>\"cname\"===e.attribute);return t?t.value:\"\"},t.applyCodecParameters=function({offerRtpParameters:e,answerMediaObject:t}){for(const r of e.codecs){const e=r.mimeType.toLowerCase();if(\"audio/opus\"!==e)continue;if(!(t.rtp||[]).find(e=>e.payload===r.payloadType))continue;t.fmtp=t.fmtp||[];let i=t.fmtp.find(e=>e.payload===r.payloadType);i||(i={payload:r.payloadType,config:\"\"},t.fmtp.push(i));const o=n.parseParams(i.config);switch(e){case\"audio/opus\":{const e=r.parameters[\"sprop-stereo\"];void 0!==e&&(o.stereo=e?1:0);break}}i.config=\"\";for(const t of Object.keys(o))i.config&&(i.config+=\";\"),i.config+=`${t}=${o[t]}`}}},YzUL:function(e,t,r){var n,i,o=r(\"0zaL\"),s=r(\"Wm4p\"),a=r(\"TypT\"),c=r(\"Yvos\"),u=r(\"Aplp\"),l=r(\"Bn1Y\")(\"engine.io-client:websocket\");if(\"undefined\"!=typeof WebSocket?n=WebSocket:\"undefined\"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),\"undefined\"==typeof window)try{i=r(1)}catch(h){}var d=n||i;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),o.call(this,e)}e.exports=p,c(p,o),p.prototype.name=\"websocket\",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,r)}catch(n){return this.emit(\"error\",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError(\"websocket error\",t)}},p.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,n=0,i=r;n<i;n++)!function(e){s.encodePacket(e,t.supportsBinary,(function(n){if(!t.usingBrowserWebSocket){var i={};e.options&&(i.compress=e.options.compress),t.perMessageDeflate&&(\"string\"==typeof n?Buffer.byteLength(n):n.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(n):t.ws.send(n,i)}catch(h){l(\"websocket closed before onclose event\")}--r||(t.emit(\"flush\"),setTimeout((function(){t.writable=!0,t.emit(\"drain\")}),0))}))}(e[n])},p.prototype.onClose=function(){o.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?\"wss\":\"ws\",r=\"\";return this.port&&(\"wss\"===t&&443!==Number(this.port)||\"ws\"===t&&80!==Number(this.port))&&(r=\":\"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+e},p.prototype.check=function(){return!(!d||\"__initialize\"in d&&this.name===p.prototype.name)}},cpc2:function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks[\"$\"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks[\"$\"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},\"dkv/\":function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},eeIc:function(e,t){e.exports=function(e){return r&&Buffer.isBuffer(e)||n&&(e instanceof ArrayBuffer||function(e){return\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var r=\"function\"==typeof Buffer&&\"function\"==typeof Buffer.isBuffer,n=\"function\"==typeof ArrayBuffer},fg2H:function(e,t,r){var n=r(\"yeub\"),i=r(\"y508\");e.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(s){}try{if(\"undefined\"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(s){}if(!t)try{return new(i[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(s){}}},g5Dd:function(e,t){!function(e){\"use strict\";t.encode=function(t){var r,n=new Uint8Array(t),i=n.length,o=\"\";for(r=0;r<i;r+=3)o+=e[n[r]>>2],o+=e[(3&n[r])<<4|n[r+1]>>4],o+=e[(15&n[r+1])<<2|n[r+2]>>6],o+=e[63&n[r+2]];return i%3==2?o=o.substring(0,o.length-1)+\"=\":i%3==1&&(o=o.substring(0,o.length-2)+\"==\"),o},t.decode=function(t){var r,n,i,o,s,a=.75*t.length,c=t.length,u=0;\"=\"===t[t.length-1]&&(a--,\"=\"===t[t.length-2]&&a--);var l=new ArrayBuffer(a),d=new Uint8Array(l);for(r=0;r<c;r+=4)n=e.indexOf(t[r]),i=e.indexOf(t[r+1]),o=e.indexOf(t[r+2]),s=e.indexOf(t[r+3]),d[u++]=n<<2|i>>4,d[u++]=(15&i)<<4|o>>2,d[u++]=(3&o)<<6|63&s;return l}}(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\")},gEDQ:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=new RegExp(\"^[LS]([1-9]\\\\d{0,1})T([1-9]\\\\d{0,1})\");t.parse=function(e){const t=n.exec(e||\"\");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},hUSI:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),i=r(\"GygU\"),o=new n.Logger(\"DataConsumer\");t.DataConsumer=class extends i.EnhancedEventEmitter{constructor({id:e,dataProducerId:t,dataChannel:r,sctpStreamParameters:n,appData:s}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,o.debug(\"constructor()\"),this._id=e,this._dataProducerId=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=s,this._handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(o.debug(\"close()\"),this._closed=!0,this._dataChannel.close(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(o.debug(\"transportClosed()\"),this._closed=!0,this._dataChannel.close(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}_handleDataChannel(){this._dataChannel.addEventListener(\"open\",()=>{this._closed||(o.debug('DataChannel \"open\" event'),this.safeEmit(\"open\"))}),this._dataChannel.addEventListener(\"error\",e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error(\"unknown DataChannel error\")),\"sctp-failure\"===t.errorDetail?o.error(\"DataChannel SCTP error [sctpCauseCode:%s]: %s\",t.sctpCauseCode,t.message):o.error('DataChannel \"error\" event: %o',t),this.safeEmit(\"error\",t)}),this._dataChannel.addEventListener(\"close\",()=>{this._closed||(o.warn('DataChannel \"close\" event'),this._closed=!0,this.emit(\"@close\"),this.safeEmit(\"close\"))}),this._dataChannel.addEventListener(\"message\",e=>{this._closed||this.safeEmit(\"message\",e.data)})}}},iHzg:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getRtpEncodings=function({offerMediaObject:e}){const t=new Set;for(const i of e.ssrcs||[])t.add(i.id);if(0===t.size)throw new Error(\"no a=ssrc lines found\");const r=new Map;for(const i of e.ssrcGroups||[]){if(\"FID\"!==i.semantics)continue;let[e,n]=i.ssrcs.split(/\\s+/);e=Number(e),n=Number(n),t.has(e)&&(t.delete(e),t.delete(n),r.set(e,n))}for(const i of t)r.set(i,null);const n=[];for(const[i,o]of r){const e={ssrc:i};o&&(e.rtx={ssrc:o}),n.push(e)}return n},t.addLegacySimulcast=function({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError(\"numStreams must be greater than 1\");const r=(e.ssrcs||[]).find(e=>\"msid\"===e.attribute);if(!r)throw new Error(\"a=ssrc line with msid information not found\");const[n,i]=r.value.split(\" \")[0],o=r.id;let s;(e.ssrcGroups||[]).some(e=>{if(\"FID\"!==e.semantics)return!1;const t=e.ssrcs.split(/\\s+/);return Number(t[0])===o&&(s=Number(t[1]),!0)});const a=e.ssrcs.find(e=>\"cname\"===e.attribute);if(!a)throw new Error(\"a=ssrc line with cname information not found\");const c=a.value,u=[],l=[];for(let d=0;d<t;++d)u.push(o+d),s&&l.push(s+d);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:\"SIM\",ssrcs:u.join(\" \")});for(let d=0;d<u.length;++d){const t=u[d];e.ssrcs.push({id:t,attribute:\"cname\",value:c}),e.ssrcs.push({id:t,attribute:\"msid\",value:`${n} ${i}`})}for(let d=0;d<l.length;++d){const t=u[d],r=l[d];e.ssrcs.push({id:r,attribute:\"cname\",value:c}),e.ssrcs.push({id:r,attribute:\"msid\",value:`${n} ${i}`}),e.ssrcGroups.push({semantics:\"FID\",ssrcs:`${t} ${r}`})}}},jWG7:function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+\" \"+n+(i?\"s\":\"\")}e.exports=function(e,t){t=t||{};var a,c,u=typeof e;if(\"string\"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*s;case\"weeks\":case\"week\":case\"w\":return 6048e5*s;case\"days\":case\"day\":case\"d\":return s*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return s*i;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return s*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return s*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return s;default:return}}}}(e);if(\"number\"===u&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,\"day\"):c>=i?s(a,c,i,\"hour\"):c>=n?s(a,c,n,\"minute\"):c>=r?s(a,c,r,\"second\"):a+\" ms\"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+\"d\":t>=i?Math.round(e/i)+\"h\":t>=n?Math.round(e/n)+\"m\":t>=r?Math.round(e/r)+\"s\":e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},jZQw:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"k76L\"),i=r(\"7h/2\"),o=r(\"8xwj\"),s=r(\"/rqz\"),a=r(\"YwPy\"),c=r(\"iHzg\"),u=r(\"1z2d\"),l=r(\"Gffd\"),d=new i.Logger(\"Safari12\"),p={OS:1024,MIS:1024};class h extends u.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new h}get name(){return\"Safari12\"}close(){if(d.debug(\"close()\"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){d.debug(\"getNativeRtpCapabilities()\");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"});try{e.addTransceiver(\"audio\"),e.addTransceiver(\"video\");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp);return a.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return d.debug(\"getNativeSctpCapabilities()\"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:u,extendedRtpCapabilities:p}){d.debug(\"run()\"),this._direction=e,this._remoteSdp=new l.RemoteSdp({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters(\"audio\",p),video:s.getSendingRtpParameters(\"video\",p)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters(\"audio\",p),video:s.getSendingRemoteRtpParameters(\"video\",p)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||\"all\",bundlePolicy:\"max-bundle\",rtcpMuxPolicy:\"require\"},c),u),this._pc.addEventListener(\"iceconnectionstatechange\",()=>{switch(this._pc.iceConnectionState){case\"checking\":this.emit(\"@connectionstatechange\",\"connecting\");break;case\"connected\":case\"completed\":this.emit(\"@connectionstatechange\",\"connected\");break;case\"failed\":this.emit(\"@connectionstatechange\",\"failed\");break;case\"disconnected\":this.emit(\"@connectionstatechange\",\"disconnected\");break;case\"closed\":this.emit(\"@connectionstatechange\",\"closed\")}})}async updateIceServers(e){d.debug(\"updateIceServers()\");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(d.debug(\"restartIce()\"),this._remoteSdp.updateIceParameters(e),this._transportReady)if(\"send\"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});d.debug(\"restartIce() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e);const t={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"restartIce() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setRemoteDescription(t)}else{const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"restartIce() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();d.debug(\"restartIce() | calling pc.setLocalDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:r,codec:i}){this._assertSendDirection(),d.debug(\"send() [kind:%s, track.id:%s]\",e.kind,e.id);const u=o.clone(this._sendingRtpParametersByKind[e.kind],{});u.codecs=s.reduceCodecs(u.codecs,i);const l=o.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});l.codecs=s.reduceCodecs(l.codecs,i);const p=this._remoteSdp.getNextMediaSectionIdx(),h=this._pc.addTransceiver(e,{direction:\"sendonly\",streams:[this._sendStream]});let f,m=await this._pc.createOffer(),g=n.parse(m.sdp);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:g}),t&&t.length>1&&(d.debug(\"send() | enabling legacy simulcast\"),g=n.parse(m.sdp),f=g.media[p.idx],c.addLegacySimulcast({offerMediaObject:f,numStreams:t.length}),m={type:\"offer\",sdp:n.write(g)}),d.debug(\"send() | calling pc.setLocalDescription() [offer:%o]\",m),await this._pc.setLocalDescription(m);const y=h.mid;if(u.mid=y,g=n.parse(this._pc.localDescription.sdp),f=g.media[p.idx],u.rtcp.cname=a.getCname({offerMediaObject:f}),u.encodings=c.getRtpEncodings({offerMediaObject:f}),t)for(let n=0;n<u.encodings.length;++n)t[n]&&Object.assign(u.encodings[n],t[n]);if(u.encodings.length>1&&(\"video/vp8\"===u.codecs[0].mimeType.toLowerCase()||\"video/h264\"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode=\"S1T3\";this._remoteSdp.send({offerMediaObject:f,reuseMid:p.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:r});const v={type:\"answer\",sdp:this._remoteSdp.getSdp()};return d.debug(\"send() | calling pc.setRemoteDescription() [answer:%o]\",v),await this._pc.setRemoteDescription(v),this._mapMidTransceiver.set(y,h),{localId:y,rtpParameters:u,rtpSender:h.sender}}async stopSending(e){this._assertSendDirection(),d.debug(\"stopSending() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const r=await this._pc.createOffer();d.debug(\"stopSending() | calling pc.setLocalDescription() [offer:%o]\",r),await this._pc.setLocalDescription(r);const n={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"stopSending() | calling pc.setRemoteDescription() [answer:%o]\",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this._assertSendDirection(),t?d.debug(\"replaceTrack() [localId:%s, track.id:%s]\",e,t.id):d.debug(\"replaceTrack() [localId:%s, no track]\",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),d.debug(\"setMaxSpatialLayer() [localId:%s, spatialLayer:%s]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{e.active=r<=t}),await r.sender.setParameters(n)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),d.debug(\"setRtpEncodingParameters() [localId:%s, params:%o]\",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error(\"associated RTCRtpTransceiver not found\");const n=r.sender.getParameters();n.encodings.forEach((e,r)=>{n.encodings[r]=Object.assign(Object.assign({},e),t)}),await r.sender.setParameters(n)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:i,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:r,protocol:o,priority:s};d.debug(\"sendDataChannel() [options:%o]\",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find(e=>\"application\"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:\"server\",localSdpObject:t}),d.debug(\"sendDataChannel() | calling pc.setLocalDescription() [offer:%o]\",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:\"answer\",sdp:this._remoteSdp.getSdp()};d.debug(\"sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:r}){this._assertRecvDirection(),d.debug(\"receive() [trackId:%s, kind:%s]\",e,t);const i=r.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e});const o={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"receive() | calling pc.setRemoteDescription() [offer:%o]\",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const c=n.parse(s.sdp),u=c.media.find(e=>String(e.mid)===i);a.applyCodecParameters({offerRtpParameters:r,answerMediaObject:u}),s={type:\"answer\",sdp:n.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:\"client\",localSdpObject:c}),d.debug(\"receive() | calling pc.setLocalDescription() [answer:%o]\",s),await this._pc.setLocalDescription(s);const l=this._pc.getTransceivers().find(e=>e.mid===i);if(!l)throw new Error(\"new RTCRtpTransceiver not found\");return this._mapMidTransceiver.set(i,l),{localId:i,track:l.receiver.track,rtpReceiver:l.receiver}}async stopReceiving(e){this._assertRecvDirection(),d.debug(\"stopReceiving() [localId:%s]\",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");this._remoteSdp.closeMediaSection(t.mid);const r={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"stopReceiving() | calling pc.setRemoteDescription() [offer:%o]\",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();d.debug(\"stopReceiving() | calling pc.setLocalDescription() [answer:%o]\",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error(\"associated RTCRtpTransceiver not found\");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:r}){this._assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:r};d.debug(\"receiveDataChannel() [options:%o]\",c);const u=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:\"offer\",sdp:this._remoteSdp.getSdp()};d.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]\",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this._setupTransport({localDtlsRole:\"client\",localSdpObject:e})}d.debug(\"receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]\",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=n.parse(this._pc.localDescription.sdp));const r=a.extractDtlsParameters({sdpObject:t});r.role=e,this._remoteSdp.updateDtlsRole(\"client\"===e?\"server\":\"client\"),await this.safeEmitAsPromise(\"@connect\",{dtlsParameters:r}),this._transportReady=!0}_assertSendDirection(){if(\"send\"!==this._direction)throw new Error('method can just be called for handlers with \"send\" direction')}_assertRecvDirection(){if(\"recv\"!==this._direction)throw new Error('method can just be called for handlers with \"recv\" direction')}}t.Safari12=h},jig2:function(e,t,r){var n=r(\"Qsis\"),i=r(\"eeIc\"),o=Object.prototype.toString,s=\"function\"==typeof Blob||\"undefined\"!=typeof Blob&&\"[object BlobConstructor]\"===o.call(Blob),a=\"function\"==typeof File||\"undefined\"!=typeof File&&\"[object FileConstructor]\"===o.call(File);t.deconstructPacket=function(e){var t=[],r=e;return r.data=function e(t,r){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:r.length};return r.push(t),o}if(n(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],r);return s}if(\"object\"==typeof t&&!(t instanceof Date)){for(var c in s={},t)s[c]=e(t[c],r);return s}return t}(e.data,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,r){if(!t)return t;if(t&&t._placeholder)return r[t.num];if(n(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],r);else if(\"object\"==typeof t)for(var o in t)t[o]=e(t[o],r);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var r=0,o=e;!function e(c,u,l){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){r++;var d=new FileReader;d.onload=function(){l?l[u]=this.result:o=this.result,--r||t(o)},d.readAsArrayBuffer(c)}else if(n(c))for(var p=0;p<c.length;p++)e(c[p],p,c);else if(\"object\"==typeof c&&!i(c))for(var h in c)e(c[h],h,c)}(o),r||t(o)}},k76L:function(e,t,r){var n=r(\"leix\"),i=r(\"8Lyy\");t.write=i,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},kSER:function(e,t){e.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},lGCn:function(e,t,r){var n=r(\"Bn1Y\")(\"socket.io-parser\"),i=r(\"cpc2\"),o=r(\"jig2\"),s=r(\"Qsis\"),a=r(\"eeIc\");function c(){}t.protocol=4,t.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var u=t.ERROR+'\"encode error\"';function l(e){var r=\"\"+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+\"-\"),e.nsp&&\"/\"!==e.nsp&&(r+=e.nsp+\",\"),null!=e.id&&(r+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return u;r+=i}return n(\"encoded %j as %s\",e,r),r}function d(){this.reconstructor=null}function p(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:\"parser error: \"+e}}c.prototype.encode=function(e,r){n(\"encoding packet %j\",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){o.removeBlobs(e,(function(e){var r=o.deconstructPacket(e),n=l(r.packet),i=r.buffers;i.unshift(n),t(i)}))}(e,r):r([l(e)])},i(d.prototype),d.prototype.add=function(e){var r;if(\"string\"==typeof e)r=function(e){var r=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return h(\"unknown packet type \"+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o=r+1;\"-\"!==e.charAt(++r)&&r!=e.length;);var a=e.substring(o,r);if(a!=Number(a)||\"-\"!==e.charAt(r))throw new Error(\"Illegal attachments\");i.attachments=Number(a)}if(\"/\"===e.charAt(r+1)){for(o=r+1;++r&&\",\"!==(u=e.charAt(r))&&r!==e.length;);i.nsp=e.substring(o,r)}else i.nsp=\"/\";var c=e.charAt(r+1);if(\"\"!==c&&Number(c)==c){for(o=r+1;++r;){var u;if(null==(u=e.charAt(r))||Number(u)!=u){--r;break}if(r===e.length)break}i.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){var l=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(r));if(!1===l||i.type!==t.ERROR&&!s(l))return h(\"invalid payload\");i.data=l}return n(\"decoded %s as %j\",e,i),i}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new p(r),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",r)):this.emit(\"decoded\",r);else{if(!a(e)&&!e.base64)throw new Error(\"Unknown type: \"+e);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit(\"decoded\",r))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},leix:function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,r,i){if(i&&!r)t[i]=n(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(t[r[o]]=n(e[o+1]))}(r.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=r(\"O6qx\"),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\\r\\n|\\r|\\n)/).filter(s).forEach((function(e){var t=e[0],s=e.slice(2);\"m\"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var a=0;a<(o[t]||[]).length;a+=1){var c=o[t][a];if(c.reg.test(s))return i(c,n,s)}})),t.media=r,t};var a=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(\" \").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(\" \").map(n),i=0;i<r.length;i+=3)t.push({component:r[i],ip:r[i+1],port:r[i+2]});return t},t.parseImageAttributes=function(e){return e.split(\" \").map((function(e){return e.substring(1,e.length-1).split(\",\").reduce(a,{})}))},t.parseSimulcastStreamList=function(e){return e.split(\";\").map((function(e){return e.split(\",\").map((function(e){var t,r=!1;return\"~\"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},mrSG:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__extends\",(function(){return i})),r.d(t,\"__assign\",(function(){return o})),r.d(t,\"__rest\",(function(){return s})),r.d(t,\"__decorate\",(function(){return a})),r.d(t,\"__param\",(function(){return c})),r.d(t,\"__metadata\",(function(){return u})),r.d(t,\"__awaiter\",(function(){return l})),r.d(t,\"__generator\",(function(){return d})),r.d(t,\"__createBinding\",(function(){return p})),r.d(t,\"__exportStar\",(function(){return h})),r.d(t,\"__values\",(function(){return f})),r.d(t,\"__read\",(function(){return m})),r.d(t,\"__spread\",(function(){return g})),r.d(t,\"__spreadArrays\",(function(){return y})),r.d(t,\"__await\",(function(){return v})),r.d(t,\"__asyncGenerator\",(function(){return b})),r.d(t,\"__asyncDelegator\",(function(){return _})),r.d(t,\"__asyncValues\",(function(){return w})),r.d(t,\"__makeTemplateObject\",(function(){return S})),r.d(t,\"__importStar\",(function(){return C})),r.d(t,\"__importDefault\",(function(){return R})),r.d(t,\"__classPrivateFieldGet\",(function(){return x})),r.d(t,\"__classPrivateFieldSet\",(function(){return T}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)\"default\"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function m(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n,i=r.apply(e,t||[]),o=[];return n={},s(\"next\"),s(\"throw\"),s(\"return\"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(n){l(o[0][3],n)}var r}function c(e){a(\"next\",e)}function u(e){a(\"throw\",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,r;return t={},n(\"next\"),n(\"throw\",(function(e){throw e})),n(\"return\"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:\"return\"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n(\"next\"),n(\"throw\"),n(\"return\"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,\"raw\",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}function T(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to set private field on non-instance\");return t.set(e,r),r}},nAs4:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});class n extends Error{constructor(e){super(e),this.name=\"UnsupportedError\",Error.hasOwnProperty(\"captureStackTrace\")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.UnsupportedError=n;class i extends Error{constructor(e){super(e),this.name=\"InvalidStateError\",Error.hasOwnProperty(\"captureStackTrace\")?Error.captureStackTrace(this,i):this.stack=new Error(e).stack}}t.InvalidStateError=i},nreB:function(e,t,r){const n=r(\"VIe4\")(\"h264-profile-level-id\");n.log=console.info.bind(console),t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5,t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;class i{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=i;const o=new i(1,31);class s{constructor(e){this._mask=~u(\"x\",e),this._maskedValue=u(\"1\",e)}isMatch(e){return this._maskedValue===(e&this._mask)}}class a{constructor(e,t,r){this.profile_idc=e,this.profile_iop=t,this.profile=r}}const c=[new a(66,new s(\"x1xx0000\"),1),new a(77,new s(\"1xxx0000\"),1),new a(88,new s(\"11xx0000\"),1),new a(66,new s(\"x0xx0000\"),2),new a(88,new s(\"10xx0000\"),2),new a(77,new s(\"0x0x0000\"),3),new a(100,new s(\"00000000\"),5),new a(100,new s(\"00001100\"),4)];function u(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function l(e={}){const t=e[\"level-asymmetry-allowed\"];return 1===t||\"1\"===t}t.parseProfileLevelId=function(e){if(\"string\"!=typeof e||6!==e.length)return null;const t=parseInt(e,16);if(0===t)return null;const r=255&t,o=t>>8&255,s=t>>16&255;let a;switch(r){case 11:a=0!=(16&o)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:a=r;break;default:return n(\"parseProfileLevelId() | unrecognized level_idc:%s\",r),null}for(const n of c)if(s===n.profile_idc&&n.profile_iop.isMatch(o))return new i(n.profile,a);return n(\"parseProfileLevelId() | unrecognized profile_idc/profile_iop combination\"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return\"42f00b\";case 2:return\"42100b\";case 3:return\"4d100b\";default:return n(\"profileLevelIdToString() | Level 1_b not is allowed for profile:%s\",e.profile),null}let t;switch(e.profile){case 1:t=\"42e0\";break;case 2:t=\"4200\";break;case 3:t=\"4d00\";break;case 4:t=\"640c\";break;case 5:t=\"6400\";break;default:return n(\"profileLevelIdToString() | unrecognized profile:%s\",e.profile),null}let r=e.level.toString(16);return 1===r.length&&(r=\"0\"+r),`${t}${r}`},t.parseSdpProfileLevelId=function(e={}){const r=e[\"profile-level-id\"];return r?t.parseProfileLevelId(r):o},t.isSameProfile=function(e={},r={}){const n=t.parseSdpProfileLevelId(e),i=t.parseSdpProfileLevelId(r);return Boolean(n&&i&&n.profile===i.profile)},t.generateProfileLevelIdForAnswer=function(e={},r={}){if(!e[\"profile-level-id\"]&&!r[\"profile-level-id\"])return n(\"generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params\"),null;const o=t.parseSdpProfileLevelId(e),s=t.parseSdpProfileLevelId(r);if(!o)throw new TypeError(\"invalid local_profile_level_id\");if(!s)throw new TypeError(\"invalid remote_profile_level_id\");if(o.profile!==s.profile)throw new TypeError(\"H264 Profile mismatch\");const a=l(e)&&l(r),c=o.level,u=function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(d=c,p=s.level)?d:p;var d,p;const h=a?c:u;return n(\"generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]\",o.profile,h),t.profileLevelIdToString(new i(o.profile,h))}},\"oIG/\":function(e,t){var r,n,i,o=String.fromCharCode;function s(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error(\"Lone surrogate U+\"+e.toString(16).toUpperCase()+\" is not a scalar value\");return!1}return!0}function c(e,t){return o(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return o(e);var r=\"\";return 0==(4294965248&e)?r=o(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),r=o(e>>12&15|224),r+=c(e,6)):0==(4292870144&e)&&(r=o(e>>18&7|240),r+=c(e,12),r+=c(e,6)),r+o(63&e|128)}function l(){if(i>=n)throw Error(\"Invalid byte index\");var e=255&r[i];if(i++,128==(192&e))return 63&e;throw Error(\"Invalid continuation byte\")}function d(e){var t,o;if(i>n)throw Error(\"Invalid byte index\");if(i==n)return!1;if(t=255&r[i],i++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|l())>=128)return o;throw Error(\"Invalid continuation byte\")}if(224==(240&t)){if((o=(15&t)<<12|l()<<6|l())>=2048)return a(o,e)?o:65533;throw Error(\"Invalid continuation byte\")}if(240==(248&t)&&(o=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&o<=1114111)return o;throw Error(\"Invalid UTF-8 detected\")}e.exports={version:\"2.1.2\",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=s(e),i=n.length,o=-1,a=\"\";++o<i;)a+=u(n[o],r);return a},decode:function(e,t){var a=!1!==(t=t||{}).strict;r=s(e),n=r.length,i=0;for(var c,u=[];!1!==(c=d(a));)u.push(c);return function(e){for(var t,r=e.length,n=-1,i=\"\";++n<r;)(t=e[n])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(u)}}},pqID:function(e,t,r){var n=r(\"qp7M\"),i=r(\"lGCn\"),o=r(\"wlXU\"),s=r(\"Bn1Y\")(\"socket.io-client\");e.exports=t=c;var a=t.managers={};function c(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var r,i=n(e),c=i.source,u=i.id;return t.forceNew||t[\"force new connection\"]||!1===t.multiplex||a[u]&&i.path in a[u].nsps?(s(\"ignoring socket cache for %s\",c),r=o(c,t)):(a[u]||(s(\"new io instance for %s\",c),a[u]=o(c,t)),r=a[u]),i.query&&!t.query&&(t.query=i.query),r.socket(i.path,t)}t.protocol=i.protocol,t.connect=c,t.Manager=r(\"wlXU\"),t.Socket=r(\"OAgL\")},qp7M:function(e,t,r){var n=r(\"Uxeu\"),i=r(\"Bn1Y\")(\"socket.io-client:url\");e.exports=function(e,t){var r=e;t=t||\"undefined\"!=typeof location&&location,null==e&&(e=t.protocol+\"//\"+t.host),\"string\"==typeof e&&(\"/\"===e.charAt(0)&&(e=\"/\"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\\/\\//.test(e)||(i(\"protocol-less url %s\",e),e=void 0!==t?t.protocol+\"//\"+e:\"https://\"+e),i(\"parse %s\",e),r=n(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=\"80\":/^(http|ws)s$/.test(r.protocol)&&(r.port=\"443\")),r.path=r.path||\"/\";var o=-1!==r.host.indexOf(\":\")?\"[\"+r.host+\"]\":r.host;return r.id=r.protocol+\"://\"+o+\":\"+r.port,r.href=r.protocol+\"://\"+o+(t&&t.port===r.port?\"\":\":\"+r.port),r}},rfC7:function(e,t,r){var n=r(\"3exg\"),i=r(\"Yvos\"),o=r(\"y508\");e.exports=l;var s,a=/\\n/g,c=/\\\\n/g;function u(){}function l(e){n.call(this,e),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var t=this;s.push((function(e){t.onData(e)})),this.query.j=this.index,\"function\"==typeof addEventListener&&addEventListener(\"beforeunload\",(function(){t.script&&(t.script.onerror=u)}),!1)}i(l,n),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError(\"jsonp poll error\",t)};var r=document.getElementsByTagName(\"script\")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement(\"iframe\");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,i=document.createElement(\"form\"),o=document.createElement(\"textarea\"),s=this.iframeId=\"eio_iframe_\"+this.index;i.className=\"socketio\",i.style.position=\"absolute\",i.style.top=\"-1000px\",i.style.left=\"-1000px\",i.target=s,i.method=\"POST\",i.setAttribute(\"accept-charset\",\"utf-8\"),o.name=\"d\",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function u(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError(\"jsonp polling iframe removal error\",e)}try{n=document.createElement('<iframe src=\"javascript:0\" name=\"'+r.iframeId+'\">')}catch(e){(n=document.createElement(\"iframe\")).name=r.iframeId,n.src=\"javascript:0\"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),e=e.replace(c,\"\\\\\\n\"),this.area.value=e.replace(a,\"\\\\n\");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===r.iframe.readyState&&u()}:this.iframe.onload=u}},sSRp:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getRtpEncodings=function({offerMediaObject:e,track:t}){let r;const n=new Set;for(const s of e.ssrcs||[])if(\"msid\"===s.attribute&&s.value.split(\" \")[1]===t.id){const e=s.id;n.add(e),r||(r=e)}if(0===n.size)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const i=new Map;for(const s of e.ssrcGroups||[]){if(\"FID\"!==s.semantics)continue;let[e,t]=s.ssrcs.split(/\\s+/);e=Number(e),t=Number(t),n.has(e)&&(n.delete(e),n.delete(t),i.set(e,t))}for(const s of n)i.set(s,null);const o=[];for(const[s,a]of i){const e={ssrc:s};a&&(e.rtx={ssrc:a}),o.push(e)}return o},t.addLegacySimulcast=function({offerMediaObject:e,track:t,numStreams:r}){if(r<=1)throw new TypeError(\"numStreams must be greater than 1\");let n,i,o;if(!(e.ssrcs||[]).find(e=>\"msid\"===e.attribute&&e.value.split(\" \")[1]===t.id&&(n=e.id,o=e.value.split(\" \")[0],!0)))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(e=>{if(\"FID\"!==e.semantics)return!1;const t=e.ssrcs.split(/\\s+/);return Number(t[0])===n&&(i=Number(t[1]),!0)});const s=e.ssrcs.find(e=>\"cname\"===e.attribute&&e.id===n);if(!s)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const a=s.value,c=[],u=[];for(let l=0;l<r;++l)c.push(n+l),i&&u.push(i+l);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:\"SIM\",ssrcs:c.join(\" \")});for(let l=0;l<c.length;++l){const r=c[l];e.ssrcs.push({id:r,attribute:\"cname\",value:a}),e.ssrcs.push({id:r,attribute:\"msid\",value:`${o} ${t.id}`})}for(let l=0;l<u.length;++l){const r=c[l],n=u[l];e.ssrcs.push({id:n,attribute:\"cname\",value:a}),e.ssrcs.push({id:n,attribute:\"msid\",value:`${o} ${t.id}`}),e.ssrcGroups.push({semantics:\"FID\",ssrcs:`${r} ${n}`})}}},sZ75:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(\"7h/2\"),i=r(\"GygU\"),o=r(\"nAs4\"),s=new n.Logger(\"Consumer\");t.Consumer=class extends i.EnhancedEventEmitter{constructor({id:e,localId:t,producerId:r,rtpReceiver:n,track:o,rtpParameters:a,appData:c}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug(\"constructor()\"),this._id=e,this._localId=t,this._producerId=r,this._rtpReceiver=n,this._track=o,this._rtpParameters=a,this._paused=!o.enabled,this._appData=c,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){throw new Error(\"cannot override appData object\")}get observer(){return this._observer}close(){this._closed||(s.debug(\"close()\"),this._closed=!0,this._destroyTrack(),this.emit(\"@close\"),this._observer.safeEmit(\"close\"))}transportClosed(){this._closed||(s.debug(\"transportClosed()\"),this._closed=!0,this._destroyTrack(),this.safeEmit(\"transportclose\"),this._observer.safeEmit(\"close\"))}async getStats(){if(this._closed)throw new o.InvalidStateError(\"closed\");return this.safeEmitAsPromise(\"@getstats\")}pause(){s.debug(\"pause()\"),this._closed?s.error(\"pause() | Consumer closed\"):(this._paused=!0,this._track.enabled=!1,this._observer.safeEmit(\"pause\"))}resume(){s.debug(\"resume()\"),this._closed?s.error(\"resume() | Consumer closed\"):(this._paused=!1,this._track.enabled=!0,this._observer.safeEmit(\"resume\"))}_onTrackEnded(){s.debug('track \"ended\" event'),this.safeEmit(\"trackended\"),this._observer.safeEmit(\"trackended\")}_handleTrack(){this._track.addEventListener(\"ended\",this._onTrackEnded)}_destroyTrack(){try{this._track.removeEventListener(\"ended\",this._onTrackEnded),this._track.stop()}catch(e){}}}},u6rE:function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+\" \"+n+(i?\"s\":\"\")}e.exports=function(e,t){t=t||{};var a,c,u=typeof e;if(\"string\"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*s;case\"weeks\":case\"week\":case\"w\":return 6048e5*s;case\"days\":case\"day\":case\"d\":return s*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return s*i;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return s*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return s*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return s;default:return}}}}(e);if(\"number\"===u&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,\"day\"):c>=i?s(a,c,i,\"hour\"):c>=n?s(a,c,n,\"minute\"):c>=r?s(a,c,r,\"second\"):a+\" ms\"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+\"d\":t>=i?Math.round(e/i)+\"h\":t>=n?Math.round(e/n)+\"m\":t>=r?Math.round(e/r)+\"s\":e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},uKDP:function(e,t,r){var n=r(\"0+mJ\"),i=r(\"cpc2\"),o=r(\"Bn1Y\")(\"engine.io-client:socket\"),s=r(\"7jRU\"),a=r(\"Wm4p\"),c=r(\"Uxeu\"),u=r(\"TypT\");function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&\"object\"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure=\"https\"===e.protocol||\"wss\"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:\"undefined\"!=typeof location&&\"https:\"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?\"443\":\"80\"),this.agent=t.agent||!1,this.hostname=t.hostname||(\"undefined\"!=typeof location?location.hostname:\"localhost\"),this.port=t.port||(\"undefined\"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},\"string\"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||\"t\",this.timestampRequests=t.timestampRequests,this.transports=t.transports||[\"polling\",\"websocket\"],this.transportOptions=t.transportOptions||{},this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.product&&\"reactnative\"===navigator.product.toLowerCase(),(\"undefined\"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=r(\"0zaL\"),l.transports=r(\"0+mJ\"),l.parser=r(\"Wm4p\"),l.prototype.createTransport=function(e){o('creating transport \"%s\"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf(\"websocket\"))e=\"websocket\";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit(\"error\",\"No transports available\")}),0)}e=this.transports[0]}this.readyState=\"opening\";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){o(\"setting transport %s\",e.name);var t=this;this.transport&&(o(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on(\"drain\",(function(){t.onDrain()})).on(\"packet\",(function(e){t.onPacket(e)})).on(\"error\",(function(e){t.onError(e)})).on(\"close\",(function(){t.onClose(\"transport close\")}))},l.prototype.probe=function(e){o('probing transport \"%s\"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function i(){n.onlyBinaryUpgrades&&(r=r||!this.supportsBinary&&n.transport.supportsBinary),r||(o('probe transport \"%s\" opened',e),t.send([{type:\"ping\",data:\"probe\"}]),t.once(\"packet\",(function(i){if(!r)if(\"pong\"===i.type&&\"probe\"===i.data){if(o('probe transport \"%s\" pong',e),n.upgrading=!0,n.emit(\"upgrading\",t),!t)return;l.priorWebsocketSuccess=\"websocket\"===t.name,o('pausing current transport \"%s\"',n.transport.name),n.transport.pause((function(){r||\"closed\"!==n.readyState&&(o(\"changing transport and sending upgrade packet\"),p(),n.setTransport(t),t.send([{type:\"upgrade\"}]),n.emit(\"upgrade\",t),t=null,n.upgrading=!1,n.flush())}))}else{o('probe transport \"%s\" failed',e);var s=new Error(\"probe error\");s.transport=t.name,n.emit(\"upgradeError\",s)}})))}function s(){r||(r=!0,p(),t.close(),t=null)}function a(r){var i=new Error(\"probe error: \"+r);i.transport=t.name,s(),o('probe transport \"%s\" failed because of error: %s',e,r),n.emit(\"upgradeError\",i)}function c(){a(\"transport closed\")}function u(){a(\"socket closed\")}function d(e){t&&e.name!==t.name&&(o('\"%s\" works - aborting \"%s\"',e.name,t.name),s())}function p(){t.removeListener(\"open\",i),t.removeListener(\"error\",a),t.removeListener(\"close\",c),n.removeListener(\"close\",u),n.removeListener(\"upgrading\",d)}l.priorWebsocketSuccess=!1,t.once(\"open\",i),t.once(\"error\",a),t.once(\"close\",c),this.once(\"close\",u),this.once(\"upgrading\",d),t.open()},l.prototype.onOpen=function(){if(o(\"socket open\"),this.readyState=\"open\",l.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){o(\"starting upgrade probes\");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(o('socket receive: type \"%s\", data \"%s\"',e.type,e.data),this.emit(\"packet\",e),this.emit(\"heartbeat\"),e.type){case\"open\":this.onHandshake(JSON.parse(e.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var t=new Error(\"server error\");t.code=e.data,this.onError(t);break;case\"message\":this.emit(\"data\",e.data),this.emit(\"message\",e.data)}else o('packet received with socket readyState \"%s\"',this.readyState)},l.prototype.onHandshake=function(e){this.emit(\"handshake\",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){\"closed\"!==t.readyState&&t.onClose(\"ping timeout\")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o(\"writing ping packet - expecting pong within %sms\",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket(\"ping\",(function(){e.emit(\"ping\")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},l.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},l.prototype.write=l.prototype.send=function(e,t,r){return this.sendPacket(\"message\",e,t,r),this},l.prototype.sendPacket=function(e,t,r,n){if(\"function\"==typeof t&&(n=t,t=void 0),\"function\"==typeof r&&(n=r,r=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emit(\"packetCreate\",i),this.writeBuffer.push(i),n&&this.once(\"flush\",n),this.flush()}},l.prototype.close=function(){if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var e=this;this.writeBuffer.length?this.once(\"drain\",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}function t(){e.onClose(\"forced close\"),o(\"socket closing - telling transport to close\"),e.transport.close()}function r(){e.removeListener(\"upgrade\",r),e.removeListener(\"upgradeError\",r),t()}function n(){e.once(\"upgrade\",r),e.once(\"upgradeError\",r)}return this},l.prototype.onError=function(e){o(\"socket error %j\",e),l.priorWebsocketSuccess=!1,this.emit(\"error\",e),this.onClose(\"transport error\",e)},l.prototype.onClose=function(e,t){\"opening\"!==this.readyState&&\"open\"!==this.readyState&&\"closing\"!==this.readyState||(o('socket close with reason: \"%s\"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",e,t),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~s(this.transports,e[r])&&t.push(e[r]);return t}},wlXU:function(e,t,r){var n=r(\"4+Ds\"),i=r(\"OAgL\"),o=r(\"cpc2\"),s=r(\"lGCn\"),a=r(\"Y4EA\"),c=r(\"QN7Q\"),u=r(\"Bn1Y\")(\"socket.io-client:manager\"),l=r(\"7jRU\"),d=r(\"C2QD\"),p=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&\"object\"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState=\"closed\",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return(\"/\"===e?\"\":e+\"#\")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(u(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;u(\"opening %s\",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState=\"opening\",this.skipReconnect=!1;var o=a(r,\"open\",(function(){i.onopen(),e&&e()})),s=a(r,\"error\",(function(t){if(u(\"connect_error\"),i.cleanup(),i.readyState=\"closed\",i.emitAll(\"connect_error\",t),e){var r=new Error(\"Connection error\");r.data=t,e(r)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u(\"connect attempt will timeout after %d\",c),0===c&&o.destroy();var l=setTimeout((function(){u(\"connect attempt timed out after %d\",c),o.destroy(),r.close(),r.emit(\"error\",\"timeout\"),i.emitAll(\"connect_timeout\",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},h.prototype.onopen=function(){u(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var e=this.engine;this.subs.push(a(e,\"data\",c(this,\"ondata\"))),this.subs.push(a(e,\"ping\",c(this,\"onping\"))),this.subs.push(a(e,\"pong\",c(this,\"onpong\"))),this.subs.push(a(e,\"error\",c(this,\"onerror\"))),this.subs.push(a(e,\"close\",c(this,\"onclose\"))),this.subs.push(a(this.decoder,\"decoded\",c(this,\"ondecoded\")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},h.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit(\"packet\",e)},h.prototype.onerror=function(e){u(\"error\",e),this.emitAll(\"error\",e)},h.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var n=this;r.on(\"connecting\",o),r.on(\"connect\",(function(){r.id=n.generateId(e)})),this.autoConnect&&o()}function o(){~l(n.connecting,r)||n.connecting.push(r)}return r},h.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){u(\"writing packet %j\",e);var t=this;e.query&&0===e.type&&(e.nsp+=\"?\"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){u(\"cleanup\");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){u(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},h.prototype.onclose=function(e){u(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var t=this.backoff.duration();u(\"will wait %dms before reconnect attempt\",t),this.reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(u(\"attempting reconnect\"),e.emitAll(\"reconnect_attempt\",e.backoff.attempts),e.emitAll(\"reconnecting\",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u(\"reconnect attempt error\"),e.reconnecting=!1,e.reconnect(),e.emitAll(\"reconnect_error\",t.data)):(u(\"reconnect success\"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(r)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",e)}},y508:function(e,t){e.exports=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:Function(\"return this\")()},yeub:function(e,t){try{e.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(r){e.exports=!1}},ypnn:function(e,t){e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(r-t),s=t,a=0;s<r;s++,a++)o[a]=i[s];return o.buffer}},zMFY:function(e,t){function r(){}e.exports=function(e,t,n){var i=!1;return n=n||r,o.count=e,0===e?t():o;function o(e,r){if(o.count<=0)throw new Error(\"after called too many times\");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}}},zUnb:function(e,t,r){\"use strict\";r.r(t);var n=r(\"mrSG\"),i=Array.isArray||function(e){return e&&\"number\"==typeof e.length};function o(e){return null!==e&&\"object\"==typeof e}function s(e){return\"function\"==typeof e}function a(e){return Error.call(this),this.message=e?e.length+\" errors occurred during unsubscription:\\n\"+e.map((function(e,t){return t+1+\") \"+e.toString()})).join(\"\\n  \"):\"\",this.name=\"UnsubscriptionError\",this.errors=e,this}a.prototype=Object.create(Error.prototype);var c=a,u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,n=this._parents,a=this._unsubscribe,u=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,p=n?n.length:0;r;)r.remove(this),r=++d<p&&n[d]||null;if(s(a))try{a.call(this)}catch(f){t=!0,e=f instanceof c?l(f.errors):[f]}if(i(u))for(d=-1,p=u.length;++d<p;){var h=u[d];if(o(h))try{h.unsubscribe()}catch(f){t=!0,e=e||[],f instanceof c?e=e.concat(l(f.errors)):e.push(f)}}if(t)throw new c(e)}},e.prototype.add=function(t){var r=t;switch(typeof t){case\"function\":r=new e(t);case\"object\":if(r===this||r.closed||\"function\"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:if(!t)return e.EMPTY;throw new Error(\"unrecognized teardown \"+t+\" added to Subscription.\")}if(r._addParent(this)){var i=this._subscriptions;i?i.push(r):this._subscriptions=[r]}return r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;return t!==e&&(t?r?-1===r.indexOf(e)&&(r.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof c?t.errors:t)}),[])}var d=!1,p={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){d=e},get useDeprecatedSynchronousErrorHandling(){return d}};function h(e){setTimeout((function(){throw e}))}var f={closed:!0,next:function(e){},error:function(e){if(p.useDeprecatedSynchronousErrorHandling)throw e;h(e)},complete:function(){}},m=\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random(),g=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=f;break;case 1:if(!r){o.destination=f;break}if(\"object\"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new y(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new y(o,r,n,i)}return o}return n.__extends(t,e),t.prototype[m]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(u),y=function(e){function t(t,r,n,i){var o,a=e.call(this)||this;a._parentSubscriber=t;var c=a;return s(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==f&&(s((c=Object.create(r)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=o,a._error=n,a._complete=i,a}return n.__extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;p.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=p.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):h(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;h(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};p.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),p.useDeprecatedSynchronousErrorHandling)throw r;h(r)}},t.prototype.__tryOrSetError=function(e,t,r){if(!p.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{t.call(this._context,r)}catch(n){return p.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(h(n),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(g),v=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function b(){}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w(e)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:b}var S=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=function(e,t,r){if(e){if(e instanceof g)return e;if(e[m])return e[m]()}return e||t||r?new g(e,t,r):new g(f)}(e,t,r);if(i.add(n?n.call(i,this.source):this.source||p.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),p.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){p.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof g?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=C(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(r){n(r),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[v]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:w(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=C(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function C(e){if(e||(e=p.Promise||Promise),!e)throw new Error(\"no Promise impl found\");return e}function R(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}R.prototype=Object.create(Error.prototype);var x=R,T=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return n.__extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(u),k=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return n.__extends(t,e),t}(g),E=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.__extends(t,e),t.prototype[m]=function(){return new k(this)},t.prototype.lift=function(e){var t=new P(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new x;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new x;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new x;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),u.EMPTY):this.isStopped?(e.complete(),u.EMPTY):(this.observers.push(e),new T(this,e))},t.prototype.asObservable=function(){var e=new S;return e.source=this,e},t.create=function(e,t){return new P(e,t)},t}(S),P=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return n.__extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):u.EMPTY},t}(E);function O(e){return e&&\"function\"==typeof e.schedule}var I=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(g),D=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.closed||t.complete()}},M=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,h),t}};function j(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}var A=j(),L=function(e){return function(t){for(var r=e[A]();;){var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return\"function\"==typeof r.return&&t.add((function(){r.return&&r.return()})),t}},N=function(e){return function(t){var r=e[v]();if(\"function\"!=typeof r.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return r.subscribe(t)}},F=function(e){return e&&\"number\"==typeof e.length&&\"function\"!=typeof e};function B(e){return!!e&&\"function\"!=typeof e.subscribe&&\"function\"==typeof e.then}var U=function(e){if(e instanceof S)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&\"function\"==typeof e[v])return N(e);if(F(e))return D(e);if(B(e))return M(e);if(e&&\"function\"==typeof e[A])return L(e);var t=o(e)?\"an invalid object\":\"'\"+e+\"'\";throw new TypeError(\"You provided \"+t+\" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.\")};function V(e,t,r,n,i){if(void 0===i&&(i=new I(e,r,n)),!i.closed)return U(t)(i)}var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(g);function H(e,t){return function(r){if(\"function\"!=typeof e)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return r.lift(new q(e,t))}}var q=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new G(e,this.project,this.thisArg))},e}(),G=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(g);function W(e,t){return new S(t?function(r){var n=new u,i=0;return n.add(t.schedule((function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}:D(e))}function $(e,t){if(!t)return e instanceof S?e:new S(U(e));if(null!=e){if(function(e){return e&&\"function\"==typeof e[v]}(e))return function(e,t){return new S(t?function(r){var n=new u;return n.add(t.schedule((function(){var i=e[v]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}:N(e))}(e,t);if(B(e))return function(e,t){return new S(t?function(r){var n=new u;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}:M(e))}(e,t);if(F(e))return W(e,t);if(function(e){return e&&\"function\"==typeof e[A]}(e)||\"string\"==typeof e)return function(e,t){if(!e)throw new Error(\"Iterable cannot be null\");return new S(t?function(r){var n,i=new u;return i.add((function(){n&&\"function\"==typeof n.return&&n.return()})),i.add(t.schedule((function(){n=e[A](),i.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(o){return void r.error(o)}t?r.complete():(r.next(e),this.schedule())}})))}))),i}:L(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+\" is not observable\")}function K(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),\"function\"==typeof t?function(n){return n.pipe(K((function(r,n){return $(e(r,n)).pipe(H((function(e,i){return t(r,e,n,i)})))}),r))}:(\"number\"==typeof t&&(r=t),function(t){return t.lift(new Q(e,r))})}var Q=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Z(e,this.project,this.concurrent))},e}(),Z=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n.__extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new I(this,void 0,void 0);this.destination.add(n),V(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(z);function Y(e){return e}function J(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),K(Y,e)}function X(){return function(e){return e.lift(new ee(e))}}var ee=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new te(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),te=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return n.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(g),re=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.__extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new u).add(this.source.subscribe(new ie(this.getSubject(),this))),e.closed?(this._connection=null,e=u.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return X()(this)},t}(S).prototype,ne={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}},ie=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return n.__extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(k);function oe(){return new E}function se(){return function(e){return X()((t=oe,function(e){var r;r=\"function\"==typeof t?t:function(){return t};var n=Object.create(e,ne);return n.source=e,n.subjectFactory=r,n})(e));var t}}var ae=\"__parameters__\";function ce(e,t,r){var i=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e){var i=e.apply(void 0,Object(n.__spread)(t));for(var o in i)this[o]=i[o]}}}(t);function o(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this instanceof o)return i.apply(this,t),this;var s=new((e=o).bind.apply(e,Object(n.__spread)([void 0],t)));return a.annotation=s,a;function a(e,t,r){for(var n=e.hasOwnProperty(ae)?e[ae]:Object.defineProperty(e,ae,{value:[]})[ae];n.length<=r;)n.push(null);return(n[r]=n[r]||[]).push(s),e}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}var ue=ce(\"Inject\",(function(e){return{token:e}})),le=ce(\"Optional\"),de=ce(\"Self\"),pe=ce(\"SkipSelf\"),he=function(e){return e[e.Default=0]=\"Default\",e[e.Host=1]=\"Host\",e[e.Self=2]=\"Self\",e[e.SkipSelf=4]=\"SkipSelf\",e[e.Optional=8]=\"Optional\",e}({});function fe(e){for(var t in e)if(e[t]===fe)return t;throw Error(\"Could not find renamed property on target object.\")}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ge(e){var t=e[ye];return t&&t.token===e?t:null}var ye=fe({ngInjectableDef:fe});function ve(e){if(\"string\"==typeof e)return e;if(e instanceof Array)return\"[\"+e.map(ve).join(\", \")+\"]\";if(null==e)return\"\"+e;if(e.overriddenName)return\"\"+e.overriddenName;if(e.name)return\"\"+e.name;var t=e.toString();if(null==t)return\"\"+t;var r=t.indexOf(\"\\n\");return-1===r?t:t.substring(0,r)}var be=fe({__forward_ref__:fe});function _e(e){return e.__forward_ref__=_e,e.toString=function(){return ve(this())},e}function we(e){var t=e;return\"function\"==typeof t&&t.hasOwnProperty(be)&&t.__forward_ref__===_e?t():e}var Se=\"undefined\"!=typeof globalThis&&globalThis,Ce=\"undefined\"!=typeof window&&window,Re=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe=\"undefined\"!=typeof global&&global,Te=Se||xe||Ce||Re,ke=function(){function e(e,t){this._desc=e,this.ngMetadataName=\"InjectionToken\",this.ngInjectableDef=void 0,\"number\"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=me({token:this,providedIn:t.providedIn||\"root\",factory:t.factory}))}return e.prototype.toString=function(){return\"InjectionToken \"+this._desc},e}(),Ee=new ke(\"INJECTOR\",-1),Pe=new Object,Oe=/\\n/gm,Ie=fe({provide:String,useValue:fe}),De=void 0;function Me(e){var t=De;return De=e,t}function je(e,t){return void 0===t&&(t=he.Default),function(e,t){if(void 0===t&&(t=he.Default),void 0===De)throw new Error(\"inject() must be called from an injection context\");return null===De?function(e,t,r){var n=ge(e);if(n&&\"root\"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(r&he.Optional)return null;throw new Error(\"Injector: NOT_FOUND [\"+ve(e)+\"]\")}(e,0,t):De.get(e,t&he.Optional?null:void 0,t)}(e,t)}var Ae=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Pe),t===Pe){var r=new Error(\"NullInjectorError: No provider for \"+ve(e)+\"!\");throw r.name=\"NullInjectorError\",r}return t},e}();function Le(e,t,r,n){void 0===n&&(n=null),e=e&&\"\\n\"===e.charAt(0)&&\"\\u0275\"==e.charAt(1)?e.substr(2):e;var i=ve(t);if(t instanceof Array)i=t.map(ve).join(\" -> \");else if(\"object\"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+\":\"+(\"string\"==typeof a?JSON.stringify(a):ve(a)))}i=\"{\"+o.join(\", \")+\"}\"}return r+(n?\"(\"+n+\")\":\"\")+\"[\"+i+\"]: \"+e.replace(Oe,\"\\n  \")}var Ne=function(){return function(){}}(),Fe=function(){return function(){}}();function Be(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ue(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Ve=function(e){return e[e.Emulated=0]=\"Emulated\",e[e.Native=1]=\"Native\",e[e.None=2]=\"None\",e[e.ShadowDom=3]=\"ShadowDom\",e}({}),ze=function(){return(\"undefined\"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te)}();function He(e){return e.ngDebugContext}function qe(e){return e.ngOriginalError}function Ge(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e.error.apply(e,Object(n.__spread)(t))}var We=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),r=this._findContext(e),n=function(e){return e.ngErrorLogger||Ge}(e);n(this._console,\"ERROR\",e),t&&n(this._console,\"ORIGINAL ERROR\",t),r&&n(this._console,\"ERROR CONTEXT\",r)},e.prototype._findContext=function(e){return e?He(e)?He(e):this._findContext(qe(e)):null},e.prototype._findOriginalError=function(e){for(var t=qe(e);t&&qe(t);)t=qe(t);return t},e}(),$e=!0,Ke=!1;function Qe(){return Ke=!0,$e}var Ze=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument(\"sanitization-inert\"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement(\"html\");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement(\"body\"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector(\"svg\")?(this.inertBodyElement.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector(\"svg img\")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e=\"<body><remove></remove>\"+e+\"</body>\";try{e=encodeURI(e)}catch(n){return null}var t=new XMLHttpRequest;t.responseType=\"document\",t.open(\"GET\",\"data:text/html;charset=utf-8,\"+e,!1),t.send(void 0);var r=t.response.body;return r.removeChild(r.firstChild),r},e.prototype.getInertBodyElement_DOMParser=function(e){e=\"<body><remove></remove>\"+e+\"</body>\";try{var t=(new window.DOMParser).parseFromString(e,\"text/html\").body;return t.removeChild(t.firstChild),t}catch(r){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement(\"template\");return\"content\"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,r=t.length-1;0<r;r--){var n=t.item(r).name;\"xmlns:ns1\"!==n&&0!==n.indexOf(\"ns1:\")||e.removeAttribute(n)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},e}(),Ye=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Je=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;function Xe(e){return(e=String(e)).match(Ye)||e.match(Je)?e:(Qe()&&console.warn(\"WARNING: sanitizing unsafe URL value \"+e+\" (see http://g.co/ng/security#xss)\"),\"unsafe:\"+e)}function et(e){var t,r,i={};try{for(var o=Object(n.__values)(e.split(\",\")),s=o.next();!s.done;s=o.next())i[s.value]=!0}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function tt(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={};try{for(var s=Object(n.__values)(r),a=s.next();!a.done;a=s.next()){var c=a.value;for(var u in c)c.hasOwnProperty(u)&&(o[u]=!0)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o}var rt,nt=et(\"area,br,col,hr,img,wbr\"),it=et(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),ot=et(\"rp,rt\"),st=tt(ot,it),at=tt(nt,tt(it,et(\"address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul\")),tt(ot,et(\"a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video\")),st),ct=et(\"background,cite,href,itemtype,longdesc,poster,src,xlink:href\"),ut=et(\"srcset\"),lt=tt(ct,ut,et(\"abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width\"),et(\"aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext\")),dt=et(\"script,style,template\"),pt=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,r=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var n=this.checkClobberedElement(t,t.nextSibling);if(n){t=n;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join(\"\")},e.prototype.startElement=function(e){var t,r=e.nodeName.toLowerCase();if(!at.hasOwnProperty(r))return this.sanitizedSomething=!0,!dt.hasOwnProperty(r);this.buf.push(\"<\"),this.buf.push(r);for(var n=e.attributes,i=0;i<n.length;i++){var o=n.item(i),s=o.name,a=s.toLowerCase();if(lt.hasOwnProperty(a)){var c=o.value;ct[a]&&(c=Xe(c)),ut[a]&&(t=c,c=(t=String(t)).split(\",\").map((function(e){return Xe(e.trim())})).join(\", \")),this.buf.push(\" \",s,'=\"',mt(c),'\"')}else this.sanitizedSomething=!0}return this.buf.push(\">\"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();at.hasOwnProperty(t)&&!nt.hasOwnProperty(t)&&(this.buf.push(\"</\"),this.buf.push(t),this.buf.push(\">\"))},e.prototype.chars=function(e){this.buf.push(mt(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(\"Failed to sanitize html because the element is clobbered: \"+e.outerHTML);return t},e}(),ht=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,ft=/([^\\#-~ |!])/g;function mt(e){return e.replace(/&/g,\"&amp;\").replace(ht,(function(e){return\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\"})).replace(ft,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"})).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function gt(e){return\"content\"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&\"TEMPLATE\"===e.nodeName}(e)?e.content:null}var yt=function(e){return e[e.NONE=0]=\"NONE\",e[e.HTML=1]=\"HTML\",e[e.STYLE=2]=\"STYLE\",e[e.SCRIPT=3]=\"SCRIPT\",e[e.URL=4]=\"URL\",e[e.RESOURCE_URL=5]=\"RESOURCE_URL\",e}({}),vt=function(){return function(){}}(),bt=new RegExp(\"^([-,.\\\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\\\([-0-9.%, #a-zA-Z]+\\\\))$\",\"g\"),_t=/^url\\(([^)]+)\\)$/;function wt(e){return\"ng-reflect-\"+e.replace(/[$@]/g,\"_\").replace(St,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return\"-\"+e[1].toLowerCase()}))}var St=/([A-Z])/g;function Ct(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return\"[ERROR] Exception while trying to serialize the value\"}}var Rt=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return xt()},e}(),xt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Tt=new ke(\"The presence of this token marks an injector as being the root injector.\"),kt=function(e,t,r){return new Mt(e,t,r)},Et=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?kt(e,t,\"\"):kt(e.providers,e.parent,e.name||\"\")},e.THROW_IF_NOT_FOUND=Pe,e.NULL=new Ae,e.ngInjectableDef=me({token:e,providedIn:\"any\",factory:function(){return je(Ee)}}),e.__NG_ELEMENT_ID__=-1,e}(),Pt=function(e){return e},Ot=[],It=Pt,Dt=function(){return Array.prototype.slice.call(arguments)},Mt=function(){function e(e,t,r){void 0===t&&(t=Et.NULL),void 0===r&&(r=null),this.parent=t,this.source=r;var n=this._records=new Map;n.set(Et,{token:Et,fn:Pt,deps:Ot,value:this,useNew:!1}),n.set(Ee,{token:Ee,fn:Pt,deps:Ot,value:this,useNew:!1}),function e(t,r){if(r)if((r=we(r))instanceof Array)for(var n=0;n<r.length;n++)e(t,r[n]);else{if(\"function\"==typeof r)throw At(\"Function/Class not supported\",r);if(!r||\"object\"!=typeof r||!r.provide)throw At(\"Unexpected provider\",r);var i=we(r.provide),o=function(e){var t=function(e){var t=Ot,r=e.deps;if(r&&r.length){t=[];for(var n=0;n<r.length;n++){var i=6;if((c=we(r[n]))instanceof Array)for(var o=0,s=c;o<s.length;o++){var a=s[o];a instanceof le||a==le?i|=1:a instanceof pe||a==pe?i&=-3:a instanceof de||a==de?i&=-5:c=a instanceof ue?a.token:we(a)}t.push({token:c,options:i})}}else if(e.useExisting){var c=we(e.useExisting);t=[{token:c,options:6}]}else if(!r&&!(Ie in e))throw At(\"'deps' required\",e);return t}(e),r=Pt,n=Ot,i=!1,o=we(e.provide);if(Ie in e)n=e.useValue;else if(e.useFactory)r=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,r=we(e.useClass);else{if(\"function\"!=typeof o)throw At(\"StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable\",e);i=!0,r=o}return{deps:t,fn:r,useNew:i,value:n}}(r);if(!0===r.multi){var s=t.get(i);if(s){if(s.fn!==Dt)throw jt(i)}else t.set(i,s={token:r.provide,deps:[],useNew:!1,fn:Dt,value:Ot});s.deps.push({token:i=r,options:6})}var a=t.get(i);if(a&&a.fn==Dt)throw jt(i);t.set(i,o)}}(n,e)}return e.prototype.get=function(e,t,r){void 0===r&&(r=he.Default);var i=this._records.get(e);try{return function e(t,r,i,o,s,a){try{return function(t,r,i,o,s,a){var c,u;if(!r||a&he.SkipSelf)a&he.Self||(u=o.get(t,s,he.Default));else{if((u=r.value)==It)throw Error(\"\\u0275Circular dependency\");if(u===Ot){r.value=It;var l=r.useNew,d=r.fn,p=r.deps,h=Ot;if(p.length){h=[];for(var f=0;f<p.length;f++){var m=p[f],g=m.options,y=2&g?i.get(m.token):void 0;h.push(e(m.token,y,i,y||4&g?o:Et.NULL,1&g?null:Et.THROW_IF_NOT_FOUND,he.Default))}}r.value=u=l?new((c=d).bind.apply(c,Object(n.__spread)([void 0],h))):d.apply(void 0,h)}}return u}(t,r,i,o,s,a)}catch(c){throw c instanceof Error||(c=new Error(c)),(c.ngTempTokenPath=c.ngTempTokenPath||[]).unshift(t),r&&r.value==It&&(r.value=Ot),c}}(e,i,this._records,this.parent,t,r)}catch(o){return function(e,t,r,n){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=Le(\"\\n\"+e.message,i,\"StaticInjectorError\",n),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,0,this.source)}},e.prototype.toString=function(){var e=[];return this._records.forEach((function(t,r){return e.push(ve(r))})),\"StaticInjector[\"+e.join(\", \")+\"]\"},e}();function jt(e){return At(\"Cannot mix multi providers and regular providers\",e)}function At(e,t){return new Error(Le(e,t,\"StaticInjectorError\"))}var Lt=new ke(\"AnalyzeForEntryComponents\"),Nt=null;function Ft(){if(!Nt){var e=Te.Symbol;if(e&&e.iterator)Nt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),r=0;r<t.length;++r){var n=t[r];\"entries\"!==n&&\"size\"!==n&&Map.prototype[n]===Map.prototype.entries&&(Nt=n)}}return Nt}function Bt(e,t){return e===t||\"number\"==typeof e&&\"number\"==typeof t&&isNaN(e)&&isNaN(t)}function Ut(e,t){var r=zt(e),n=zt(t);return r&&n?function(e,t,r){for(var n=e[Ft()](),i=t[Ft()]();;){var o=n.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!r(o.value,s.value))return!1}}(e,t,Ut):!(r||!e||\"object\"!=typeof e&&\"function\"!=typeof e||n||!t||\"object\"!=typeof t&&\"function\"!=typeof t)||Bt(e,t)}var Vt=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}();function zt(e){return!!Ht(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ft()in e)}function Ht(e){return null!==e&&(\"function\"==typeof e||\"object\"==typeof e)}function qt(e){return!!e&&\"function\"==typeof e.then}function Gt(e){return!!e&&\"function\"==typeof e.subscribe}var Wt=function(){function e(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}return e.prototype.isFirstChange=function(){return this.firstChange},e}(),$t=function(){return function(){}}(),Kt=function(){return function(){}}();function Qt(e){var t=Error(\"No component factory found for \"+ve(e)+\". Did you add it to @NgModule.entryComponents?\");return t[Zt]=e,t}var Zt=\"ngComponent\",Yt=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Qt(e)},e}(),Jt=function(){function e(){}return e.NULL=new Yt,e}(),Xt=function(){function e(e,t,r){this._parent=t,this._ngModule=r,this._factories=new Map;for(var n=0;n<e.length;n++){var i=e[n];this._factories.set(i.componentType,i)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Qt(e);return new er(t,this._ngModule)},e}(),er=function(e){function t(t,r){var n=e.call(this)||this;return n.factory=t,n.ngModule=r,n.selector=t.selector,n.componentType=t.componentType,n.ngContentSelectors=t.ngContentSelectors,n.inputs=t.inputs,n.outputs=t.outputs,n}return Object(n.__extends)(t,e),t.prototype.create=function(e,t,r,n){return this.factory.create(e,t,r,n||this.ngModule)},t}(Kt);function tr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var rr=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return nr(e)},e}(),nr=tr,ir=function(){return function(){}}(),or=function(){return function(){}}(),sr=function(e){return e[e.Important=1]=\"Important\",e[e.DashCase=2]=\"DashCase\",e}({}),ar=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return cr()},e}(),cr=tr,ur=new(function(){return function(e){this.full=e,this.major=e.split(\".\")[0],this.minor=e.split(\".\")[1],this.patch=e.split(\".\").slice(2).join(\".\")}}())(\"8.2.14\"),lr=function(){function e(){}return e.prototype.supports=function(e){return zt(e)},e.prototype.create=function(e){return new pr(e)},e}(),dr=function(e,t){return t},pr=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dr}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,r=this._removalsHead,n=0,i=null;t||r;){var o=!r||t&&t.currentIndex<gr(r,n,i)?t:r,s=gr(o,n,i),a=o.currentIndex;if(o===r)n--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)n++;else{i||(i=[]);var c=s-n,u=a-n;if(c!=u){for(var l=0;l<c;l++){var d=l<i.length?i[l]:i[l]=0,p=d+l;u<=p&&p<c&&(i[l]=d+1)}i[o.previousIndex]=u-c}}s!==a&&e(o,s,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!zt(e))throw new Error(\"Error trying to diff '\"+ve(e)+\"'. Only arrays and iterables are allowed\");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var r,n,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)i=this._trackByFn(a,n=e[a]),null!==o&&Bt(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,n,i,a)),Bt(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,i,a),s=!0),o=o._next}else r=0,function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(e[r]);else for(var n=e[Ft()](),i=void 0;!(i=n.next()).done;)t(i.value)}(e,(function(e){i=t._trackByFn(r,e),null!==o&&Bt(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,r)),Bt(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,r),s=!0),o=o._next,r++})),this.length=r;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,\"isDirty\",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,r,n){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,n))?(Bt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Bt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,n)):e=this._addAfter(new hr(t,r),i,n),e},e.prototype._verifyReinsertion=function(e,t,r,n){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var n=e._prevRemoved,i=e._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(e,t,r),this._addToMoves(e,r),e},e.prototype._moveAfter=function(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e},e.prototype._addAfter=function(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,r){var n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new mr),this._linkedRecords.put(e),e.currentIndex=r,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mr),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),hr=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),fr=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Bt(r.trackById,e))return r;return null},e.prototype.remove=function(e){var t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head},e}(),mr=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,r=this.map.get(t);r||(r=new fr,this.map.set(t,r)),r.add(e)},e.prototype.get=function(e,t){var r=this.map.get(e);return r?r.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,\"isEmpty\",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function gr(e,t,r){var n=e.previousIndex;if(null===n)return n;var i=0;return r&&n<r.length&&(i=r[n]),n+t+i}var yr=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Ht(e)},e.prototype.create=function(){return new vr},e}(),vr=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,\"isDirty\",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Ht(e)))throw new Error(\"Error trying to diff '\"+ve(e)+\"'. Only maps and objects are allowed\")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var r=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,n){if(r&&r.key===n)t._maybeAddToChanges(r,e),t._appendAfter=r,r=r._next;else{var i=t._getOrCreateRecordForKey(n,e);r=t._insertBeforeOrAppend(r,i)}})),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(var n=r;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var r=this._records.get(e);this._maybeAddToChanges(r,t);var n=r._prev,i=r._next;return n&&(n._next=i),i&&(i._prev=n),r._next=null,r._prev=null,r}var o=new br(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){Bt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(r){return t(e[r],r)}))},e}(),br=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),_r=function(){function e(e){this.factories=e}return e.create=function(t,r){if(null!=r){var n=r.factories.slice();t=t.concat(n)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(r){if(!r)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return e.create(t,r)},deps:[[e,new pe,new le]]}},e.prototype.find=function(e){var t,r=this.factories.find((function(t){return t.supports(e)}));if(null!=r)return r;throw new Error(\"Cannot find a differ supporting object '\"+e+\"' of type '\"+((t=e).name||typeof t)+\"'\")},e.ngInjectableDef=me({token:e,providedIn:\"root\",factory:function(){return new e([new lr])}}),e}(),wr=function(){function e(e){this.factories=e}return e.create=function(t,r){if(r){var n=r.factories.slice();t=t.concat(n)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(r){if(!r)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return e.create(t,r)},deps:[[e,new pe,new le]]}},e.prototype.find=function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error(\"Cannot find a differ supporting object '\"+e+\"'\")},e.ngInjectableDef=me({token:e,providedIn:\"root\",factory:function(){return new e([new yr])}}),e}(),Sr=[new yr],Cr=new _r([new lr]),Rr=new wr(Sr),xr=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Tr(e,rr)},e}(),Tr=tr,kr=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Er(e,rr)},e}(),Er=tr;function Pr(e,t,r,n){var i=\"ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '\"+t+\"'. Current value: '\"+r+\"'.\";return n&&(i+=\" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?\"),function(e,t){var r=new Error(e);return Or(r,t),r}(i,e)}function Or(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Ir(e){return new Error(\"ViewDestroyedError: Attempt to use a destroyed view: \"+e)}function Dr(e,t,r){var n=e.state,i=1792&n;return i===t?(e.state=-1793&n|r,e.initIndex=-1,!0):i===r}function Mr(e,t,r){return(1792&e.state)===t&&e.initIndex<=r&&(e.initIndex=r+1,!0)}function jr(e,t){return e.nodes[t]}function Ar(e,t){return e.nodes[t]}function Lr(e,t){return e.nodes[t]}function Nr(e,t){return e.nodes[t]}function Fr(e,t){return e.nodes[t]}var Br={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ur=function(){},Vr=new Map;function zr(e){var t=Vr.get(e);return t||(t=ve(e)+\"_\"+Vr.size,Vr.set(e,t)),t}function Hr(e){return{id:\"$$undefined\",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var qr=0;function Gr(e,t,r,n){return!(!(2&e.state)&&Bt(e.oldValues[t.bindingIndex+r],n))}function Wr(e,t,r,n){return!!Gr(e,t,r,n)&&(e.oldValues[t.bindingIndex+r]=n,!0)}function $r(e,t,r,n){var i=e.oldValues[t.bindingIndex+r];if(1&e.state||!Ut(i,n)){var o=t.bindings[r].name;throw Pr(Br.createDebugContext(e,t.nodeIndex),o+\": \"+i,o+\": \"+n,0!=(1&e.state))}}function Kr(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Qr(e,t){for(var r=e;r&&r!==t;)r.state|=64,r=r.viewContainerParent||r.parent}function Zr(e,t,r,n){try{return Kr(33554432&e.def.nodes[t].flags?Ar(e,t).componentView:e),Br.handleEvent(e,t,r,n)}catch(i){e.root.errorHandler.handleError(i)}}function Yr(e){return e.parent?Ar(e.parent,e.parentNodeDef.nodeIndex):null}function Jr(e){return e.parent?e.parentNodeDef.parent:null}function Xr(e,t){switch(201347067&t.flags){case 1:return Ar(e,t.nodeIndex).renderElement;case 2:return jr(e,t.nodeIndex).renderText}}function en(e,t){return e?e+\":\"+t:t}function tn(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function rn(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function nn(e){var t={},r=0,i={};return e&&e.forEach((function(e){var o=Object(n.__read)(e,2),s=o[0],a=o[1];\"number\"==typeof s?(t[s]=a,r|=function(e){return 1<<e%32}(s)):i[s]=a})),{matchedQueries:t,references:i,matchedQueryIds:r}}function on(e,t){return e.map((function(e){var r,i,o;return Array.isArray(e)?(o=(r=Object(n.__read)(e,2))[0],i=r[1]):(o=0,i=e),i&&(\"function\"==typeof i||\"object\"==typeof i)&&t&&Object.defineProperty(i,\"__source\",{value:t,configurable:!0}),{flags:o,token:i,tokenKey:zr(i)}}))}function sn(e,t,r){var n=r.renderParent;return n?0==(1&n.flags)||0==(33554432&n.flags)||n.element.componentRendererType&&n.element.componentRendererType.encapsulation===Ve.Native?Ar(e,r.renderParent.nodeIndex).renderElement:void 0:t}var an=new WeakMap;function cn(e){var t=an.get(e);return t||((t=e((function(){return Ur}))).factory=e,an.set(e,t)),t}function un(e,t,r,n,i){3===t&&(r=e.renderer.parentNode(Xr(e,e.def.lastRenderRootNode))),ln(e,t,0,e.def.nodes.length-1,r,n,i)}function ln(e,t,r,n,i,o,s){for(var a=r;a<=n;a++){var c=e.def.nodes[a];11&c.flags&&pn(e,c,t,i,o,s),a+=c.childCount}}function dn(e,t,r,n,i,o){for(var s=e;s&&!tn(s);)s=s.parent;for(var a=s.parent,c=Jr(s),u=c.nodeIndex+c.childCount,l=c.nodeIndex+1;l<=u;l++){var d=a.def.nodes[l];d.ngContentIndex===t&&pn(a,d,r,n,i,o),l+=d.childCount}if(!a.parent){var p=e.root.projectableNodes[t];if(p)for(l=0;l<p.length;l++)hn(e,p[l],r,n,i,o)}}function pn(e,t,r,n,i,o){if(8&t.flags)dn(e,t.ngContent.index,r,n,i,o);else{var s=Xr(e,t);if(3===r&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&hn(e,s,r,n,i,o),32&t.bindingFlags&&hn(Ar(e,t.nodeIndex).componentView,s,r,n,i,o)):hn(e,s,r,n,i,o),16777216&t.flags)for(var a=Ar(e,t.nodeIndex).viewContainer._embeddedViews,c=0;c<a.length;c++)un(a[c],r,n,i,o);1&t.flags&&!t.element.name&&ln(e,r,t.nodeIndex+1,t.nodeIndex+t.childCount,n,i,o)}}function hn(e,t,r,n,i,o){var s=e.renderer;switch(r){case 1:s.appendChild(n,t);break;case 2:s.insertBefore(n,t,i);break;case 3:s.removeChild(n,t);break;case 0:o.push(t)}}var fn=/^:([^:]+):(.+)$/;function mn(e){if(\":\"===e[0]){var t=e.match(fn);return[t[1],t[2]]}return[\"\",e]}function gn(e){for(var t=0,r=0;r<e.length;r++)t|=e[r].flags;return t}var yn=new Object,vn=zr(Et),bn=zr(Ee),_n=zr(Ne);function wn(e,t,r,n){return r=we(r),{index:-1,deps:on(n,ve(t)),flags:e,token:t,value:r}}function Sn(e,t,r){void 0===r&&(r=Et.THROW_IF_NOT_FOUND);var n,i,o=Me(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(r=null),1&t.flags)return e._parent.get(t.token,r);var s=t.tokenKey;switch(s){case vn:case bn:case _n:return e}var a,c=e._def.providersByKey[s];if(c){var u=e._providers[c.index];return void 0===u&&(u=e._providers[c.index]=Cn(e,c)),u===yn?void 0:u}if((a=ge(t.token))&&(n=e,null!=(i=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,i.providedIn)||\"root\"===i.providedIn&&n._def.isRoot))){var l=e._providers.length;return e._def.providers[l]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:l,token:t.token},e._providers[l]=yn,e._providers[l]=Cn(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?r:e._parent.get(t.token,r)}finally{Me(o)}}function Cn(e,t){var r;switch(201347067&t.flags){case 512:r=function(e,t,r){var i=r.length;switch(i){case 0:return new t;case 1:return new t(Sn(e,r[0]));case 2:return new t(Sn(e,r[0]),Sn(e,r[1]));case 3:return new t(Sn(e,r[0]),Sn(e,r[1]),Sn(e,r[2]));default:for(var o=new Array(i),s=0;s<i;s++)o[s]=Sn(e,r[s]);return new(t.bind.apply(t,Object(n.__spread)([void 0],o)))}}(e,t.value,t.deps);break;case 1024:r=function(e,t,r){var i=r.length;switch(i){case 0:return t();case 1:return t(Sn(e,r[0]));case 2:return t(Sn(e,r[0]),Sn(e,r[1]));case 3:return t(Sn(e,r[0]),Sn(e,r[1]),Sn(e,r[2]));default:for(var o=Array(i),s=0;s<i;s++)o[s]=Sn(e,r[s]);return t.apply(void 0,Object(n.__spread)(o))}}(e,t.value,t.deps);break;case 2048:r=Sn(e,t.deps[0]);break;case 256:r=t.value}return r===yn||null===r||\"object\"!=typeof r||131072&t.flags||\"function\"!=typeof r.ngOnDestroy||(t.flags|=131072),void 0===r?yn:r}function Rn(e,t){var r=e.viewContainer._embeddedViews;if((null==t||t>=r.length)&&(t=r.length-1),t<0)return null;var n=r[t];return n.viewContainerParent=null,Ue(r,t),Br.dirtyParentQueries(n),Tn(n),n}function xn(e,t,r){var n=t?Xr(t,t.def.lastRenderRootNode):e.renderElement,i=r.renderer.parentNode(n),o=r.renderer.nextSibling(n);un(r,2,i,o,void 0)}function Tn(e){un(e,3,null,null,void 0)}var kn=new Object;function En(e,t,r,n,i,o){return new Pn(e,t,r,n,i,o)}var Pn=function(e){function t(t,r,n,i,o,s){var a=e.call(this)||this;return a.selector=t,a.componentType=r,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=n,a}return Object(n.__extends)(t,e),Object.defineProperty(t.prototype,\"inputs\",{get:function(){var e=[],t=this._inputs;for(var r in t)e.push({propName:r,templateName:t[r]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"outputs\",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,r,n){if(!n)throw new Error(\"ngModule should be provided\");var i=cn(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Br.createRootView(e,t||[],r,i,n,kn),a=Lr(s,o).instance;return r&&s.renderer.setAttribute(Ar(s,0).renderElement,\"ng-version\",ur.full),new On(s,new jn(s),a)},t}(Kt),On=function(e){function t(t,r,n){var i=e.call(this)||this;return i._view=t,i._viewRef=r,i._component=n,i._elDef=i._view.def.nodes[0],i.hostView=r,i.changeDetectorRef=r,i.instance=n,i}return Object(n.__extends)(t,e),Object.defineProperty(t.prototype,\"location\",{get:function(){return new rr(Ar(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"injector\",{get:function(){return new Fn(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"componentType\",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}($t);function In(e,t,r){return new Dn(e,t,r)}var Dn=function(){function e(e,t,r){this._view=e,this._elDef=t,this._data=r,this._embeddedViews=[]}return Object.defineProperty(e.prototype,\"element\",{get:function(){return new rr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"injector\",{get:function(){return new Fn(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parentInjector\",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Jr(e),e=e.parent;return e?new Fn(e,t):new Fn(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Rn(this._data,e);Br.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var r=new jn(t);return r.attachToViewContainerRef(this),r}return null},Object.defineProperty(e.prototype,\"length\",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,r){var n=e.createEmbeddedView(t||{});return this.insert(n,r),n},e.prototype.createComponent=function(e,t,r,n,i){var o=r||this.parentInjector;i||e instanceof er||(i=o.get(Ne));var s=e.create(o,n,void 0,i);return this.insert(s.hostView,t),s},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");var r,n,i,o,s=e;return o=(r=this._data).viewContainer._embeddedViews,null==(n=t)&&(n=o.length),(i=s._view).viewContainerParent=this._view,Be(o,n,i),function(e,t){var r=Yr(t);if(r&&r!==e&&!(16&t.state)){t.state|=16;var n=r.template._projectedViews;n||(n=r.template._projectedViews=[]),n.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var r=t.parent;r;)r.childFlags|=4,r=r.parent}}(t.parent.def,t.parentNodeDef)}}(r,i),Br.dirtyParentQueries(i),xn(r,n>0?o[n-1]:null,i),s.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");var r,n,i,o,s,a=this._embeddedViews.indexOf(e._view);return i=t,s=(o=(r=this._data).viewContainer._embeddedViews)[n=a],Ue(o,n),null==i&&(i=o.length),Be(o,i,s),Br.dirtyParentQueries(s),Tn(s),xn(r,i>0?o[i-1]:null,s),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Rn(this._data,e);t&&Br.destroyView(t)},e.prototype.detach=function(e){var t=Rn(this._data,e);return t?new jn(t):null},e}();function Mn(e){return new jn(e)}var jn=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,\"rootNodes\",{get:function(){return un(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"destroyed\",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){Kr(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Br.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){Br.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Br.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Tn(this._view),Br.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=e},e}();function An(e,t){return new Ln(e,t)}var Ln=function(e){function t(t,r){var n=e.call(this)||this;return n._parentView=t,n._def=r,n}return Object(n.__extends)(t,e),t.prototype.createEmbeddedView=function(e){return new jn(Br.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,\"elementRef\",{get:function(){return new rr(Ar(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(xr);function Nn(e,t){return new Fn(e,t)}var Fn=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=Et.THROW_IF_NOT_FOUND),Br.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:zr(e)},t)},e}();function Bn(e,t){var r=e.def.nodes[t];if(1&r.flags){var n=Ar(e,r.nodeIndex);return r.element.template?n.template:n.renderElement}if(2&r.flags)return jr(e,r.nodeIndex).renderText;if(20240&r.flags)return Lr(e,r.nodeIndex).instance;throw new Error(\"Illegal state: read nodeValue for node index \"+t)}function Un(e){return new Vn(e.renderer)}var Vn=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var r=Object(n.__read)(mn(t),2),i=this.delegate.createElement(r[1],r[0]);return e&&this.delegate.appendChild(e,i),i},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment(\"\");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var r=this.delegate.createText(t);return e&&this.delegate.appendChild(e,r),r},e.prototype.projectNodes=function(e,t){for(var r=0;r<t.length;r++)this.delegate.appendChild(e,t[r])},e.prototype.attachViewAfter=function(e,t){for(var r=this.delegate.parentNode(e),n=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(r,t[i],n)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=this.delegate.parentNode(r);this.delegate.removeChild(n,r)}},e.prototype.destroyView=function(e,t){for(var r=0;r<t.length;r++)this.delegate.destroyNode(t[r])},e.prototype.listen=function(e,t,r){return this.delegate.listen(e,t,r)},e.prototype.listenGlobal=function(e,t,r){return this.delegate.listen(e,t,r)},e.prototype.setElementProperty=function(e,t,r){this.delegate.setProperty(e,t,r)},e.prototype.setElementAttribute=function(e,t,r){var i=Object(n.__read)(mn(t),2),o=i[0],s=i[1];null!=r?this.delegate.setAttribute(e,s,r,o):this.delegate.removeAttribute(e,s,o)},e.prototype.setBindingDebugInfo=function(e,t,r){},e.prototype.setElementClass=function(e,t,r){r?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,r){null!=r?this.delegate.setStyle(e,t,r):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,r){e[t].apply(e,r)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error(\"Renderer.animate is no longer supported!\")},e}();function zn(e,t,r,n){return new Hn(e,t,r,n)}var Hn=function(){function e(e,t,r,n){this._moduleType=e,this._parent=t,this._bootstrapComponents=r,this._def=n,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,r=e._providers=new Array(t.providers.length),n=0;n<t.providers.length;n++){var i=t.providers[n];4096&i.flags||void 0===r[n]&&(r[n]=Cn(e,i))}}(this)}return e.prototype.get=function(e,t,r){void 0===t&&(t=Et.THROW_IF_NOT_FOUND),void 0===r&&(r=he.Default);var n=0;return r&he.SkipSelf?n|=1:r&he.Self&&(n|=4),Sn(this,{token:e,tokenKey:zr(e),flags:n},t)},Object.defineProperty(e.prototype,\"instance\",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentFactoryResolver\",{get:function(){return this.get(Jt)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error(\"The ng module \"+ve(this.instance.constructor)+\" has already been destroyed.\");this._destroyed=!0,function(e,t){for(var r=e._def,n=new Set,i=0;i<r.providers.length;i++)if(131072&r.providers[i].flags){var o=e._providers[i];if(o&&o!==yn){var s=o.ngOnDestroy;\"function\"!=typeof s||n.has(o)||(s.apply(o),n.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),qn=zr(ir),Gn=zr(ar),Wn=zr(rr),$n=zr(kr),Kn=zr(xr),Qn=zr(Rt),Zn=zr(Et),Yn=zr(Ee);function Jn(e,t,r,i,o,s,a,c){var u=[];if(a)for(var l in a){var d=Object(n.__read)(a[l],2);u[d[0]]={flags:8,name:l,nonMinifiedName:d[1],ns:null,securityContext:null,suffix:null}}var p=[];if(c)for(var h in c)p.push({type:1,propName:h,target:null,eventName:c[h]});return function(e,t,r,n,i,o,s,a,c){var u=nn(r),l=u.matchedQueries,d=u.references,p=u.matchedQueryIds;c||(c=[]),a||(a=[]),o=we(o);var h=on(s,ve(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:p,references:d,ngContentIndex:-1,childCount:n,bindings:a,bindingFlags:gn(a),outputs:c,element:null,provider:{token:i,value:o,deps:h},text:null,query:null,ngContent:null}}(e,t|=16384,r,i,o,o,s,u,p)}function Xn(e,t){return ni(e,t)}function ei(e,t){for(var r=e;r.parent&&!tn(r);)r=r.parent;return ii(r.parent,Jr(r),!0,t.provider.value,t.provider.deps)}function ti(e,t){var r=ii(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var n=0;n<t.outputs.length;n++){var i=t.outputs[n],o=r[i.propName];if(!Gt(o))throw new Error(\"@Output \"+i.propName+\" not initialized in '\"+r.constructor.name+\"'.\");var s=o.subscribe(ri(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+n]=s.unsubscribe.bind(s)}return r}function ri(e,t,r){return function(n){return Zr(e,t,r,n)}}function ni(e,t){var r=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return ii(e,t.parent,r,i.value,i.deps);case 1024:return function(e,t,r,i,o){var s=o.length;switch(s){case 0:return i();case 1:return i(si(e,t,r,o[0]));case 2:return i(si(e,t,r,o[0]),si(e,t,r,o[1]));case 3:return i(si(e,t,r,o[0]),si(e,t,r,o[1]),si(e,t,r,o[2]));default:for(var a=Array(s),c=0;c<s;c++)a[c]=si(e,t,r,o[c]);return i.apply(void 0,Object(n.__spread)(a))}}(e,t.parent,r,i.value,i.deps);case 2048:return si(e,t.parent,r,i.deps[0]);case 256:return i.value}}function ii(e,t,r,i,o){var s=o.length;switch(s){case 0:return new i;case 1:return new i(si(e,t,r,o[0]));case 2:return new i(si(e,t,r,o[0]),si(e,t,r,o[1]));case 3:return new i(si(e,t,r,o[0]),si(e,t,r,o[1]),si(e,t,r,o[2]));default:for(var a=new Array(s),c=0;c<s;c++)a[c]=si(e,t,r,o[c]);return new(i.bind.apply(i,Object(n.__spread)([void 0],a)))}}var oi={};function si(e,t,r,n,i){if(void 0===i&&(i=Et.THROW_IF_NOT_FOUND),8&n.flags)return n.token;var o=e;2&n.flags&&(i=null);var s=n.tokenKey;s===Qn&&(r=!(!t||!t.element.componentView)),t&&1&n.flags&&(r=!1,t=t.parent);for(var a=e;a;){if(t)switch(s){case qn:return Un(ai(a,t,r));case Gn:return ai(a,t,r).renderer;case Wn:return new rr(Ar(a,t.nodeIndex).renderElement);case $n:return Ar(a,t.nodeIndex).viewContainer;case Kn:if(t.element.template)return Ar(a,t.nodeIndex).template;break;case Qn:return Mn(ai(a,t,r));case Zn:case Yn:return Nn(a,t);default:var c=(r?t.element.allProviders:t.element.publicProviders)[s];if(c){var u=Lr(a,c.nodeIndex);return u||(u={instance:ni(a,c)},a.nodes[c.nodeIndex]=u),u.instance}}r=tn(a),t=Jr(a),a=a.parent,4&n.flags&&(a=null)}var l=o.root.injector.get(n.token,oi);return l!==oi||i===oi?l:o.root.ngModule.injector.get(n.token,i)}function ai(e,t,r){var n;if(r)n=Ar(e,t.nodeIndex).componentView;else for(n=e;n.parent&&!tn(n);)n=n.parent;return n}function ci(e,t,r,n,i,o){if(32768&r.flags){var s=Ar(e,r.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[r.bindings[n].name]=i,524288&r.flags){o=o||{};var a=Vt.unwrap(e.oldValues[r.bindingIndex+n]);o[r.bindings[n].nonMinifiedName]=new Wt(a,i,0!=(2&e.state))}return e.oldValues[r.bindingIndex+n]=i,o}function ui(e,t){if(e.def.nodeFlags&t)for(var r=e.def.nodes,n=0,i=0;i<r.length;i++){var o=r[i],s=o.parent;for(!s&&o.flags&t&&di(e,i,o.flags&t,n++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(n=li(e,s,t,n)),s=s.parent}}function li(e,t,r,n){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&r&&di(e,i,o.flags&r,n++),i+=o.childCount}return n}function di(e,t,r,n){var i=Lr(e,t);if(i){var o=i.instance;o&&(Br.setCurrentNode(e,t),1048576&r&&Mr(e,512,n)&&o.ngAfterContentInit(),2097152&r&&o.ngAfterContentChecked(),4194304&r&&Mr(e,768,n)&&o.ngAfterViewInit(),8388608&r&&o.ngAfterViewChecked(),131072&r&&o.ngOnDestroy())}}var pi=new ke(\"SCHEDULER_TOKEN\",{providedIn:\"root\",factory:function(){return ze}}),hi={},fi=function(e){return e[e.LocaleId=0]=\"LocaleId\",e[e.DayPeriodsFormat=1]=\"DayPeriodsFormat\",e[e.DayPeriodsStandalone=2]=\"DayPeriodsStandalone\",e[e.DaysFormat=3]=\"DaysFormat\",e[e.DaysStandalone=4]=\"DaysStandalone\",e[e.MonthsFormat=5]=\"MonthsFormat\",e[e.MonthsStandalone=6]=\"MonthsStandalone\",e[e.Eras=7]=\"Eras\",e[e.FirstDayOfWeek=8]=\"FirstDayOfWeek\",e[e.WeekendRange=9]=\"WeekendRange\",e[e.DateFormat=10]=\"DateFormat\",e[e.TimeFormat=11]=\"TimeFormat\",e[e.DateTimeFormat=12]=\"DateTimeFormat\",e[e.NumberSymbols=13]=\"NumberSymbols\",e[e.NumberFormats=14]=\"NumberFormats\",e[e.CurrencySymbol=15]=\"CurrencySymbol\",e[e.CurrencyName=16]=\"CurrencyName\",e[e.Currencies=17]=\"Currencies\",e[e.PluralCase=18]=\"PluralCase\",e[e.ExtraData=19]=\"ExtraData\",e}({}),mi=void 0,gi=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],mi],[[\"AM\",\"PM\"],mi,mi],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],mi,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],mi,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",mi,\"{1} 'at' {0}\",mi],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xd7\",\"\\u2030\",\"\\u221e\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xa4#,##0.00\",\"#E0\"],\"$\",\"US Dollar\",{},function(e){var t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===t&&0===r?1:5}],yi=function(e){function t(t){void 0===t&&(t=!1);var r=e.call(this)||this;return r.__isAsync=t,r}return Object(n.__extends)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,n){var i,o=function(e){return null},s=function(){return null};t&&\"object\"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},r&&(o=this.__isAsync?function(e){setTimeout((function(){return r(e)}))}:function(e){r(e)}),n&&(s=this.__isAsync?function(){setTimeout((function(){return n()}))}:function(){n()}));var a=e.prototype.subscribe.call(this,i,o,s);return t instanceof u&&t.add(a),a},t}(E);function vi(){return this._results[Ft()]()}var bi=function(){function e(){this.dirty=!0,this._results=[],this.changes=new yi,this.length=0;var t=Ft(),r=e.prototype;r[t]||(r[t]=vi)}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t,r){void 0===r&&(r=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(r===t&&(r=t.slice(0,n)),e(i,r)):r!==t&&r.push(i)}return r}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),_i=new ke(\"Application Initializer\"),wi=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,r){t.resolve=e,t.reject=r}))}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],r=function(){e.done=!0,e.resolve()};if(this.appInits)for(var n=0;n<this.appInits.length;n++){var i=this.appInits[n]();qt(i)&&t.push(i)}Promise.all(t).then((function(){r()})).catch((function(t){e.reject(t)})),0===t.length&&r(),this.initialized=!0}},e}(),Si=new ke(\"AppId\");function Ci(){return\"\"+Ri()+Ri()+Ri()}function Ri(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var xi=new ke(\"Platform Initializer\"),Ti=new ke(\"Platform ID\"),ki=new ke(\"appBootstrapListener\"),Ei=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}(),Pi=new ke(\"LocaleId\");function Oi(){throw new Error(\"Runtime compiler is not loaded\")}var Ii,Di,Mi=Oi,ji=Oi,Ai=Oi,Li=Oi,Ni=function(){function e(){this.compileModuleSync=Mi,this.compileModuleAsync=ji,this.compileModuleAndAllComponentsSync=Ai,this.compileModuleAndAllComponentsAsync=Li}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),Fi=function(){return function(){}}();function Bi(){var e=Te.wtf;return!(!e||!(Ii=e.trace)||(Di=Ii.events,0))}var Ui=Bi();function Vi(e,t){return null}var zi=Ui?function(e,t){return void 0===t&&(t=null),Di.createScope(e,t)}:function(e,t){return Vi},Hi=Ui?function(e,t){return Ii.leaveScope(e,t),t}:function(e,t){return t},qi=function(){return Promise.resolve(0)}();function Gi(e){\"undefined\"==typeof Zone?qi.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",e)}var Wi=function(){function e(e){var t,r=e.enableLongStackTrace,n=void 0!==r&&r;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi(!1),this.onMicrotaskEmpty=new yi(!1),this.onStable=new yi(!1),this.onError=new yi(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:\"angular\",properties:{isAngularZone:!0},onInvokeTask:function(e,r,n,i,o,s){try{return Zi(t),e.invokeTask(n,i,o,s)}finally{Yi(t)}},onInvoke:function(e,r,n,i,o,s,a){try{return Zi(t),e.invoke(n,i,o,s,a)}finally{Yi(t)}},onHasTask:function(e,r,n,i){e.hasTask(n,i),r===n&&(\"microTask\"==i.change?(t.hasPendingMicrotasks=i.microTask,Qi(t)):\"macroTask\"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,r,n,i){return e.handleError(n,i),t.runOutsideAngular((function(){return t.onError.emit(i)})),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get(\"isAngularZone\")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")},e.prototype.run=function(e,t,r){return this._inner.run(e,t,r)},e.prototype.runTask=function(e,t,r,n){var i=this._inner,o=i.scheduleEventTask(\"NgZoneEvent: \"+n,e,Ki,$i,$i);try{return i.runTask(o,t,r)}finally{i.cancelTask(o)}},e.prototype.runGuarded=function(e,t,r){return this._inner.runGuarded(e,t,r)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function $i(){}var Ki={};function Qi(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Zi(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Yi(e){e._nesting--,Qi(e)}var Ji,Xi=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi,this.onMicrotaskEmpty=new yi,this.onStable=new yi,this.onError=new yi}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),eo=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){t.taskTrackingZone=\"undefined\"==typeof Zone?null:Zone.current.get(\"TaskTrackingZone\")}))}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Wi.assertNotInAngularZone(),Gi((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())Gi((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]},e.prototype.addCallback=function(e,t,r){var n=this,i=-1;t&&t>0&&(i=setTimeout((function(){n._callbacks=n._callbacks.filter((function(e){return e.timeoutId!==i})),e(n._didWork,n.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:r})},e.prototype.whenStable=function(e,t,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(e,t,r),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,r){return[]},e}(),to=function(){function e(){this._applications=new Map,ro.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),ro.findTestabilityInTree(this,e,t)},Object(n.__decorate)([Object(n.__metadata)(\"design:paramtypes\",[])],e)}(),ro=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,r){return null},e}()),no=new ke(\"AllowMultipleToken\"),io=function(){return function(e,t){this.name=e,this.token=t}}();function oo(e,t,r){void 0===r&&(r=[]);var n=\"Platform: \"+t,i=new ke(n);return function(t){void 0===t&&(t=[]);var o=so();if(!o||o.injector.get(no,!1))if(e)e(r.concat(t).concat({provide:i,useValue:!0}));else{var s=r.concat(t).concat({provide:i,useValue:!0});!function(e){if(Ji&&!Ji.destroyed&&!Ji.injector.get(no,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");Ji=e.get(ao);var t=e.get(xi,null);t&&t.forEach((function(e){return e()}))}(Et.create({providers:s,name:n}))}return function(e){var t=so();if(!t)throw new Error(\"No platform exists!\");if(!t.injector.get(e,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return t}(i)}}function so(){return Ji&&!Ji.destroyed?Ji:null}var ao=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var r,n=this,i=\"noop\"===(r=t?t.ngZone:void 0)?new Xi:(\"zone.js\"===r?void 0:r)||new Wi({enableLongStackTrace:Qe()}),o=[{provide:Wi,useValue:i}];return i.run((function(){var t=Et.create({providers:o,parent:n.injector,name:e.moduleType.name}),r=e.create(t),s=r.injector.get(We,null);if(!s)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return r.onDestroy((function(){return lo(n._modules,r)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){s.handleError(e)}})})),function(e,t,i){try{var o=((s=r.injector.get(wi)).runInitializers(),s.donePromise.then((function(){return n._moduleDoBootstrap(r),r})));return qt(o)?o.catch((function(r){throw t.runOutsideAngular((function(){return e.handleError(r)})),r})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(s,i)}))},e.prototype.bootstrapModule=function(e,t){var r=this;void 0===t&&(t=[]);var n=co({},t);return function(e,t,r){return e.get(Fi).createCompiler([t]).compileModuleAsync(r)}(this.injector,n,e).then((function(e){return r.bootstrapModuleFactory(e,n)}))},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(uo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error(\"The module \"+ve(e.instance.constructor)+' was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,\"injector\",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0},Object.defineProperty(e.prototype,\"destroyed\",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function co(e,t){return Array.isArray(t)?t.reduce(co,e):Object(n.__assign)({},e,t)}var uo=function(){function e(e,t,r,n,i,o){var s=this;this._zone=e,this._console=t,this._injector=r,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var a=new S((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),c=new S((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Wi.assertNotInAngularZone(),Gi((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var r=s._zone.onUnstable.subscribe((function(){Wi.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),r.unsubscribe()}}));this.isStable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return O(i)?(n=e.pop(),e.length>1&&\"number\"==typeof e[e.length-1]&&(r=e.pop())):\"number\"==typeof i&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof S?e[0]:J(r)(W(e,n))}(a,c.pipe(se()))}var t;return t=e,e.prototype.bootstrap=function(e,t){var r,n=this;if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");r=e instanceof Kt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);var i=r instanceof er?null:this._injector.get(Ne),o=r.create(Et.NULL,[],t||r.selector,i);o.onDestroy((function(){n._unloadComponent(o)}));var s=o.injector.get(eo,null);return s&&o.injector.get(to).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Qe()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),o},e.prototype.tick=function(){var e,r,i,o,s=this;if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");var a=t._tickScope();try{this._runningTick=!0;try{for(var c=Object(n.__values)(this._views),u=c.next();!u.done;u=c.next())u.value.detectChanges()}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(this._enforceNoNewChanges)try{for(var l=Object(n.__values)(this._views),d=l.next();!d.done;d=l.next())d.value.checkNoChanges()}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}catch(f){this._zone.runOutsideAngular((function(){return s._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1,Hi(a)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;lo(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ki,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),lo(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(e){return e.destroy()}))},Object.defineProperty(e.prototype,\"viewCount\",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=zi(\"ApplicationRef#tick()\"),e}();function lo(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var po=function(){return function(){}}(),ho=function(){return function(){}}(),fo={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"},mo=function(){function e(e,t){this._compiler=e,this._config=t||fo}return e.prototype.load=function(e){return this._compiler instanceof Ni?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,i=Object(n.__read)(e.split(\"#\"),2),o=i[0],s=i[1];return void 0===s&&(s=\"default\"),r(\"zn8P\")(o).then((function(e){return e[s]})).then((function(e){return go(e,o,s)})).then((function(e){return t._compiler.compileModuleAsync(e)}))},e.prototype.loadFactory=function(e){var t=Object(n.__read)(e.split(\"#\"),2),i=t[0],o=t[1],s=\"NgFactory\";return void 0===o&&(o=\"default\",s=\"\"),r(\"zn8P\")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[o+s]})).then((function(e){return go(e,i,o)}))},e}();function go(e,t,r){if(!e)throw new Error(\"Cannot find '\"+r+\"' in '\"+t+\"'\");return e}var yo=function(){return function(e,t){this.name=e,this.callback=t}}(),vo=function(){function e(e,t,r){this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,t&&t instanceof bo&&t.addChild(this)}return Object.defineProperty(e.prototype,\"injector\",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentInstance\",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"references\",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"providerTokens\",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),bo=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return Object(n.__extends)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var r,i=this,o=this.childNodes.indexOf(e);-1!==o&&((r=this.childNodes).splice.apply(r,Object(n.__spread)([o+1,0],t)),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=i})))},t.prototype.insertBefore=function(e,t){var r=this.childNodes.indexOf(e);-1===r?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(r,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,r,n){t.childNodes.forEach((function(t){t instanceof bo&&(r(t)&&n.push(t),e(t,r,n))}))}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,r,n){t instanceof bo&&t.childNodes.forEach((function(t){r(t)&&n.push(t),t instanceof bo&&e(t,r,n)}))}(this,e,t),t},Object.defineProperty(t.prototype,\"children\",{get:function(){return this.childNodes.filter((function(e){return e instanceof t}))},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach((function(r){r.name==e&&r.callback(t)}))},t}(vo),_o=new Map,wo=function(e){return _o.get(e)||null};function So(e){_o.set(e.nativeNode,e)}var Co=oo(null,\"core\",[{provide:Ti,useValue:\"unknown\"},{provide:ao,deps:[Et]},{provide:to,deps:[]},{provide:Ei,deps:[]}]);function Ro(){return Cr}function xo(){return Rr}function To(e){return e||\"en-US\"}function ko(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Eo=function(){return function(e){}}();function Po(e,t,r,n,i,o){e|=1;var s=nn(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:r,childCount:n,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?cn(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Ur},provider:null,text:null,query:null,ngContent:null}}function Oo(e,t,r,i,o,s,a,c,u,l,d,p){var h;void 0===a&&(a=[]),l||(l=Ur);var f=nn(r),m=f.matchedQueries,g=f.references,y=f.matchedQueryIds,v=null,b=null;s&&(v=(h=Object(n.__read)(mn(s),2))[0],b=h[1]),c=c||[];for(var _=new Array(c.length),w=0;w<c.length;w++){var S=Object(n.__read)(c[w],3),C=S[0],R=S[1],x=S[2],T=Object(n.__read)(mn(R),2),k=T[0],E=T[1],P=void 0,O=void 0;switch(15&C){case 4:O=x;break;case 1:case 8:P=x}_[w]={flags:C,ns:k,name:E,nonMinifiedName:E,securityContext:P,suffix:O}}u=u||[];var I=new Array(u.length);for(w=0;w<u.length;w++){var D=Object(n.__read)(u[w],2);I[w]={type:0,target:D[0],eventName:D[1],propName:null}}var M=(a=a||[]).map((function(e){var t=Object(n.__read)(e,2),r=t[0],i=t[1],o=Object(n.__read)(mn(r),2);return[o[0],o[1],i]}));return p=function(e){if(e&&\"$$undefined\"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==Ve.None||e.styles.length||Object.keys(e.data).length;e.id=t?\"c\"+qr++:\"$$empty\"}return e&&\"$$empty\"===e.id&&(e=null),e||null}(p),d&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:y,references:g,ngContentIndex:i,childCount:o,bindings:_,bindingFlags:gn(_),outputs:I,element:{ns:v,name:b,attrs:M,template:null,componentProvider:null,componentView:d||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:l||Ur},provider:null,text:null,query:null,ngContent:null}}function Io(e,t,r){var i,o=r.element,s=e.root.selectorOrNode,a=e.renderer;if(e.parent||!s){i=o.name?a.createElement(o.name,o.ns):a.createComment(\"\");var c=sn(e,t,r);c&&a.appendChild(c,i)}else i=a.selectRootElement(s,!!o.componentRendererType&&o.componentRendererType.encapsulation===Ve.ShadowDom);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var l=Object(n.__read)(o.attrs[u],3);a.setAttribute(i,l[1],l[2],l[0])}return i}function Do(e,t,r,n){for(var i=0;i<r.outputs.length;i++){var o=r.outputs[i],s=Mo(e,r.nodeIndex,en(o.target,o.eventName)),a=o.target,c=e;\"component\"===o.target&&(a=null,c=t);var u=c.renderer.listen(a||n,o.eventName,s);e.disposables[r.outputIndex+i]=u}}function Mo(e,t,r){return function(n){return Zr(e,t,r,n)}}function jo(e,t,r,n){if(!Wr(e,t,r,n))return!1;var i=t.bindings[r],o=Ar(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,r,n,i,o){var s=t.securityContext,a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var c=e.renderer;null!=o?c.setAttribute(r,i,a,n):c.removeAttribute(r,i,n)}(e,i,s,i.ns,a,n);break;case 2:!function(e,t,r,n){var i=e.renderer;n?i.addClass(t,r):i.removeClass(t,r)}(e,s,a,n);break;case 4:!function(e,t,r,n,i){var o=e.root.sanitizer.sanitize(yt.STYLE,i);if(null!=o){o=o.toString();var s=t.suffix;null!=s&&(o+=s)}else o=null;var a=e.renderer;null!=o?a.setStyle(r,n,o):a.removeStyle(r,n)}(e,i,s,a,n);break;case 8:!function(e,t,r,n,i){var o=t.securityContext,s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(r,n,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,n)}return!0}function Ao(e){for(var t=e.def.nodeMatchedQueries;e.parent&&rn(e);){var r=e.parentNodeDef;e=e.parent;for(var n=r.nodeIndex+r.childCount,i=0;i<=n;i++)67108864&(o=e.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&Fr(e,i).setDirty(),!(1&o.flags&&i+o.childCount<r.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&e.def.nodeFlags)for(i=0;i<e.def.nodes.length;i++){var o;134217728&(o=e.def.nodes[i]).flags&&536870912&o.flags&&Fr(e,i).setDirty(),i+=o.childCount}}function Lo(e,t){var r=Fr(e,t.nodeIndex);if(r.dirty){var n,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=No(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),n=Lr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=No(e,0,e.def.nodes.length-1,t.query,[]),n=e.component);r.reset(i);for(var s=t.query.bindings,a=!1,c=0;c<s.length;c++){var u=s[c],l=void 0;switch(u.bindingType){case 0:l=r.first;break;case 1:l=r,a=!0}n[u.propName]=l}a&&r.notifyOnChanges()}}function No(e,t,r,n,i){for(var o=t;o<=r;o++){var s=e.def.nodes[o],a=s.matchedQueries[n.id];if(null!=a&&i.push(Fo(e,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&n.filterId)===n.filterId){var c=Ar(e,o);if((s.childMatchedQueries&n.filterId)===n.filterId&&(No(e,o+1,o+s.childCount,n,i),o+=s.childCount),16777216&s.flags)for(var u=c.viewContainer._embeddedViews,l=0;l<u.length;l++){var d=u[l],p=Yr(d);p&&p===c&&No(d,0,d.def.nodes.length-1,n,i)}var h=c.template._projectedViews;if(h)for(l=0;l<h.length;l++){var f=h[l];No(f,0,f.def.nodes.length-1,n,i)}}(s.childMatchedQueries&n.filterId)!==n.filterId&&(o+=s.childCount)}return i}function Fo(e,t,r){if(null!=r)switch(r){case 1:return Ar(e,t.nodeIndex).renderElement;case 0:return new rr(Ar(e,t.nodeIndex).renderElement);case 2:return Ar(e,t.nodeIndex).template;case 3:return Ar(e,t.nodeIndex).viewContainer;case 4:return Lr(e,t.nodeIndex).instance}}function Bo(e,t,r){var n=sn(e,t,r);n&&dn(e,r.ngContent.index,1,n,null,void 0)}function Uo(e,t,r){for(var n=new Array(r.length-1),i=1;i<r.length;i++)n[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:r[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:n,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:r[0]},query:null,ngContent:null}}function Vo(e,t,r){var n,i=e.renderer;n=i.createText(r.text.prefix);var o=sn(e,t,r);return o&&i.appendChild(o,n),{renderText:n}}function zo(e,t){return(null!=e?e.toString():\"\")+t.suffix}function Ho(e,t,r,n){for(var i=0,o=0,s=0,a=0,c=0,u=null,l=null,d=!1,p=!1,h=null,f=0;f<t.length;f++){var m=t[f];if(m.nodeIndex=f,m.parent=u,m.bindingIndex=i,m.outputIndex=o,m.renderParent=l,s|=m.flags,c|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,d=!1,p=!1,m.element.template&&(c|=m.element.template.nodeMatchedQueries)}if(Go(u,m,t.length),i+=m.bindings.length,o+=m.outputs.length,!l&&3&m.flags&&(h=m),20224&m.flags){d||(d=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?u.element.publicProviders[zr(m.provider.token)]=m:(p||(p=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[zr(m.provider.token)]=m),y&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,m.childCount>0)u=m,qo(m)||(l=m);else for(;u&&f===u.nodeIndex+u.childCount;){var v=u.parent;v&&(v.childFlags|=u.childFlags,v.childMatchedQueries|=u.childMatchedQueries),l=(u=v)&&qo(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:c,flags:e,nodes:t,updateDirectives:r||Ur,updateRenderer:n||Ur,handleEvent:function(e,r,n,i){return t[r].element.handleEvent(e,n,i)},bindingCount:i,outputCount:o,lastRenderRootNode:h}}function qo(e){return 0!=(1&e.flags)&&null===e.element.name}function Go(e,t,r){var n=t.element&&t.element.template;if(n){if(!n.lastRenderRootNode)throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");if(n.lastRenderRootNode&&16777216&n.lastRenderRootNode.flags)throw new Error(\"Illegal State: Last root node of a template can't have embedded views, at index \"+t.nodeIndex+\"!\")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(\"Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index \"+t.nodeIndex+\"!\");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(\"Illegal State: Content Query nodes need to be children of directives, at index \"+t.nodeIndex+\"!\");if(134217728&t.flags&&e)throw new Error(\"Illegal State: View Query nodes have to be top level nodes, at index \"+t.nodeIndex+\"!\")}if(t.childCount){var i=e?e.nodeIndex+e.childCount:r-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(\"Illegal State: childCount of node leads outside of parent, at index \"+t.nodeIndex+\"!\")}}function Wo(e,t,r,n){var i=Qo(e.root,e.renderer,e,t,r);return Zo(i,e.component,n),Yo(i),i}function $o(e,t,r){var n=Qo(e,e.renderer,null,null,t);return Zo(n,r,r),Yo(n),n}function Ko(e,t,r,n){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(n,o):e.root.renderer,Qo(e.root,i,e,t.element.componentProvider,r)}function Qo(e,t,r,n,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:r,viewContainerParent:null,parentNodeDef:n,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Zo(e,t,r){e.component=t,e.context=r}function Yo(e){var t;tn(e)&&(t=Ar(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var r=e.def,n=e.nodes,i=0;i<r.nodes.length;i++){var o=r.nodes[i];Br.setCurrentNode(e,i);var s=void 0;switch(201347067&o.flags){case 1:var a=Io(e,t,o),c=void 0;if(33554432&o.flags){var u=cn(o.element.componentView);c=Br.createComponentView(e,o,u,a)}Do(e,c,o,a),s={renderElement:a,componentView:c,viewContainer:null,template:o.element.template?An(e,o):void 0},16777216&o.flags&&(s.viewContainer=In(e,o,s));break;case 2:s=Vo(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=n[i])||4096&o.flags||(s={instance:Xn(e,o)});break;case 16:s={instance:ei(e,o)};break;case 16384:(s=n[i])||(s={instance:ti(e,o)}),32768&o.flags&&Zo(Ar(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new bi;break;case 8:Bo(e,t,o),s=void 0}n[i]=s}ss(e,os.CreateViewNodes),ls(e,201326592,268435456,0)}function Jo(e){ts(e),Br.updateDirectives(e,1),as(e,os.CheckNoChanges),Br.updateRenderer(e,1),ss(e,os.CheckNoChanges),e.state&=-97}function Xo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Dr(e,0,256),ts(e),Br.updateDirectives(e,0),as(e,os.CheckAndUpdate),ls(e,67108864,536870912,0);var t=Dr(e,256,512);ui(e,2097152|(t?1048576:0)),Br.updateRenderer(e,0),ss(e,os.CheckAndUpdate),ls(e,134217728,536870912,0),ui(e,8388608|((t=Dr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Dr(e,768,1024)}function es(e,t,r,i,o,s,a,c,u,l,d,p,h){return 0===r?function(e,t,r,n,i,o,s,a,c,u,l,d){switch(201347067&t.flags){case 1:return function(e,t,r,n,i,o,s,a,c,u,l,d){var p=t.bindings.length,h=!1;return p>0&&jo(e,t,0,r)&&(h=!0),p>1&&jo(e,t,1,n)&&(h=!0),p>2&&jo(e,t,2,i)&&(h=!0),p>3&&jo(e,t,3,o)&&(h=!0),p>4&&jo(e,t,4,s)&&(h=!0),p>5&&jo(e,t,5,a)&&(h=!0),p>6&&jo(e,t,6,c)&&(h=!0),p>7&&jo(e,t,7,u)&&(h=!0),p>8&&jo(e,t,8,l)&&(h=!0),p>9&&jo(e,t,9,d)&&(h=!0),h}(e,t,r,n,i,o,s,a,c,u,l,d);case 2:return function(e,t,r,n,i,o,s,a,c,u,l,d){var p=!1,h=t.bindings,f=h.length;if(f>0&&Wr(e,t,0,r)&&(p=!0),f>1&&Wr(e,t,1,n)&&(p=!0),f>2&&Wr(e,t,2,i)&&(p=!0),f>3&&Wr(e,t,3,o)&&(p=!0),f>4&&Wr(e,t,4,s)&&(p=!0),f>5&&Wr(e,t,5,a)&&(p=!0),f>6&&Wr(e,t,6,c)&&(p=!0),f>7&&Wr(e,t,7,u)&&(p=!0),f>8&&Wr(e,t,8,l)&&(p=!0),f>9&&Wr(e,t,9,d)&&(p=!0),p){var m=t.text.prefix;f>0&&(m+=zo(r,h[0])),f>1&&(m+=zo(n,h[1])),f>2&&(m+=zo(i,h[2])),f>3&&(m+=zo(o,h[3])),f>4&&(m+=zo(s,h[4])),f>5&&(m+=zo(a,h[5])),f>6&&(m+=zo(c,h[6])),f>7&&(m+=zo(u,h[7])),f>8&&(m+=zo(l,h[8])),f>9&&(m+=zo(d,h[9]));var g=jr(e,t.nodeIndex).renderText;e.renderer.setValue(g,m)}return p}(e,t,r,n,i,o,s,a,c,u,l,d);case 16384:return function(e,t,r,n,i,o,s,a,c,u,l,d){var p=Lr(e,t.nodeIndex),h=p.instance,f=!1,m=void 0,g=t.bindings.length;return g>0&&Gr(e,t,0,r)&&(f=!0,m=ci(e,p,t,0,r,m)),g>1&&Gr(e,t,1,n)&&(f=!0,m=ci(e,p,t,1,n,m)),g>2&&Gr(e,t,2,i)&&(f=!0,m=ci(e,p,t,2,i,m)),g>3&&Gr(e,t,3,o)&&(f=!0,m=ci(e,p,t,3,o,m)),g>4&&Gr(e,t,4,s)&&(f=!0,m=ci(e,p,t,4,s,m)),g>5&&Gr(e,t,5,a)&&(f=!0,m=ci(e,p,t,5,a,m)),g>6&&Gr(e,t,6,c)&&(f=!0,m=ci(e,p,t,6,c,m)),g>7&&Gr(e,t,7,u)&&(f=!0,m=ci(e,p,t,7,u,m)),g>8&&Gr(e,t,8,l)&&(f=!0,m=ci(e,p,t,8,l,m)),g>9&&Gr(e,t,9,d)&&(f=!0,m=ci(e,p,t,9,d,m)),m&&h.ngOnChanges(m),65536&t.flags&&Mr(e,256,t.nodeIndex)&&h.ngOnInit(),262144&t.flags&&h.ngDoCheck(),f}(e,t,r,n,i,o,s,a,c,u,l,d);case 32:case 64:case 128:return function(e,t,r,n,i,o,s,a,c,u,l,d){var p=t.bindings,h=!1,f=p.length;if(f>0&&Wr(e,t,0,r)&&(h=!0),f>1&&Wr(e,t,1,n)&&(h=!0),f>2&&Wr(e,t,2,i)&&(h=!0),f>3&&Wr(e,t,3,o)&&(h=!0),f>4&&Wr(e,t,4,s)&&(h=!0),f>5&&Wr(e,t,5,a)&&(h=!0),f>6&&Wr(e,t,6,c)&&(h=!0),f>7&&Wr(e,t,7,u)&&(h=!0),f>8&&Wr(e,t,8,l)&&(h=!0),f>9&&Wr(e,t,9,d)&&(h=!0),h){var m=Nr(e,t.nodeIndex),g=void 0;switch(201347067&t.flags){case 32:g=new Array(p.length),f>0&&(g[0]=r),f>1&&(g[1]=n),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=c),f>7&&(g[7]=u),f>8&&(g[8]=l),f>9&&(g[9]=d);break;case 64:g={},f>0&&(g[p[0].name]=r),f>1&&(g[p[1].name]=n),f>2&&(g[p[2].name]=i),f>3&&(g[p[3].name]=o),f>4&&(g[p[4].name]=s),f>5&&(g[p[5].name]=a),f>6&&(g[p[6].name]=c),f>7&&(g[p[7].name]=u),f>8&&(g[p[8].name]=l),f>9&&(g[p[9].name]=d);break;case 128:var y=r;switch(f){case 1:g=y.transform(r);break;case 2:g=y.transform(n);break;case 3:g=y.transform(n,i);break;case 4:g=y.transform(n,i,o);break;case 5:g=y.transform(n,i,o,s);break;case 6:g=y.transform(n,i,o,s,a);break;case 7:g=y.transform(n,i,o,s,a,c);break;case 8:g=y.transform(n,i,o,s,a,c,u);break;case 9:g=y.transform(n,i,o,s,a,c,u,l);break;case 10:g=y.transform(n,i,o,s,a,c,u,l,d)}}m.value=g}return h}(e,t,r,n,i,o,s,a,c,u,l,d);default:throw\"unreachable\"}}(e,t,i,o,s,a,c,u,l,d,p,h):function(e,t,r){switch(201347067&t.flags){case 1:return function(e,t,r){for(var n=!1,i=0;i<r.length;i++)jo(e,t,i,r[i])&&(n=!0);return n}(e,t,r);case 2:return function(e,t,r){for(var n=t.bindings,i=!1,o=0;o<r.length;o++)Wr(e,t,o,r[o])&&(i=!0);if(i){var s=\"\";for(o=0;o<r.length;o++)s+=zo(r[o],n[o]);s=t.text.prefix+s;var a=jr(e,t.nodeIndex).renderText;e.renderer.setValue(a,s)}return i}(e,t,r);case 16384:return function(e,t,r){for(var n=Lr(e,t.nodeIndex),i=n.instance,o=!1,s=void 0,a=0;a<r.length;a++)Gr(e,t,a,r[a])&&(o=!0,s=ci(e,n,t,a,r[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&Mr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,r);case 32:case 64:case 128:return function(e,t,r){for(var i=t.bindings,o=!1,s=0;s<r.length;s++)Wr(e,t,s,r[s])&&(o=!0);if(o){var a=Nr(e,t.nodeIndex),c=void 0;switch(201347067&t.flags){case 32:c=r;break;case 64:for(c={},s=0;s<r.length;s++)c[i[s].name]=r[s];break;case 128:var u=r[0],l=r.slice(1);c=u.transform.apply(u,Object(n.__spread)(l))}a.value=c}return o}(e,t,r);default:throw\"unreachable\"}}(e,t,i)}function ts(e){var t=e.def;if(4&t.nodeFlags)for(var r=0;r<t.nodes.length;r++){var n=t.nodes[r];if(4&n.flags){var i=Ar(e,r).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,Qr(s,e)}}else 0==(4&n.childFlags)&&(r+=n.childCount)}}function rs(e,t,r,n,i,o,s,a,c,u,l,d,p){return 0===r?function(e,t,r,n,i,o,s,a,c,u,l,d){var p=t.bindings.length;p>0&&$r(e,t,0,r),p>1&&$r(e,t,1,n),p>2&&$r(e,t,2,i),p>3&&$r(e,t,3,o),p>4&&$r(e,t,4,s),p>5&&$r(e,t,5,a),p>6&&$r(e,t,6,c),p>7&&$r(e,t,7,u),p>8&&$r(e,t,8,l),p>9&&$r(e,t,9,d)}(e,t,n,i,o,s,a,c,u,l,d,p):function(e,t,r){for(var n=0;n<r.length;n++)$r(e,t,n,r[n])}(e,t,n),!1}function ns(e,t){if(Fr(e,t.nodeIndex).dirty)throw Pr(Br.createDebugContext(e,t.nodeIndex),\"Query \"+t.query.id+\" not dirty\",\"Query \"+t.query.id+\" dirty\",0!=(1&e.state))}function is(e){if(!(128&e.state)){if(as(e,os.Destroy),ss(e,os.Destroy),ui(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Yr(e);if(t){var r=t.template._projectedViews;r&&(Ue(r,r.indexOf(e)),Br.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,r=0;r<t;r++){var n=e.def.nodes[r];1&n.flags?e.renderer.destroyNode(Ar(e,r).renderElement):2&n.flags?e.renderer.destroyNode(jr(e,r).renderText):(67108864&n.flags||134217728&n.flags)&&Fr(e,r).destroy()}}(e),tn(e)&&e.renderer.destroy(),e.state|=128}}var os=function(e){return e[e.CreateViewNodes=0]=\"CreateViewNodes\",e[e.CheckNoChanges=1]=\"CheckNoChanges\",e[e.CheckNoChangesProjectedViews=2]=\"CheckNoChangesProjectedViews\",e[e.CheckAndUpdate=3]=\"CheckAndUpdate\",e[e.CheckAndUpdateProjectedViews=4]=\"CheckAndUpdateProjectedViews\",e[e.Destroy=5]=\"Destroy\",e}({});function ss(e,t){var r=e.def;if(33554432&r.nodeFlags)for(var n=0;n<r.nodes.length;n++){var i=r.nodes[n];33554432&i.flags?cs(Ar(e,n).componentView,t):0==(33554432&i.childFlags)&&(n+=i.childCount)}}function as(e,t){var r=e.def;if(16777216&r.nodeFlags)for(var n=0;n<r.nodes.length;n++){var i=r.nodes[n];if(16777216&i.flags)for(var o=Ar(e,n).viewContainer._embeddedViews,s=0;s<o.length;s++)cs(o[s],t);else 0==(16777216&i.childFlags)&&(n+=i.childCount)}}function cs(e,t){var r=e.state;switch(t){case os.CheckNoChanges:0==(128&r)&&(12==(12&r)?Jo(e):64&r&&us(e,os.CheckNoChangesProjectedViews));break;case os.CheckNoChangesProjectedViews:0==(128&r)&&(32&r?Jo(e):64&r&&us(e,t));break;case os.CheckAndUpdate:0==(128&r)&&(12==(12&r)?Xo(e):64&r&&us(e,os.CheckAndUpdateProjectedViews));break;case os.CheckAndUpdateProjectedViews:0==(128&r)&&(32&r?Xo(e):64&r&&us(e,t));break;case os.Destroy:is(e);break;case os.CreateViewNodes:Yo(e)}}function us(e,t){as(e,t),ss(e,t)}function ls(e,t,r,n){if(e.def.nodeFlags&t&&e.def.nodeFlags&r)for(var i=e.def.nodes.length,o=0;o<i;o++){var s=e.def.nodes[o];if(s.flags&t&&s.flags&r)switch(Br.setCurrentNode(e,s.nodeIndex),n){case 0:Lo(e,s);break;case 1:ns(e,s)}s.childFlags&t&&s.childFlags&r||(o+=s.childCount)}}var ds=!1;function ps(e,t,r,n,i,o){var s=i.injector.get(or);return $o(fs(e,i,s,t,r),n,o)}function hs(e,t,r,n,i,o){var s=i.injector.get(or),a=fs(e,i,new $s(s),t,r),c=Rs(n);return Gs(Ms.create,$o,null,[a,c,o])}function fs(e,t,r,n,i){var o=t.injector.get(vt),s=t.injector.get(We),a=r.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:n,selectorOrNode:i,sanitizer:o,rendererFactory:r,renderer:a,errorHandler:s}}function ms(e,t,r,n){var i=Rs(r);return Gs(Ms.create,Wo,null,[e,t,i,n])}function gs(e,t,r,n){return r=_s.get(t.element.componentProvider.provider.token)||Rs(r),Gs(Ms.create,Ko,null,[e,t,r,n])}function ys(e,t,r,n){return zn(e,t,r,function(e){var t=function(e){var t=!1,r=!1;return 0===vs.size||(e.providers.forEach((function(e){var n=vs.get(e.token);3840&e.flags&&n&&(t=!0,r=r||n.deprecatedBehavior)})),e.modules.forEach((function(e){bs.forEach((function(n,i){ge(i).providedIn===e&&(t=!0,r=r||n.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:r}}(e),r=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=vs.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=on(i.deps),n.value=i.value)}if(bs.size>0){var o=new Set(e.modules);bs.forEach((function(t,n){if(o.has(ge(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:on(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[zr(n)]=i}}))}}(e=e.factory((function(){return Ur}))),e):e}(n))}var vs=new Map,bs=new Map,_s=new Map;function ws(e){var t;vs.set(e.token,e),\"function\"==typeof e.token&&(t=ge(e.token))&&\"function\"==typeof t.providedIn&&bs.set(e.token,e)}function Ss(e,t){var r=cn(t.viewDefFactory),n=cn(r.nodes[0].element.componentView);_s.set(e,n)}function Cs(){vs.clear(),bs.clear(),_s.clear()}function Rs(e){if(0===vs.size)return e;var t=function(e){for(var t=[],r=null,n=0;n<e.nodes.length;n++){var i=e.nodes[n];1&i.flags&&(r=i),r&&3840&i.flags&&vs.has(i.provider.token)&&(t.push(r.nodeIndex),r=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return Ur}));for(var r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(var r=t+1;r<e.nodes.length;r++){var n=e.nodes[r];if(1&n.flags)return;if(3840&n.flags){var i=n.provider,o=vs.get(i.token);o&&(n.flags=-3841&n.flags|o.flags,i.deps=on(o.deps),i.value=o.value)}}}}function xs(e,t,r,n,i,o,s,a,c,u,l,d,p){var h=e.def.nodes[t];return es(e,h,r,n,i,o,s,a,c,u,l,d,p),224&h.flags?Nr(e,t).value:void 0}function Ts(e,t,r,n,i,o,s,a,c,u,l,d,p){var h=e.def.nodes[t];return rs(e,h,r,n,i,o,s,a,c,u,l,d,p),224&h.flags?Nr(e,t).value:void 0}function ks(e){return Gs(Ms.detectChanges,Xo,null,[e])}function Es(e){return Gs(Ms.checkNoChanges,Jo,null,[e])}function Ps(e){return Gs(Ms.destroy,is,null,[e])}var Os,Is,Ds,Ms=function(e){return e[e.create=0]=\"create\",e[e.detectChanges=1]=\"detectChanges\",e[e.checkNoChanges=2]=\"checkNoChanges\",e[e.destroy=3]=\"destroy\",e[e.handleEvent=4]=\"handleEvent\",e}({});function js(e,t){Is=e,Ds=t}function As(e,t,r,n){return js(e,t),Gs(Ms.handleEvent,e.def.handleEvent,null,[e,t,r,n])}function Ls(e,t){if(128&e.state)throw Ir(Ms[Os]);return js(e,Us(e,0)),e.def.updateDirectives((function(e,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=e.def.nodes[r];return 0===t?Fs(e,s,n,i):Bs(e,s,n,i),16384&s.flags&&js(e,Us(e,r)),224&s.flags?Nr(e,s.nodeIndex).value:void 0}),e)}function Ns(e,t){if(128&e.state)throw Ir(Ms[Os]);return js(e,Vs(e,0)),e.def.updateRenderer((function(e,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=e.def.nodes[r];return 0===t?Fs(e,s,n,i):Bs(e,s,n,i),3&s.flags&&js(e,Vs(e,r)),224&s.flags?Nr(e,s.nodeIndex).value:void 0}),e)}function Fs(e,t,r,i){if(es.apply(void 0,Object(n.__spread)([e,t,r],i))){var o=1===r?i[0]:i;if(16384&t.flags){for(var s={},a=0;a<t.bindings.length;a++){var c=t.bindings[a],u=o[a];8&c.flags&&(s[wt(c.nonMinifiedName)]=Ct(u))}var l=t.parent,d=Ar(e,l.nodeIndex).renderElement;if(l.element.name)for(var p in s)null!=(u=s[p])?e.renderer.setAttribute(d,p,u):e.renderer.removeAttribute(d,p);else e.renderer.setValue(d,\"bindings=\"+JSON.stringify(s,null,2))}}}function Bs(e,t,r,i){rs.apply(void 0,Object(n.__spread)([e,t,r],i))}function Us(e,t){for(var r=t;r<e.def.nodes.length;r++){var n=e.def.nodes[r];if(16384&n.flags&&n.bindings&&n.bindings.length)return r}return null}function Vs(e,t){for(var r=t;r<e.def.nodes.length;r++){var n=e.def.nodes[r];if(3&n.flags&&n.bindings&&n.bindings.length)return r}return null}var zs=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var r=this.nodeDef,n=e;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&n;)r=Jr(n),n=n.parent;this.elDef=r,this.elView=n}return Object.defineProperty(e.prototype,\"elOrCompView\",{get:function(){return Ar(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"injector\",{get:function(){return Nn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"component\",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"providerTokens\",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var r=this.elView.def.nodes[t];20224&r.flags&&e.push(r.provider.token),t+=r.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"references\",{get:function(){var e={};if(this.elDef){qs(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var r=this.elView.def.nodes[t];20224&r.flags&&qs(this.elView,r,e),t+=r.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentRenderElement\",{get:function(){var e=function(e){for(;e&&!tn(e);)e=e.parent;return e.parent?Ar(e.parent,Jr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"renderNode\",{get:function(){return 2&this.nodeDef.flags?Xr(this.view,this.nodeDef):Xr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(t=this.view.def,r=this.nodeDef.nodeIndex):(t=this.elView.def,r=this.elDef.nodeIndex);var s=Hs(t,r),a=-1,c=function(){var t;return++a===s?(t=e.error).bind.apply(t,Object(n.__spread)([e],i)):Ur};t.factory(c),a<s&&(e.error(\"Illegal state: the ViewDefinitionFactory did not call the logger!\"),e.error.apply(e,Object(n.__spread)(i)))},e}();function Hs(e,t){for(var r=-1,n=0;n<=t;n++)3&e.nodes[n].flags&&r++;return r}function qs(e,t,r){for(var n in t.references)r[n]=Fo(e,t,t.references[n])}function Gs(e,t,r,n){var i=Os,o=Is,s=Ds;try{Os=e;var a=t.apply(r,n);return Is=o,Ds=s,Os=i,a}catch(c){if(He(c)||!Is)throw c;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Or(e,t),e}(c,Ws())}}function Ws(){return Is?new zs(Is,Ds):null}var $s=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new Ks(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),Ks=function(){function e(e){this.delegate=e,this.debugContextFactory=Ws,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){var t=wo(e);!function(e){_o.delete(e.nativeNode)}(t),t instanceof vo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var r=this.delegate.createElement(e,t),n=this.createDebugContext(r);if(n){var i=new bo(r,null,n);i.name=e,So(i)}return r},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),r=this.createDebugContext(t);return r&&So(new vo(t,null,r)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),r=this.createDebugContext(t);return r&&So(new vo(t,null,r)),t},e.prototype.appendChild=function(e,t){var r=wo(e),n=wo(t);r&&n&&r instanceof bo&&r.addChild(n),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,r){var n=wo(e),i=wo(t),o=wo(r);n&&i&&n instanceof bo&&n.insertBefore(o,i),this.delegate.insertBefore(e,t,r)},e.prototype.removeChild=function(e,t){var r=wo(e),n=wo(t);r&&n&&r instanceof bo&&r.removeChild(n),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var r=this.delegate.selectRootElement(e,t),n=Ws();return n&&So(new bo(r,null,n)),r},e.prototype.setAttribute=function(e,t,r,n){var i=wo(e);i&&i instanceof bo&&(i.attributes[n?n+\":\"+t:t]=r),this.delegate.setAttribute(e,t,r,n)},e.prototype.removeAttribute=function(e,t,r){var n=wo(e);n&&n instanceof bo&&(n.attributes[r?r+\":\"+t:t]=null),this.delegate.removeAttribute(e,t,r)},e.prototype.addClass=function(e,t){var r=wo(e);r&&r instanceof bo&&(r.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var r=wo(e);r&&r instanceof bo&&(r.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,r,n){var i=wo(e);i&&i instanceof bo&&(i.styles[t]=r),this.delegate.setStyle(e,t,r,n)},e.prototype.removeStyle=function(e,t,r){var n=wo(e);n&&n instanceof bo&&(n.styles[t]=null),this.delegate.removeStyle(e,t,r)},e.prototype.setProperty=function(e,t,r){var n=wo(e);n&&n instanceof bo&&(n.properties[t]=r),this.delegate.setProperty(e,t,r)},e.prototype.listen=function(e,t,r){if(\"string\"!=typeof e){var n=wo(e);n&&n.listeners.push(new yo(t,r))}return this.delegate.listen(e,t,r)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function Qs(e,t,r){return new Zs(e,t,r)}var Zs=function(e){function t(t,r,n){var i=e.call(this)||this;return i.moduleType=t,i._bootstrapComponents=r,i._ngModuleDefFactory=n,i}return Object(n.__extends)(t,e),t.prototype.create=function(e){!function(){if(!ds){ds=!0;var e=Qe()?{setCurrentNode:js,createRootView:hs,createEmbeddedView:ms,createComponentView:gs,createNgModuleRef:ys,overrideProvider:ws,overrideComponentView:Ss,clearOverrides:Cs,checkAndUpdateView:ks,checkNoChangesView:Es,destroyView:Ps,createDebugContext:function(e,t){return new zs(e,t)},handleEvent:As,updateDirectives:Ls,updateRenderer:Ns}:{setCurrentNode:function(){},createRootView:ps,createEmbeddedView:Wo,createComponentView:Ko,createNgModuleRef:zn,overrideProvider:Ur,overrideComponentView:Ur,clearOverrides:Ur,checkAndUpdateView:Xo,checkNoChangesView:Jo,destroyView:is,createDebugContext:function(e,t){return new zs(e,t)},handleEvent:function(e,t,r,n){return e.def.handleEvent(e,t,r,n)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?xs:Ts,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?xs:Ts,e)}};Br.setCurrentNode=e.setCurrentNode,Br.createRootView=e.createRootView,Br.createEmbeddedView=e.createEmbeddedView,Br.createComponentView=e.createComponentView,Br.createNgModuleRef=e.createNgModuleRef,Br.overrideProvider=e.overrideProvider,Br.overrideComponentView=e.overrideComponentView,Br.clearOverrides=e.clearOverrides,Br.checkAndUpdateView=e.checkAndUpdateView,Br.checkNoChangesView=e.checkNoChangesView,Br.destroyView=e.destroyView,Br.resolveDep=si,Br.createDebugContext=e.createDebugContext,Br.handleEvent=e.handleEvent,Br.updateDirectives=e.updateDirectives,Br.updateRenderer=e.updateRenderer,Br.dirtyParentQueries=Ao}}();var t=function(e){var t=Array.from(e.providers),r=Array.from(e.modules),n={};for(var i in e.providersByKey)n[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:r,providersByKey:n}}(cn(this._ngModuleDefFactory));return Br.createNgModuleRef(this.moduleType,e||Et.NULL,this._bootstrapComponents,t)},t}(Fe),Ys=\"http://localhost:8080/\",Js=function(){return function(){}}(),Xs=function(){return function(){this.title=\"neonangular\"}}(),ea=function(){return function(){}}(),ta=new ke(\"Location Initialized\"),ra=function(){return function(){}}(),na=new ke(\"appBaseHref\"),ia=function(){function e(e,r){var n=this;this._subject=new yi,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=t.stripTrailingSlash(oa(i)),this._platformStrategy.onPopState((function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})}))}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.getState=function(){return this._platformLocation.getState()},e.prototype.isCurrentPathEqualTo=function(e,r){return void 0===r&&(r=\"\"),this.path()==this.normalize(e+t.normalizeQueryParams(r))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,oa(e)))},e.prototype.prepareExternalUrl=function(e){return e&&\"/\"!==e[0]&&(e=\"/\"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,r,n){void 0===r&&(r=\"\"),void 0===n&&(n=null),this._platformStrategy.pushState(n,\"\",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(r)),n)},e.prototype.replaceState=function(e,r,n){void 0===r&&(r=\"\"),void 0===n&&(n=null),this._platformStrategy.replaceState(n,\"\",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(r)),n)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.onUrlChange=function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))},e.prototype._notifyUrlChangeListeners=function(e,t){void 0===e&&(e=\"\"),this._urlChangeListeners.forEach((function(r){return r(e,t)}))},e.prototype.subscribe=function(e,t,r){return this._subject.subscribe({next:e,error:t,complete:r})},e.normalizeQueryParams=function(e){return e&&\"?\"!==e[0]?\"?\"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var r=0;return e.endsWith(\"/\")&&r++,t.startsWith(\"/\")&&r++,2==r?e+t.substring(1):1==r?e+t:e+\"/\"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\\?|$/),r=t&&t.index||e.length;return e.slice(0,r-(\"/\"===e[r-1]?1:0))+e.slice(r)},e}();function oa(e){return e.replace(/\\/index.html$/,\"\")}var sa=function(e){function t(t,r){var n=e.call(this)||this;return n._platformLocation=t,n._baseHref=\"\",null!=r&&(n._baseHref=r),n}return Object(n.__extends)(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t=\"#\"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=ia.joinWithSlash(this._baseHref,e);return t.length>0?\"#\"+t:t},t.prototype.pushState=function(e,t,r,n){var i=this.prepareExternalUrl(r+ia.normalizeQueryParams(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,r,n){var i=this.prepareExternalUrl(r+ia.normalizeQueryParams(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(ra),aa=function(e){function t(t,r){var n=e.call(this)||this;if(n._platformLocation=t,null==r&&(r=n._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");return n._baseHref=r,n}return Object(n.__extends)(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return ia.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+ia.normalizeQueryParams(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?\"\"+t+r:t},t.prototype.pushState=function(e,t,r,n){var i=this.prepareExternalUrl(r+ia.normalizeQueryParams(n));this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,r,n){var i=this.prepareExternalUrl(r+ia.normalizeQueryParams(n));this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(ra),ca=function(e){return e[e.Zero=0]=\"Zero\",e[e.One=1]=\"One\",e[e.Two=2]=\"Two\",e[e.Few=3]=\"Few\",e[e.Many=4]=\"Many\",e[e.Other=5]=\"Other\",e}({}),ua=new ke(\"UseV4Plurals\"),la=function(){return function(){}}(),da=function(e){function t(t,r){var n=e.call(this)||this;return n.locale=t,n.deprecatedPluralFn=r,n}return Object(n.__extends)(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,\"-\"),r=hi[t];if(r)return r;var n=t.split(\"-\")[0];if(r=hi[n])return r;if(\"en\"===n)return gi;throw new Error('Missing locale data for the locale \"'+e+'\".')}(e)[fi.PluralCase]}(t||this.locale)(e)){case ca.Zero:return\"zero\";case ca.One:return\"one\";case ca.Two:return\"two\";case ca.Few:return\"few\";case ca.Many:return\"many\";default:return\"other\"}},t}(la);function pa(e,t){var r,i;t=encodeURIComponent(t);try{for(var o=Object(n.__values)(e.split(\";\")),s=o.next();!s.done;s=o.next()){var a=s.value,c=a.indexOf(\"=\"),u=Object(n.__read)(-1==c?[a,\"\"]:[a.slice(0,c),a.slice(c+1)],2),l=u[1];if(u[0].trim()===t)return decodeURIComponent(l)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return null}var ha=function(){function e(e,t){this._viewContainer=e,this._context=new fa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,\"ngIf\",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngIfThen\",{set:function(e){ma(\"ngIfThen\",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngIfElse\",{set:function(e){ma(\"ngIfElse\",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e}(),fa=function(){return function(){this.$implicit=null,this.ngIf=null}}();function ma(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+\" must be a TemplateRef, but received '\"+ve(t)+\"'.\")}var ga=function(){return function(){}}(),ya=new ke(\"DocumentToken\"),va=function(){function e(){}return e.ngInjectableDef=me({token:e,providedIn:\"root\",factory:function(){return new ba(je(ya),window,je(We))}}),e}(),ba=function(){function e(e,t,r){this.document=e,this.window=t,this.errorHandler=r,this.offset=function(){return[0,0]}}return e.prototype.setOffset=function(e){this.offset=Array.isArray(e)?function(){return e}:e},e.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},e.prototype.scrollToPosition=function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])},e.prototype.scrollToAnchor=function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\\\"|\\'\\ |:|\\.|\\[|\\]|,|=)/g,\"\\\\$1\");try{var t=this.document.querySelector(\"#\"+e);if(t)return void this.scrollToElement(t);var r=this.document.querySelector(\"[name='\"+e+\"']\");if(r)return void this.scrollToElement(r)}catch(n){this.errorHandler.handleError(n)}}},e.prototype.setHistoryScrollRestoration=function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}},e.prototype.scrollToElement=function(e){var t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],n-i[1])},e.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}},e}(),_a=new S((function(e){return e.complete()}));function wa(e){return e?function(e){return new S((function(t){return e.schedule((function(){return t.complete()}))}))}(e):_a}function Sa(e){var t=new S((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function Ca(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];switch(O(r)?e.pop():r=void 0,e.length){case 0:return wa(r);case 1:return r?W(e,r):Sa(e[0]);default:return W(e,r)}}var Ra=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return n.__extends(t,e),Object.defineProperty(t.prototype,\"value\",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(E);function xa(){return Error.call(this),this.message=\"no elements in sequence\",this.name=\"EmptyError\",this}xa.prototype=Object.create(Error.prototype);var Ta=xa,ka={};function Ea(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null,n=null;return O(e[e.length-1])&&(n=e.pop()),\"function\"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&i(e[0])&&(e=e[0]),W(e,n).lift(new Pa(r))}var Pa=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Oa(e,this.resultSelector))},e}(),Oa=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.__extends(t,e),t.prototype._next=function(e){this.values.push(ka),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(V(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,s=this.toRespond?o[r]===ka?--this.toRespond:this.toRespond:0;o[r]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(z);function Ia(e){return new S((function(t){var r;try{r=e()}catch(n){return void t.error(n)}return(r?$(r):wa()).subscribe(t)}))}function Da(){return J(1)}function Ma(e,t){return function(r){return r.lift(new ja(e,t))}}var ja=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Aa(e,this.predicate,this.thisArg))},e}(),Aa=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)},t}(g);function La(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}La.prototype=Object.create(Error.prototype);var Na=La;function Fa(e){return function(t){return 0===e?wa():t.lift(new Ba(e))}}var Ba=function(){function e(e){if(this.total=e,this.total<0)throw new Na}return e.prototype.call=function(e,t){return t.subscribe(new Ua(e,this.total))},e}(),Ua=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return n.__extends(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(g);function Va(e,t,r){return function(n){return n.lift(new za(e,t,r))}}var za=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new Ha(e,this.nextOrObserver,this.error,this.complete))},e}(),Ha=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o._tapNext=b,o._tapError=b,o._tapComplete=b,o._tapError=n||b,o._tapComplete=i||b,s(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||b,o._tapError=r.error||b,o._tapComplete=r.complete||b),o}return n.__extends(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(g),qa=function(e){return void 0===e&&(e=Ga),Va({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function Ga(){return new Ta}function Wa(e){return void 0===e&&(e=null),function(t){return t.lift(new $a(e))}}var $a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Ka(e,this.defaultValue))},e}(),Ka=function(e){function t(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return n.__extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(g);function Qa(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Ma((function(t,r){return e(t,r,n)})):Y,Fa(1),r?Wa(t):qa((function(){return new Ta})))}}function Za(e){return function(t){var r=new Ya(e),n=t.lift(r);return r.caught=n}}var Ya=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Ja(e,this.selector,this.caught))},e}(),Ja=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.selector=r,i.caught=n,i}return n.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var n=new I(this,void 0,void 0);this.add(n),V(this,r,void 0,void 0,n)}},t}(z);function Xa(e){return function(t){return 0===e?wa():t.lift(new ec(e))}}var ec=function(){function e(e){if(this.total=e,this.total<0)throw new Na}return e.prototype.call=function(e,t){return t.subscribe(new tc(e,this.total))},e}(),tc=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return n.__extends(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(g);function rc(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Ma((function(t,r){return e(t,r,n)})):Y,Xa(1),r?Wa(t):qa((function(){return new Ta})))}}var nc=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new ic(e,this.predicate,this.thisArg,this.source))},e}(),ic=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=n,o.source=i,o.index=0,o.thisArg=n||o,o}return n.__extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(g);function oc(e,t){return\"function\"==typeof t?function(r){return r.pipe(oc((function(r,n){return $(e(r,n)).pipe(H((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new sc(e))}}var sc=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new ac(e,this.project))},e}(),ac=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return n.__extends(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new I(this,void 0,void 0);this.destination.add(i),this.innerSubscription=V(this,e,t,r,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t}(z);function cc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Da()(Ca.apply(void 0,e))}function uc(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new lc(e,t,r))}}var lc=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new dc(e,this.accumulator,this.seed,this.hasSeed))},e}(),dc=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.accumulator=r,o._seed=n,o.hasSeed=i,o.index=0,o}return n.__extends(t,e),Object.defineProperty(t.prototype,\"seed\",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(n){this.destination.error(n)}this.seed=t,this.destination.next(t)},t}(g);function pc(e,t){return K(e,t,1)}var hc=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new fc(e,this.callback))},e}(),fc=function(e){function t(t,r){var n=e.call(this,t)||this;return n.add(new u(r)),n}return n.__extends(t,e),t}(g),mc=null;function gc(){return mc}var yc,vc=function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var r=t.createElement(\"div\",document);if(null!=t.getStyle(r,\"animationName\"))t._animationPrefix=\"\";else for(var n=[\"Webkit\",\"Moz\",\"O\",\"ms\"],i=0;i<n.length;i++)if(null!=t.getStyle(r,n[i]+\"AnimationName\")){t._animationPrefix=\"-\"+n[i].toLowerCase()+\"-\";break}var o={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};Object.keys(o).forEach((function(e){null!=t.getStyle(r,e)&&(t._transitionEnd=o[e])}))}catch(s){t._animationPrefix=null,t._transitionEnd=null}return t}return Object(n.__extends)(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,r){e.href=null==r?t:t+\"/../\"+r},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return\"function\"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:\"\"},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:\"\"},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,\"attrToPropMap\",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}()),bc={class:\"className\",innerHtml:\"innerHTML\",readonly:\"readOnly\",tabindex:\"tabIndex\"},_c={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\\x7f\":\"Delete\",\"\\x1b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},wc={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\\x90\":\"NumLock\"},Sc=function(){if(Te.Node)return Te.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),Cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.parse=function(e){throw new Error(\"parse not implemented\")},t.makeCurrent=function(){var e;e=new t,mc||(mc=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,r){e[t]=r},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,r){var i;(i=e)[t].apply(i,Object(n.__spread)(r))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,\"attrToPropMap\",{get:function(){return bc},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return Sc.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,r){e.addEventListener(t,r,!1)},t.prototype.onAndCancel=function(e,t,r){return e.addEventListener(t,r,!1),function(){e.removeEventListener(t,r,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent(\"MouseEvent\");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent(\"Event\");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return\"content\"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,\"content\")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n];return r},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,r){e.replaceChild(t,r)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,r){e.insertBefore(r,t)},t.prototype.insertAllBefore=function(e,t,r){r.forEach((function(r){return e.insertBefore(r,t)}))},t.prototype.insertAfter=function(e,t,r){e.insertBefore(r,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement(\"template\");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,r){return(r=r||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,r){var n=(r=r||this.getDefaultDocument()).createElement(\"SCRIPT\");return n.setAttribute(e,t),n},t.prototype.createStyleElement=function(e,t){var r=(t=t||this.getDefaultDocument()).createElement(\"style\");return this.appendChild(r,this.createTextNode(e,t)),r},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,r){e.style[t]=r},t.prototype.removeStyle=function(e,t){e.style[t]=\"\"},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,r){var n=this.getStyle(e,t)||\"\";return r?n==r:n.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,r=e.attributes,n=0;n<r.length;n++){var i=r.item(n);t.set(i.name,i.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,r){return e.hasAttributeNS(t,r)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,r){return e.getAttributeNS(t,r)},t.prototype.setAttribute=function(e,t,r){e.setAttribute(t,r)},t.prototype.setAttributeNS=function(e,t,r,n){e.setAttributeNS(t,r,n)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,r){e.removeAttributeNS(t,r)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument(\"fakeTitle\")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||\"\"},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&\"TEMPLATE\"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute(\"href\")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return\"Unidentified\";t.startsWith(\"U+\")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&wc.hasOwnProperty(t)&&(t=wc[t]))}return _c[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return\"window\"===t?window:\"document\"===t?e:\"body\"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,r=Rc||(Rc=document.querySelector(\"base\"))?Rc.getAttribute(\"href\"):null;return null==r?null:(t=r,yc||(yc=document.createElement(\"a\")),yc.setAttribute(\"href\",t),\"/\"===yc.pathname.charAt(0)?yc.pathname:\"/\"+yc.pathname)},t.prototype.resetBaseElement=function(){Rc=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,r){this.setAttribute(e,\"data-\"+t,r)},t.prototype.getData=function(e,t){return this.getAttribute(e,\"data-\"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return\"function\"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return pa(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)},t}(vc),Rc=null;function xc(){return!!window.history.pushState}var Tc=function(e){function t(t){var r=e.call(this)||this;return r._doc=t,r._init(),r}return Object(n.__extends)(t,e),t.prototype._init=function(){this.location=gc().getLocation(),this._history=gc().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return gc().getBaseHref(this._doc)},t.prototype.onPopState=function(e){gc().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",e,!1)},t.prototype.onHashChange=function(e){gc().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",e,!1)},Object.defineProperty(t.prototype,\"href\",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"protocol\",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hostname\",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"port\",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pathname\",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"search\",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hash\",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,r){xc()?this._history.pushState(e,t,r):this.location.hash=r},t.prototype.replaceState=function(e,t,r){xc()?this._history.replaceState(e,t,r):this.location.hash=r},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t.prototype.getState=function(){return this._history.state},Object(n.__decorate)([Object(n.__param)(0,ue(ya)),Object(n.__metadata)(\"design:paramtypes\",[Object])],t)}(ea),kc=new ke(\"TRANSITION_ID\"),Ec=[{provide:_i,useFactory:function(e,t,r){return function(){r.get(wi).donePromise.then((function(){var r=gc();Array.prototype.slice.apply(r.querySelectorAll(t,\"style[ng-transition]\")).filter((function(t){return r.getAttribute(t,\"ng-transition\")===e})).forEach((function(e){return r.remove(e)}))}))}},deps:[kc,ya,Et],multi:!0}],Pc=function(){function e(){}return e.init=function(){var t;t=new e,ro=t},e.prototype.addToWindow=function(e){Te.getAngularTestability=function(t,r){void 0===r&&(r=!0);var n=e.findTestabilityInTree(t,r);if(null==n)throw new Error(\"Could not find testability for element.\");return n},Te.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Te.getAllAngularRootElements=function(){return e.getAllRootElements()},Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push((function(e){var t=Te.getAllAngularTestabilities(),r=t.length,n=!1,i=function(t){n=n||t,0==--r&&e(n)};t.forEach((function(e){e.whenStable(i)}))}))},e.prototype.findTestabilityInTree=function(e,t,r){if(null==t)return null;var n=e.getTestability(t);return null!=n?n:r?gc().isShadowRoot(t)?this.findTestabilityInTree(e,gc().getHost(t),!0):this.findTestabilityInTree(e,gc().parentElement(t),!0):null},e}();function Oc(e,t){\"undefined\"!=typeof COMPILED&&COMPILED||((Te.ng=Te.ng||{})[e]=t)}var Ic=function(){return{ApplicationRef:uo,NgZone:Wi}}();function Dc(e){return wo(e)}var Mc=new ke(\"EventManagerPlugins\"),jc=function(){function e(e,t){var r=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach((function(e){return e.manager=r})),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,r){return this._findPluginFor(t).addEventListener(e,t,r)},e.prototype.addGlobalEventListener=function(e,t,r){return this._findPluginFor(t).addGlobalEventListener(e,t,r)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var r=this._plugins,n=0;n<r.length;n++){var i=r[n];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error(\"No event manager plugin found for event \"+e)},e}(),Ac=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,r){var n=gc().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(\"Unsupported event target \"+n+\" for event \"+t);return this.addEventListener(n,t,r)},e}(),Lc=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,r=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),r.add(e))})),this.onStylesAdded(r)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),Nc=function(e){function t(t){var r=e.call(this)||this;return r._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return Object(n.__extends)(t,e),t.prototype._addStylesToHost=function(e,t){var r=this;e.forEach((function(e){var n=r._doc.createElement(\"style\");n.textContent=e,r._styleNodes.add(t.appendChild(n))}))},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach((function(r){return t._addStylesToHost(e,r)}))},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(e){return gc().remove(e)}))},t}(Lc),Fc={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},Bc=/%COMP%/g;function Uc(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?Uc(e,i,r):(i=i.replace(Bc,e),r.push(i))}return r}function Vc(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var zc=function(){function e(e,t,r){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Hc(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ve.Emulated:var r=this.rendererByCompId.get(t.id);return r||(r=new Wc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,r)),r.applyToHost(e),r;case Ve.Native:case Ve.ShadowDom:return new $c(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var n=Uc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Hc=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(Fc[t]||t,e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,r){e&&e.insertBefore(t,r)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var r=\"string\"==typeof e?document.querySelector(e):e;if(!r)throw new Error('The selector \"'+e+'\" did not match any elements');return t||(r.textContent=\"\"),r},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,r,n){if(n){t=n+\":\"+t;var i=Fc[n];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)},e.prototype.removeAttribute=function(e,t,r){if(r){var n=Fc[r];n?e.removeAttributeNS(n,t):e.removeAttribute(r+\":\"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,r,n){n&sr.DashCase?e.style.setProperty(t,r,n&sr.Important?\"important\":\"\"):e.style[t]=r},e.prototype.removeStyle=function(e,t,r){r&sr.DashCase?e.style.removeProperty(t):e.style[t]=\"\"},e.prototype.setProperty=function(e,t,r){Gc(t,\"property\"),e[t]=r},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,r){return Gc(t,\"listener\"),\"string\"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vc(r)):this.eventManager.addEventListener(e,t,Vc(r))},e}(),qc=function(){return\"@\".charCodeAt(0)}();function Gc(e,t){if(e.charCodeAt(0)===qc)throw new Error(\"Found the synthetic \"+t+\" \"+e+'. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.')}var Wc=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;o.component=n;var s=Uc(i+\"-\"+n.id,n.styles,[]);return r.addStyles(s),o.contentAttr=\"_ngcontent-%COMP%\".replace(Bc,i+\"-\"+n.id),o.hostAttr=function(e){return\"_nghost-%COMP%\".replace(Bc,e)}(i+\"-\"+n.id),o}return Object(n.__extends)(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,\"\")},t.prototype.createElement=function(t,r){var n=e.prototype.createElement.call(this,t,r);return e.prototype.setAttribute.call(this,n,this.contentAttr,\"\"),n},t}(Hc),$c=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;o.sharedStylesHost=r,o.hostEl=n,o.component=i,o.shadowRoot=i.encapsulation===Ve.ShadowDom?n.attachShadow({mode:\"open\"}):n.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Uc(i.id,i.styles,[]),a=0;a<s.length;a++){var c=document.createElement(\"style\");c.textContent=s[a],o.shadowRoot.appendChild(c)}return o}return Object(n.__extends)(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,r){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),r)},t.prototype.insertBefore=function(t,r,n){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),r,n)},t.prototype.removeChild=function(t,r){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),r)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Hc),Kc=function(){return\"undefined\"!=typeof Zone&&Zone.__symbol__||function(e){return\"__zone_symbol__\"+e}}(),Qc=Kc(\"addEventListener\"),Zc=Kc(\"removeEventListener\"),Yc={},Jc=\"__zone_symbol__propagationStopped\",Xc=function(){var e=\"undefined\"!=typeof Zone&&Zone[Kc(\"BLACK_LISTED_EVENTS\")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),eu=function(e){return!!Xc&&Xc.hasOwnProperty(e)},tu=function(e){var t=Yc[e.type];if(t){var r=this[t];if(r){var n=[e];if(1===r.length)return(s=r[0]).zone!==Zone.current?s.zone.run(s.handler,this,n):s.handler.apply(this,n);for(var i=r.slice(),o=0;o<i.length&&!0!==e[Jc];o++){var s;(s=i[o]).zone!==Zone.current?s.zone.run(s.handler,this,n):s.handler.apply(this,n)}}}},ru=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.ngZone=r,n&&function(e){return\"server\"===e}(n)||i.patchEvent(),i}return Object(n.__extends)(t,e),t.prototype.patchEvent=function(){if(\"undefined\"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Jc]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,r){var n=this,i=r;if(!e[Qc]||Wi.isInAngularZone()&&!eu(t))e.addEventListener(t,i,!1);else{var o=Yc[t];o||(o=Yc[t]=Kc(\"ANGULAR\"+t+\"FALSE\"));var s=e[o],a=s&&s.length>0;s||(s=e[o]=[]);var c=eu(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:i});else{for(var u=!1,l=0;l<s.length;l++)if(s[l].handler===i){u=!0;break}u||s.push({zone:c,handler:i})}a||e[Qc](t,tu,!1)}return function(){return n.removeEventListener(e,t,i)}},t.prototype.removeEventListener=function(e,t,r){var n=e[Zc];if(!n)return e.removeEventListener.apply(e,[t,r,!1]);var i=Yc[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,r,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===r){s=!0,o.splice(a,1);break}s?0===o.length&&n.apply(e,[t,tu,!1]):e.removeEventListener.apply(e,[t,r,!1])},t}(Ac),nu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},iu=new ke(\"HammerGestureConfig\"),ou=new ke(\"HammerLoader\"),su=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var r in t.get(\"pinch\").set({enable:!0}),t.get(\"rotate\").set({enable:!0}),this.overrides)t.get(r).set(this.overrides[r]);return t},e}(),au=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o._config=r,o.console=n,o.loader=i,o}return Object(n.__extends)(t,e),t.prototype.supports=function(e){return!(!nu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The \"'+e+'\" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,r){var n=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return n.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\"),void(s=function(){});o||(s=n.addEventListener(e,t,r))})).catch((function(){n.console.warn('The \"'+t+'\" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}})),function(){s()}}return i.runOutsideAngular((function(){var o=n._config.buildHammer(e),s=function(e){i.runGuarded((function(){r(e)}))};return o.on(t,s),function(){o.off(t,s),\"function\"==typeof o.destroy&&o.destroy()}}))},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(Ac),cu=[\"alt\",\"control\",\"meta\",\"shift\"],uu={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},lu=function(e){function t(t){return e.call(this,t)||this}var r;return Object(n.__extends)(t,e),r=t,t.prototype.supports=function(e){return null!=r.parseEventName(e)},t.prototype.addEventListener=function(e,t,n){var i=r.parseEventName(t),o=r.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return gc().onAndCancel(e,i.domEventName,o)}))},t.parseEventName=function(e){var t=e.toLowerCase().split(\".\"),n=t.shift();if(0===t.length||\"keydown\"!==n&&\"keyup\"!==n)return null;var i=r._normalizeKey(t.pop()),o=\"\";if(cu.forEach((function(e){var r=t.indexOf(e);r>-1&&(t.splice(r,1),o+=e+\".\")})),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=n,s.fullKey=o,s},t.getEventFullKey=function(e){var t=\"\",r=gc().getEventKey(e);return\" \"===(r=r.toLowerCase())?r=\"space\":\".\"===r&&(r=\"dot\"),cu.forEach((function(n){n!=r&&(0,uu[n])(e)&&(t+=n+\".\")})),t+=r},t.eventCallback=function(e,t,n){return function(i){r.getEventFullKey(i)===e&&n.runGuarded((function(){return t(i)}))}},t._normalizeKey=function(e){switch(e){case\"esc\":return\"escape\";default:return e}},t}(Ac),du=function(){return function(){}}(),pu=function(e){function t(t){var r=e.call(this)||this;return r._doc=t,r}return Object(n.__extends)(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case yt.NONE:return t;case yt.HTML:return t instanceof fu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"HTML\"),function(e,t){var r=null;try{rt=rt||new Ze(e);var n=t?String(t):\"\";r=rt.getInertBodyElement(n);var i=5,o=n;do{if(0===i)throw new Error(\"Failed to sanitize html because the input is unstable\");i--,n=o,o=r.innerHTML,r=rt.getInertBodyElement(n)}while(n!==o);var s=new pt,a=s.sanitizeChildren(gt(r)||r);return Qe()&&s.sanitizedSomething&&console.warn(\"WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss\"),a}finally{if(r)for(var c=gt(r)||r;c.firstChild;)c.removeChild(c.firstChild)}}(this._doc,String(t)));case yt.STYLE:return t instanceof mu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"Style\"),function(e){if(!(e=String(e).trim()))return\"\";var t=e.match(_t);return t&&Xe(t[1])===t[1]||e.match(bt)&&function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var i=e.charAt(n);\"'\"===i&&r?t=!t:'\"'===i&&t&&(r=!r)}return t&&r}(e)?e:(Qe()&&console.warn(\"WARNING: sanitizing unsafe style value \"+e+\" (see http://g.co/ng/security#xss).\"),\"unsafe\")}(t));case yt.SCRIPT:if(t instanceof gu)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,\"Script\"),new Error(\"unsafe value used in a script context\");case yt.URL:return t instanceof vu||t instanceof yu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"URL\"),Xe(String(t)));case yt.RESOURCE_URL:if(t instanceof vu)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,\"ResourceURL\"),new Error(\"unsafe value used in a resource URL context (see http://g.co/ng/security#xss)\");default:throw new Error(\"Unexpected SecurityContext \"+e+\" (see http://g.co/ng/security#xss)\")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof hu)throw new Error(\"Required a safe \"+t+\", got a \"+e.getTypeName()+\" (see http://g.co/ng/security#xss)\")},t.prototype.bypassSecurityTrustHtml=function(e){return new fu(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new mu(e)},t.prototype.bypassSecurityTrustScript=function(e){return new gu(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new yu(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new vu(e)},t}(du),hu=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return\"SafeValue must use [property]=binding: \"+this.changingThisBreaksApplicationSecurity+\" (see http://g.co/ng/security#xss)\"},e}(),fu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getTypeName=function(){return\"HTML\"},t}(hu),mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getTypeName=function(){return\"Style\"},t}(hu),gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getTypeName=function(){return\"Script\"},t}(hu),yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getTypeName=function(){return\"URL\"},t}(hu),vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getTypeName=function(){return\"ResourceURL\"},t}(hu),bu=oo(Co,\"browser\",[{provide:Ti,useValue:\"browser\"},{provide:xi,useValue:function(){Cc.makeCurrent(),Pc.init()},multi:!0},{provide:ea,useClass:Tc,deps:[ya]},{provide:ya,useFactory:function(){return document},deps:[]}]);function _u(){return new We}var wu=function(){function e(e){if(e)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Si,useValue:e.appId},{provide:kc,useExisting:Si},Ec]}},e}();\"undefined\"!=typeof window&&window;var Su=function(){return function(e,t){this.id=e,this.url=t}}(),Cu=function(e){function t(t,r,n,i){void 0===n&&(n=\"imperative\"),void 0===i&&(i=null);var o=e.call(this,t,r)||this;return o.navigationTrigger=n,o.restoredState=i,o}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"NavigationStart(id: \"+this.id+\", url: '\"+this.url+\"')\"},t}(Su),Ru=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.urlAfterRedirects=n,i}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"NavigationEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"')\"},t}(Su),xu=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.reason=n,i}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"NavigationCancel(id: \"+this.id+\", url: '\"+this.url+\"')\"},t}(Su),Tu=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.error=n,i}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"NavigationError(id: \"+this.id+\", url: '\"+this.url+\"', error: \"+this.error+\")\"},t}(Su),ku=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.urlAfterRedirects=n,o.state=i,o}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"RoutesRecognized(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(Su),Eu=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.urlAfterRedirects=n,o.state=i,o}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"GuardsCheckStart(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(Su),Pu=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r)||this;return s.urlAfterRedirects=n,s.state=i,s.shouldActivate=o,s}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"GuardsCheckEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\", shouldActivate: \"+this.shouldActivate+\")\"},t}(Su),Ou=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.urlAfterRedirects=n,o.state=i,o}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"ResolveStart(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(Su),Iu=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.urlAfterRedirects=n,o.state=i,o}return Object(n.__extends)(t,e),t.prototype.toString=function(){return\"ResolveEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(Su),Du=function(){function e(e){this.route=e}return e.prototype.toString=function(){return\"RouteConfigLoadStart(path: \"+this.route.path+\")\"},e}(),Mu=function(){function e(e){this.route=e}return e.prototype.toString=function(){return\"RouteConfigLoadEnd(path: \"+this.route.path+\")\"},e}(),ju=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ChildActivationStart(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Au=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ChildActivationEnd(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Lu=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ActivationStart(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Nu=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ActivationEnd(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Fu=function(){function e(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}return e.prototype.toString=function(){return\"Scroll(anchor: '\"+this.anchor+\"', position: '\"+(this.position?this.position[0]+\", \"+this.position[1]:null)+\"')\"},e}(),Bu=function(){return function(){}}(),Uu=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,\"keys\",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function Vu(e){return new Uu(e)}function zu(e){var t=Error(\"NavigationCancelingError: \"+e);return t.ngNavigationCancelingError=!0,t}function Hu(e,t,r){var n=r.path.split(\"/\");if(n.length>e.length)return null;if(\"full\"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;for(var i={},o=0;o<n.length;o++){var s=n[o],a=e[o];if(s.startsWith(\":\"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}var qu=function(){return function(e,t){this.routes=e,this.module=t}}();function Gu(e,t){void 0===t&&(t=\"\");for(var r=0;r<e.length;r++){var n=e[r];Wu(n,$u(t,n))}}function Wu(e,t){if(!e)throw new Error(\"\\n      Invalid configuration of route '\"+t+\"': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    \");if(Array.isArray(e))throw new Error(\"Invalid configuration of route '\"+t+\"': Array cannot be specified\");if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&\"primary\"!==e.outlet)throw new Error(\"Invalid configuration of route '\"+t+\"': a componentless route without children or loadChildren cannot have a named outlet set\");if(e.redirectTo&&e.children)throw new Error(\"Invalid configuration of route '\"+t+\"': redirectTo and children cannot be used together\");if(e.redirectTo&&e.loadChildren)throw new Error(\"Invalid configuration of route '\"+t+\"': redirectTo and loadChildren cannot be used together\");if(e.children&&e.loadChildren)throw new Error(\"Invalid configuration of route '\"+t+\"': children and loadChildren cannot be used together\");if(e.redirectTo&&e.component)throw new Error(\"Invalid configuration of route '\"+t+\"': redirectTo and component cannot be used together\");if(e.path&&e.matcher)throw new Error(\"Invalid configuration of route '\"+t+\"': path and matcher cannot be used together\");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(\"Invalid configuration of route '\"+t+\"'. One of the following must be provided: component, redirectTo, children or loadChildren\");if(void 0===e.path&&void 0===e.matcher)throw new Error(\"Invalid configuration of route '\"+t+\"': routes must have either a path or a matcher specified\");if(\"string\"==typeof e.path&&\"/\"===e.path.charAt(0))throw new Error(\"Invalid configuration of route '\"+t+\"': path cannot start with a slash\");if(\"\"===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(\"Invalid configuration of route '{path: \\\"\"+t+'\", redirectTo: \"'+e.redirectTo+\"\\\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.\");if(void 0!==e.pathMatch&&\"full\"!==e.pathMatch&&\"prefix\"!==e.pathMatch)throw new Error(\"Invalid configuration of route '\"+t+\"': pathMatch can only be set to 'prefix' or 'full'\");e.children&&Gu(e.children,t)}function $u(e,t){return t?e||t.path?e&&!t.path?e+\"/\":!e&&t.path?t.path:e+\"/\"+t.path:\"\":e}function Ku(e){var t=e.children&&e.children.map(Ku),r=t?Object(n.__assign)({},e,{children:t}):Object(n.__assign)({},e);return!r.component&&(t||r.loadChildren)&&r.outlet&&\"primary\"!==r.outlet&&(r.component=Bu),r}function Qu(e,t){var r,n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;for(var o=0;o<n.length;o++)if(e[r=n[o]]!==t[r])return!1;return!0}function Zu(e){return Array.prototype.concat.apply([],e)}function Yu(e){return e.length>0?e[e.length-1]:null}function Ju(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}function Xu(e){return Gt(e)?e:qt(e)?$(Promise.resolve(e)):Ca(e)}function el(e,t,r){return r?function(e,t){return Qu(e,t)}(e.queryParams,t.queryParams)&&function e(t,r){if(!il(t.segments,r.segments))return!1;if(t.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children){if(!t.children[n])return!1;if(!e(t.children[n],r.children[n]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(r){return t[r]===e[r]}))}(e.queryParams,t.queryParams)&&function e(t,r){return function t(r,n,i){if(r.segments.length>i.length)return!!il(s=r.segments.slice(0,i.length),i)&&!n.hasChildren();if(r.segments.length===i.length){if(!il(r.segments,i))return!1;for(var o in n.children){if(!r.children[o])return!1;if(!e(r.children[o],n.children[o]))return!1}return!0}var s=i.slice(0,r.segments.length),a=i.slice(r.segments.length);return!!il(r.segments,s)&&!!r.children.primary&&t(r.children.primary,n,a)}(t,r,r.segments)}(e.root,t.root)}var tl=function(){function e(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}return Object.defineProperty(e.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return cl.serialize(this)},e}(),rl=function(){function e(e,t){var r=this;this.segments=e,this.children=t,this.parent=null,Ju(t,(function(e,t){return e.parent=r}))}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,\"numberOfChildren\",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return ul(this)},e}(),nl=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,\"parameterMap\",{get:function(){return this._parameterMap||(this._parameterMap=Vu(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return ml(this)},e}();function il(e,t){return e.length===t.length&&e.every((function(e,r){return e.path===t[r].path}))}function ol(e,t){var r=[];return Ju(e.children,(function(e,n){\"primary\"===n&&(r=r.concat(t(e,n)))})),Ju(e.children,(function(e,n){\"primary\"!==n&&(r=r.concat(t(e,n)))})),r}var sl=function(){return function(){}}(),al=function(){function e(){}return e.prototype.parse=function(e){var t=new _l(e);return new tl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,r;return\"/\"+function e(t,r){if(!t.hasChildren())return ul(t);if(r){var n=t.children.primary?e(t.children.primary,!1):\"\",i=[];return Ju(t.children,(function(t,r){\"primary\"!==r&&i.push(r+\":\"+e(t,!1))})),i.length>0?n+\"(\"+i.join(\"//\")+\")\":n}var o=ol(t,(function(r,n){return\"primary\"===n?[e(t.children.primary,!1)]:[n+\":\"+e(r,!1)]}));return ul(t)+\"/(\"+o.join(\"//\")+\")\"}(e.root,!0)+(t=e.queryParams,(r=Object.keys(t).map((function(e){var r=t[e];return Array.isArray(r)?r.map((function(t){return dl(e)+\"=\"+dl(t)})).join(\"&\"):dl(e)+\"=\"+dl(r)}))).length?\"?\"+r.join(\"&\"):\"\")+(\"string\"==typeof e.fragment?\"#\"+encodeURI(e.fragment):\"\")},e}(),cl=new al;function ul(e){return e.segments.map((function(e){return ml(e)})).join(\"/\")}function ll(e){return encodeURIComponent(e).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function dl(e){return ll(e).replace(/%3B/gi,\";\")}function pl(e){return ll(e).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function hl(e){return decodeURIComponent(e)}function fl(e){return hl(e.replace(/\\+/g,\"%20\"))}function ml(e){return\"\"+pl(e.path)+(t=e.parameters,Object.keys(t).map((function(e){return\";\"+pl(e)+\"=\"+pl(t[e])})).join(\"\"));var t}var gl=/^[^\\/()?;=#]+/;function yl(e){var t=e.match(gl);return t?t[0]:\"\"}var vl=/^[^=?&#]+/,bl=/^[^?&#]+/,_l=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new rl([],{}):new rl([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(e)}while(this.consumeOptional(\"&\"));return e},e.prototype.parseFragment=function(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null},e.prototype.parseChildren=function(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");var e=[];for(this.peekStartsWith(\"(\")||e.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),e.push(this.parseSegment());var t={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),t=this.parseParens(!0));var r={};return this.peekStartsWith(\"(\")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r.primary=new rl(e,t)),r},e.prototype.parseSegment=function(){var e=yl(this.remaining);if(\"\"===e&&this.peekStartsWith(\";\"))throw new Error(\"Empty path url segment cannot have parameters: '\"+this.remaining+\"'.\");return this.capture(e),new nl(hl(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(\";\");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=yl(this.remaining);if(t){this.capture(t);var r=\"\";if(this.consumeOptional(\"=\")){var n=yl(this.remaining);n&&this.capture(r=n)}e[hl(t)]=hl(r)}},e.prototype.parseQueryParam=function(e){var t,r=(t=this.remaining.match(vl))?t[0]:\"\";if(r){this.capture(r);var n=\"\";if(this.consumeOptional(\"=\")){var i=function(e){var t=e.match(bl);return t?t[0]:\"\"}(this.remaining);i&&this.capture(n=i)}var o=fl(r),s=fl(n);if(e.hasOwnProperty(o)){var a=e[o];Array.isArray(a)||(e[o]=a=[a]),a.push(s)}else e[o]=s}},e.prototype.parseParens=function(e){var t={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){var r=yl(this.remaining),n=this.remaining[r.length];if(\"/\"!==n&&\")\"!==n&&\";\"!==n)throw new Error(\"Cannot parse url '\"+this.url+\"'\");var i=void 0;r.indexOf(\":\")>-1?(i=r.substr(0,r.indexOf(\":\")),this.capture(i),this.capture(\":\")):e&&(i=\"primary\");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new rl([],o),this.consumeOptional(\"//\")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected \"'+e+'\".')},e}(),wl=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,\"root\",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=Sl(e,this._root);return t?t.children.map((function(e){return e.value})):[]},e.prototype.firstChild=function(e){var t=Sl(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=Cl(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))},e.prototype.pathFromRoot=function(e){return Cl(e,this._root).map((function(e){return e.value}))},e}();function Sl(e,t){var r,i;if(e===t.value)return t;try{for(var o=Object(n.__values)(t.children),s=o.next();!s.done;s=o.next()){var a=Sl(e,s.value);if(a)return a}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return null}function Cl(e,t){var r,i;if(e===t.value)return[t];try{for(var o=Object(n.__values)(t.children),s=o.next();!s.done;s=o.next()){var a=Cl(e,s.value);if(a.length)return a.unshift(t),a}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return[]}var Rl=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return\"TreeNode(\"+this.value+\")\"},e}();function xl(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Tl=function(e){function t(t,r){var n=e.call(this,t)||this;return n.snapshot=r,Dl(n,t),n}return Object(n.__extends)(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(wl);function kl(e,t){var r=function(e,t){var r=new Ol([],{},{},\"\",{},\"primary\",t,null,e.root,-1,{});return new Il(\"\",new Rl(r,[]))}(e,t),n=new Ra([new nl(\"\",{})]),i=new Ra({}),o=new Ra({}),s=new Ra({}),a=new Ra(\"\"),c=new El(n,i,s,a,o,\"primary\",t,r.root);return c.snapshot=r.root,new Tl(new Rl(c,[]),r)}var El=function(){function e(e,t,r,n,i,o,s,a){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(e.prototype,\"routeConfig\",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"firstChild\",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pathFromRoot\",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"paramMap\",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(H((function(e){return Vu(e)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H((function(e){return Vu(e)})))),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():\"Future(\"+this._futureSnapshot+\")\"},e}();function Pl(e,t){void 0===t&&(t=\"emptyOnly\");var r=e.pathFromRoot,i=0;if(\"always\"!==t)for(i=r.length-1;i>=1;){var o=r[i],s=r[i-1];if(o.routeConfig&&\"\"===o.routeConfig.path)i--;else{if(s.component)break;i--}}return function(e){return e.reduce((function(e,t){return{params:Object(n.__assign)({},e.params,t.params),data:Object(n.__assign)({},e.data,t.data),resolve:Object(n.__assign)({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(r.slice(i))}var Ol=function(){function e(e,t,r,n,i,o,s,a,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}return Object.defineProperty(e.prototype,\"root\",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"firstChild\",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pathFromRoot\",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"paramMap\",{get:function(){return this._paramMap||(this._paramMap=Vu(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return\"Route(url:'\"+this.url.map((function(e){return e.toString()})).join(\"/\")+\"', path:'\"+(this.routeConfig?this.routeConfig.path:\"\")+\"')\"},e}(),Il=function(e){function t(t,r){var n=e.call(this,r)||this;return n.url=t,Dl(n,r),n}return Object(n.__extends)(t,e),t.prototype.toString=function(){return Ml(this._root)},t}(wl);function Dl(e,t){t.value._routerState=e,t.children.forEach((function(t){return Dl(e,t)}))}function Ml(e){var t=e.children.length>0?\" { \"+e.children.map(Ml).join(\", \")+\" } \":\"\";return\"\"+e.value+t}function jl(e){if(e.snapshot){var t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Qu(t.queryParams,r.queryParams)||e.queryParams.next(r.queryParams),t.fragment!==r.fragment&&e.fragment.next(r.fragment),Qu(t.params,r.params)||e.params.next(r.params),function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!Qu(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.url.next(r.url),Qu(t.data,r.data)||e.data.next(r.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Al(e,t){var r,n;return Qu(e.params,t.params)&&il(r=e.url,n=t.url)&&r.every((function(e,t){return Qu(e.parameters,n[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Al(e.parent,t.parent))}function Ll(e){return\"object\"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Nl(e,t,r,n,i){var o={};return n&&Ju(n,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return\"\"+e})):\"\"+e})),new tl(r.root===e?t:function e(t,r,n){var i={};return Ju(t.children,(function(t,o){i[o]=t===r?n:e(t,r,n)})),new rl(t.segments,i)}(r.root,e,t),o,i)}var Fl=function(){function e(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ll(r[0]))throw new Error(\"Root segment cannot have matrix parameters\");var n=r.find((function(e){return\"object\"==typeof e&&null!=e&&e.outlets}));if(n&&n!==Yu(r))throw new Error(\"{outlets:{}} has to be the last command\")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]},e}(),Bl=function(){return function(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}();function Ul(e){return\"object\"==typeof e&&null!=e&&e.outlets?e.outlets.primary:\"\"+e}function Vl(e,t,r){if(e||(e=new rl([],{})),0===e.segments.length&&e.hasChildren())return zl(e,t,r);var n=function(e,t,r){for(var n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(n>=r.length)return o;var s=e.segments[i],a=Ul(r[n]),c=n<r.length-1?r[n+1]:null;if(i>0&&void 0===a)break;if(a&&c&&\"object\"==typeof c&&void 0===c.outlets){if(!Wl(a,c,s))return o;n+=2}else{if(!Wl(a,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){var o=new rl(e.segments.slice(0,n.pathIndex),{});return o.children.primary=new rl(e.segments.slice(n.pathIndex),e.children),zl(o,0,i)}return n.match&&0===i.length?new rl(e.segments,{}):n.match&&!e.hasChildren()?Hl(e,t,r):n.match?zl(e,0,i):Hl(e,t,r)}function zl(e,t,r){if(0===r.length)return new rl(e.segments,{});var n=function(e){var t,r;return\"object\"!=typeof e[0]?((t={}).primary=e,t):void 0===e[0].outlets?((r={}).primary=e,r):e[0].outlets}(r),i={};return Ju(n,(function(r,n){null!==r&&(i[n]=Vl(e.children[n],t,r))})),Ju(e.children,(function(e,t){void 0===n[t]&&(i[t]=e)})),new rl(e.segments,i)}function Hl(e,t,r){for(var n=e.segments.slice(0,t),i=0;i<r.length;){if(\"object\"==typeof r[i]&&void 0!==r[i].outlets){var o=ql(r[i].outlets);return new rl(n,o)}if(0===i&&Ll(r[0]))n.push(new nl(e.segments[t].path,r[0])),i++;else{var s=Ul(r[i]),a=i<r.length-1?r[i+1]:null;s&&a&&Ll(a)?(n.push(new nl(s,Gl(a))),i+=2):(n.push(new nl(s,{})),i++)}}return new rl(n,{})}function ql(e){var t={};return Ju(e,(function(e,r){null!==e&&(t[r]=Hl(new rl([],{}),0,e))})),t}function Gl(e){var t={};return Ju(e,(function(e,r){return t[r]=\"\"+e})),t}function Wl(e,t,r){return e==r.path&&Qu(t,r.parameters)}var $l=function(){function e(e,t,r,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=n}return e.prototype.activate=function(e){var t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jl(this.futureState.root),this.activateChildRoutes(t,r,e)},e.prototype.deactivateChildRoutes=function(e,t,r){var n=this,i=xl(t);e.children.forEach((function(e){var t=e.value.outlet;n.deactivateRoutes(e,i[t],r),delete i[t]})),Ju(i,(function(e,t){n.deactivateRouteAndItsChildren(e,r)}))},e.prototype.deactivateRoutes=function(e,t,r){var n=e.value,i=t?t.value:null;if(n===i)if(n.component){var o=r.getContext(n.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var r=t.getContext(e.value.outlet);if(r&&r.outlet){var n=r.outlet.detach(),i=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:n,route:e,contexts:i})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var r=this,n=t.getContext(e.value.outlet);if(n){var i=xl(e),o=e.value.component?n.children:t;Ju(i,(function(e,t){return r.deactivateRouteAndItsChildren(e,o)})),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,r){var n=this,i=xl(t);e.children.forEach((function(e){n.activateRoutes(e,i[e.value.outlet],r),n.forwardEvent(new Nu(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Au(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,r){var n=e.value,i=t?t.value:null;if(jl(n),n===i)if(n.component){var o=r.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(n.component)if(o=r.getOrCreateContext(n.outlet),this.routeReuseStrategy.shouldAttach(n.snapshot)){var s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Kl(s.route)}else{var a=function(e){for(var t=e.parent;t;t=t.parent){var r=t.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(n.snapshot),c=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=n,o.resolver=c,o.outlet&&o.outlet.activateWith(n,c),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)},e}();function Kl(e){jl(e.value),e.children.forEach(Kl)}function Ql(e){return\"function\"==typeof e}function Zl(e){return e instanceof tl}var Yl=function(){return function(e){this.segmentGroup=e||null}}(),Jl=function(){return function(e){this.urlTree=e}}();function Xl(e){return new S((function(t){return t.error(new Yl(e))}))}function ed(e){return new S((function(t){return t.error(new Jl(e))}))}function td(e){return new S((function(t){return t.error(new Error(\"Only absolute redirects can have named outlets. redirectTo: '\"+e+\"'\"))}))}var rd=function(){function e(e,t,r,n,i){this.configLoader=t,this.urlSerializer=r,this.urlTree=n,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(Ne)}return e.prototype.apply=function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,\"primary\").pipe(H((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Za((function(t){if(t instanceof Jl)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Yl)throw e.noMatchError(t);throw t})))},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,\"primary\").pipe(H((function(r){return t.createUrlTree(r,e.queryParams,e.fragment)}))).pipe(Za((function(e){if(e instanceof Yl)throw t.noMatchError(e);throw e})))},e.prototype.noMatchError=function(e){return new Error(\"Cannot match any routes. URL Segment: '\"+e.segmentGroup+\"'\")},e.prototype.createUrlTree=function(e,t,r){var n,i=e.segments.length>0?new rl([],((n={}).primary=e,n)):e;return new tl(i,t,r)},e.prototype.expandSegmentGroup=function(e,t,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(H((function(e){return new rl([],e)}))):this.expandSegment(e,r,t,r.segments,n,!0)},e.prototype.expandChildren=function(e,t,r){var n=this;return function(r,i){if(0===Object.keys(r).length)return Ca({});var o=[],s=[],a={};return Ju(r,(function(r,i){var c,u,l=(c=i,u=r,n.expandSegmentGroup(e,t,u,c)).pipe(H((function(e){return a[i]=e})));\"primary\"===i?o.push(l):s.push(l)})),Ca.apply(null,o.concat(s)).pipe(Da(),Qa(),H((function(){return a})))}(r.children)},e.prototype.expandSegment=function(e,t,r,i,o,s){var a=this;return Ca.apply(void 0,Object(n.__spread)(r)).pipe(H((function(n){return a.expandSegmentAgainstRoute(e,t,r,n,i,o,s).pipe(Za((function(e){if(e instanceof Yl)return Ca(null);throw e})))})),Da(),rc((function(e){return!!e})),Za((function(e,r){if(e instanceof Ta||\"EmptyError\"===e.name){if(a.noLeftoversInUrl(t,i,o))return Ca(new rl([],{}));throw new Yl(t)}throw e})))},e.prototype.noLeftoversInUrl=function(e,t,r){return 0===t.length&&!e.children[r]},e.prototype.expandSegmentAgainstRoute=function(e,t,r,n,i,o,s){return sd(n)!==o?Xl(t):void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o):Xl(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,r,n,i,o){return\"**\"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,r,n){var i=this,o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith(\"/\")?ed(o):this.lineralizeSegments(r,o).pipe(K((function(r){var o=new rl(r,{});return i.expandSegment(e,o,t,r,n,!1)})))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,r,n,i,o){var s=this,a=nd(t,n,i),c=a.consumedSegments,u=a.lastChild,l=a.positionalParamSegments;if(!a.matched)return Xl(t);var d=this.applyRedirectCommands(c,n.redirectTo,l);return n.redirectTo.startsWith(\"/\")?ed(d):this.lineralizeSegments(n,d).pipe(K((function(n){return s.expandSegment(e,t,r,n.concat(i.slice(u)),o,!1)})))},e.prototype.matchSegmentAgainstRoute=function(e,t,r,i){var o=this;if(\"**\"===r.path)return r.loadChildren?this.configLoader.load(e.injector,r).pipe(H((function(e){return r._loadedConfig=e,new rl(i,{})}))):Ca(new rl(i,{}));var s=nd(t,r,i),a=s.consumedSegments,c=s.lastChild;if(!s.matched)return Xl(t);var u=i.slice(c);return this.getChildConfig(e,r,i).pipe(K((function(e){var r=e.module,i=e.routes,s=function(e,t,r,i){return r.length>0&&function(e,t,r){return r.some((function(r){return od(e,t,r)&&\"primary\"!==sd(r)}))}(e,r,i)?{segmentGroup:id(new rl(t,function(e,t){var r,i,o={};o.primary=t;try{for(var s=Object(n.__values)(e),a=s.next();!a.done;a=s.next()){var c=a.value;\"\"===c.path&&\"primary\"!==sd(c)&&(o[sd(c)]=new rl([],{}))}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}(i,new rl(r,e.children)))),slicedSegments:[]}:0===r.length&&function(e,t,r){return r.some((function(r){return od(e,t,r)}))}(e,r,i)?{segmentGroup:id(new rl(e.segments,function(e,t,r,i){var o,s,a={};try{for(var c=Object(n.__values)(r),u=c.next();!u.done;u=c.next()){var l=u.value;od(e,t,l)&&!i[sd(l)]&&(a[sd(l)]=new rl([],{}))}}catch(d){o={error:d}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}return Object(n.__assign)({},i,a)}(e,r,i,e.children))),slicedSegments:r}:{segmentGroup:e,slicedSegments:r}}(t,a,u,i),c=s.segmentGroup,l=s.slicedSegments;return 0===l.length&&c.hasChildren()?o.expandChildren(r,i,c).pipe(H((function(e){return new rl(a,e)}))):0===i.length&&0===l.length?Ca(new rl(a,{})):o.expandSegment(r,c,i,l,\"primary\",!0).pipe(H((function(e){return new rl(a.concat(e.segments),e.children)})))})))},e.prototype.getChildConfig=function(e,t,r){var n=this;return t.children?Ca(new qu(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ca(t._loadedConfig):function(e,t,r){var n,i=t.canLoad;return i&&0!==i.length?$(i).pipe(H((function(n){var i,o=e.get(n);if(function(e){return e&&Ql(e.canLoad)}(o))i=o.canLoad(t,r);else{if(!Ql(o))throw new Error(\"Invalid CanLoad guard\");i=o(t,r)}return Xu(i)}))).pipe(Da(),(n=function(e){return!0===e},function(e){return e.lift(new nc(n,void 0,e))})):Ca(!0)}(e.injector,t,r).pipe(K((function(r){return r?n.configLoader.load(e.injector,t).pipe(H((function(e){return t._loadedConfig=e,e}))):function(e){return new S((function(t){return t.error(zu(\"Cannot load children because the guard of the route \\\"path: '\"+e.path+\"'\\\" returned false\"))}))}(t)}))):Ca(new qu([],e))},e.prototype.lineralizeSegments=function(e,t){for(var r=[],n=t.root;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return Ca(r);if(n.numberOfChildren>1||!n.children.primary)return td(e.redirectTo);n=n.children.primary}},e.prototype.applyRedirectCommands=function(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,r,n){var i=this.createSegmentGroup(e,t.root,r,n);return new tl(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var r={};return Ju(e,(function(e,n){if(\"string\"==typeof e&&e.startsWith(\":\")){var i=e.substring(1);r[n]=t[i]}else r[n]=e})),r},e.prototype.createSegmentGroup=function(e,t,r,n){var i=this,o=this.createSegments(e,t.segments,r,n),s={};return Ju(t.children,(function(t,o){s[o]=i.createSegmentGroup(e,t,r,n)})),new rl(o,s)},e.prototype.createSegments=function(e,t,r,n){var i=this;return t.map((function(t){return t.path.startsWith(\":\")?i.findPosParam(e,t,n):i.findOrReturn(t,r)}))},e.prototype.findPosParam=function(e,t,r){var n=r[t.path.substring(1)];if(!n)throw new Error(\"Cannot redirect to '\"+e+\"'. Cannot find '\"+t.path+\"'.\");return n},e.prototype.findOrReturn=function(e,t){var r,i,o=0;try{for(var s=Object(n.__values)(t),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.path===e.path)return t.splice(o),c;o++}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return e},e}();function nd(e,t,r){if(\"\"===t.path)return\"full\"===t.pathMatch&&(e.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var n=(t.matcher||Hu)(r,e,t);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function id(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new rl(e.segments.concat(t.segments),t.children)}return e}function od(e,t,r){return(!(e.hasChildren()||t.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0!==r.redirectTo}function sd(e){return e.outlet||\"primary\"}var ad=function(){return function(e){this.path=e,this.route=this.path[this.path.length-1]}}(),cd=function(){return function(e,t){this.component=e,this.route=t}}();function ud(e,t,r){var n=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var r=t.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(t);return(n?n.module.injector:r).get(e)}function ld(e,t,r,n,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=xl(t);return e.children.forEach((function(e){!function(e,t,r,n,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var c=function(e,t,r){if(\"function\"==typeof r)return r(e,t);switch(r){case\"pathParamsChange\":return!il(e.url,t.url);case\"pathParamsOrQueryParamsChange\":return!il(e.url,t.url)||!Qu(e.queryParams,t.queryParams);case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!Al(e,t)||!Qu(e.queryParams,t.queryParams);case\"paramsChange\":default:return!Al(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ad(n)):(o.data=s.data,o._resolvedData=s._resolvedData),ld(e,t,o.component?a?a.children:null:r,n,i),c&&i.canDeactivateChecks.push(new cd(a&&a.outlet&&a.outlet.component||null,s))}else s&&dd(t,a,i),i.canActivateChecks.push(new ad(n)),ld(e,null,o.component?a?a.children:null:r,n,i)}(e,o[e.value.outlet],r,n.concat([e.value]),i),delete o[e.value.outlet]})),Ju(o,(function(e,t){return dd(e,r.getContext(t),i)})),i}function dd(e,t,r){var n=xl(e),i=e.value;Ju(n,(function(e,n){dd(e,i.component?t?t.children.getContext(n):null:t,r)})),r.canDeactivateChecks.push(new cd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var pd=Symbol(\"INITIAL_VALUE\");function hd(){return oc((function(e){return Ea.apply(void 0,Object(n.__spread)(e.map((function(e){return e.pipe(Xa(1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r=e[e.length-1];O(r)?e.pop():r=null;var n=e.length;return cc(1!==n||r?n>0?W(e,r):wa(r):Sa(e[0]),t)}}(pd))})))).pipe(uc((function(e,t){var r=!1;return t.reduce((function(e,n,i){if(e!==pd)return e;if(n===pd&&(r=!0),!r){if(!1===n)return n;if(i===t.length-1||Zl(n))return n}return e}),e)}),pd),Ma((function(e){return e!==pd})),H((function(e){return Zl(e)?e:!0===e})),Xa(1))}))}function fd(e,t){return null!==e&&t&&t(new Lu(e)),Ca(!0)}function md(e,t){return null!==e&&t&&t(new ju(e)),Ca(!0)}function gd(e,t,r){var n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?Ca(n.map((function(n){return Ia((function(){var i,o=ud(n,t,r);if(function(e){return e&&Ql(e.canActivate)}(o))i=Xu(o.canActivate(t,e));else{if(!Ql(o))throw new Error(\"Invalid CanActivate guard\");i=Xu(o(t,e))}return i.pipe(rc())}))}))).pipe(hd()):Ca(!0)}function yd(e,t,r){var n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Ia((function(){return Ca(t.guards.map((function(i){var o,s=ud(i,t.node,r);if(function(e){return e&&Ql(e.canActivateChild)}(s))o=Xu(s.canActivateChild(n,e));else{if(!Ql(s))throw new Error(\"Invalid CanActivateChild guard\");o=Xu(s(n,e))}return o.pipe(rc())}))).pipe(hd())}))}));return Ca(i).pipe(hd())}var vd=function(){return function(){}}(),bd=function(){function e(e,t,r,n,i,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return e.prototype.recognize=function(){try{var e=Sd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,\"primary\"),r=new Ol([],Object.freeze({}),Object.freeze(Object(n.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},\"primary\",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Rl(r,t),o=new Il(this.url,i);return this.inheritParamsAndData(o._root),Ca(o)}catch(s){return new S((function(e){return e.error(s)}))}},e.prototype.inheritParamsAndData=function(e){var t=this,r=e.value,n=Pl(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))},e.prototype.processSegmentGroup=function(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)},e.prototype.processChildren=function(e,t){var r,n=this,i=ol(t,(function(t,r){return n.processSegmentGroup(e,t,r)}));return r={},i.forEach((function(e){var t=r[e.value.outlet];if(t){var n=t.url.map((function(e){return e.toString()})).join(\"/\"),i=e.value.url.map((function(e){return e.toString()})).join(\"/\");throw new Error(\"Two segments cannot have the same outlet name: '\"+n+\"' and '\"+i+\"'.\")}r[e.value.outlet]=e.value})),function(e){e.sort((function(e,t){return\"primary\"===e.value.outlet?-1:\"primary\"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}))}(i),i},e.prototype.processSegment=function(e,t,r,i){var o,s;try{for(var a=Object(n.__values)(e),c=a.next();!c.done;c=a.next()){var u=c.value;try{return this.processSegmentAgainstRoute(u,t,r,i)}catch(l){if(!(l instanceof vd))throw l}}}catch(d){o={error:d}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(t,r,i))return[];throw new vd},e.prototype.noLeftoversInUrl=function(e,t,r){return 0===t.length&&!e.children[r]},e.prototype.processSegmentAgainstRoute=function(e,t,r,i){if(e.redirectTo)throw new vd;if((e.outlet||\"primary\")!==i)throw new vd;var o,s=[],a=[];if(\"**\"===e.path){var c=r.length>0?Yu(r).parameters:{};o=new Ol(r,c,Object.freeze(Object(n.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,xd(e),i,e.component,e,_d(t),wd(t)+r.length,Td(e))}else{var u=function(e,t,r){if(\"\"===t.path){if(\"full\"===t.pathMatch&&(e.hasChildren()||r.length>0))throw new vd;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||Hu)(r,e,t);if(!i)throw new vd;var o={};Ju(i.posParams,(function(e,t){o[t]=e.path}));var s=i.consumed.length>0?Object(n.__assign)({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(t,e,r);s=u.consumedSegments,a=r.slice(u.lastChild),o=new Ol(s,u.parameters,Object.freeze(Object(n.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,xd(e),i,e.component,e,_d(t),wd(t)+s.length,Td(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),d=Sd(t,s,a,l,this.relativeLinkResolution),p=d.segmentGroup,h=d.slicedSegments;if(0===h.length&&p.hasChildren()){var f=this.processChildren(l,p);return[new Rl(o,f)]}if(0===l.length&&0===h.length)return[new Rl(o,[])];var m=this.processSegment(l,p,h,\"primary\");return[new Rl(o,m)]},e}();function _d(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function wd(e){for(var t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)r+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return r-1}function Sd(e,t,r,i,o){if(r.length>0&&function(e,t,r){return r.some((function(r){return Cd(e,t,r)&&\"primary\"!==Rd(r)}))}(e,r,i)){var s=new rl(t,function(e,t,r,i){var o,s,a={};a.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;try{for(var c=Object(n.__values)(r),u=c.next();!u.done;u=c.next()){var l=u.value;if(\"\"===l.path&&\"primary\"!==Rd(l)){var d=new rl([],{});d._sourceSegment=e,d._segmentIndexShift=t.length,a[Rd(l)]=d}}}catch(p){o={error:p}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}return a}(e,t,i,new rl(r,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===r.length&&function(e,t,r){return r.some((function(r){return Cd(e,t,r)}))}(e,r,i)){var a=new rl(e.segments,function(e,t,r,i,o,s){var a,c,u={};try{for(var l=Object(n.__values)(i),d=l.next();!d.done;d=l.next()){var p=d.value;if(Cd(e,r,p)&&!o[Rd(p)]){var h=new rl([],{});h._sourceSegment=e,h._segmentIndexShift=\"legacy\"===s?e.segments.length:t.length,u[Rd(p)]=h}}}catch(f){a={error:f}}finally{try{d&&!d.done&&(c=l.return)&&c.call(l)}finally{if(a)throw a.error}}return Object(n.__assign)({},o,u)}(e,t,r,i,e.children,o));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:r}}var c=new rl(e.segments,e.children);return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:r}}function Cd(e,t,r){return(!(e.hasChildren()||t.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0===r.redirectTo}function Rd(e){return e.outlet||\"primary\"}function xd(e){return e.data||{}}function Td(e){return e.resolve||{}}function kd(e,t,r,n){var i=ud(e,t,n);return Xu(i.resolve?i.resolve(t,r):i(t,r))}function Ed(e){return function(t){return t.pipe(oc((function(t){var r=e(t);return r?$(r).pipe(H((function(){return t}))):$([t])})))}}var Pd=function(){return function(){}}(),Od=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),Id=new ke(\"ROUTES\"),Dd=function(){function e(e,t,r,n){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=n}return e.prototype.load=function(e,t){var r=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H((function(n){r.onLoadEndListener&&r.onLoadEndListener(t);var i=n.create(e);return new qu(Zu(i.injector.get(Id)).map(Ku),i)})))},e.prototype.loadModuleFactory=function(e){var t=this;return\"string\"==typeof e?$(this.loader.load(e)):Xu(e()).pipe(K((function(e){return e instanceof Fe?Ca(e):$(t.compiler.compileModuleAsync(e))})))},e}(),Md=function(){return function(){}}(),jd=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function Ad(e){throw e}function Ld(e,t,r){return t.parse(\"/\")}function Nd(e,t){return Ca(null)}var Fd=function(){function e(e,t,r,n,i,o,s,a){var c=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=r,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=Ad,this.malformedUriErrorHandler=Ld,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Nd,afterPreactivation:Nd},this.urlHandlingStrategy=new jd,this.routeReuseStrategy=new Od,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.urlUpdateStrategy=\"deferred\",this.relativeLinkResolution=\"legacy\",this.ngModule=i.get(Ne),this.console=i.get(Ei);var u=i.get(Wi);this.isNgZoneEnabled=u instanceof Wi,this.resetConfig(a),this.currentUrlTree=new tl(new rl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dd(o,s,(function(e){return c.triggerEvent(new Du(e))}),(function(e){return c.triggerEvent(new Mu(e))})),this.routerState=kl(this.currentUrlTree,this.rootComponentType),this.transitions=new Ra({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:\"imperative\",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return e.prototype.setupNavigations=function(e){var t=this,r=this.events;return e.pipe(Ma((function(e){return 0!==e.id})),H((function(e){return Object(n.__assign)({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),oc((function(e){var i,o,s,a,c=!1,u=!1;return Ca(e).pipe(Va((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object(n.__assign)({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),oc((function(e){var i,o,s,a,c=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if((\"reload\"===t.onSameUrlNavigation||c)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Ca(e).pipe(oc((function(e){var n=t.transitions.getValue();return r.next(new Cu(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==t.transitions.getValue()?_a:[e]})),oc((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,o=t.configLoader,s=t.urlSerializer,a=t.config,function(e){return e.pipe(oc((function(e){return function(e,t,r,n,i){return new rd(e,t,r,n,i).apply()}(i,o,s,e.extractedUrl,a).pipe(H((function(t){return Object(n.__assign)({},e,{urlAfterRedirects:t})})))})))}),Va((function(e){t.currentNavigation=Object(n.__assign)({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,r,i,o,s){return function(i){return i.pipe(K((function(i){return function(e,t,r,n,i,o){return void 0===i&&(i=\"emptyOnly\"),void 0===o&&(o=\"legacy\"),new bd(e,t,r,n,i,o).recognize()}(e,r,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),o,s).pipe(H((function(e){return Object(n.__assign)({},i,{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Va((function(e){\"eager\"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Va((function(e){var n=new ku(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);r.next(n)})));if(c&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.extractedUrl,l=e.source,d=e.restoredState,p=e.extras,h=new Cu(e.id,t.serializeUrl(u),l,d);r.next(h);var f=kl(u,t.rootComponentType).snapshot;return Ca(Object(n.__assign)({},e,{targetSnapshot:f,urlAfterRedirects:u,extras:Object(n.__assign)({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),_a})),Ed((function(e){var r=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!r.skipLocationChange,replaceUrl:!!r.replaceUrl})})),Va((function(e){var r=new Eu(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(r)})),H((function(e){return Object(n.__assign)({},e,{guards:(r=e.targetSnapshot,i=e.currentSnapshot,o=t.rootContexts,s=r._root,ld(s,i?i._root:null,o,[s.value]))});var r,i,o,s})),function(e,t){return function(r){return r.pipe(K((function(r){var i=r.targetSnapshot,o=r.currentSnapshot,s=r.guards,a=s.canActivateChecks,c=s.canDeactivateChecks;return 0===c.length&&0===a.length?Ca(Object(n.__assign)({},r,{guardsResult:!0})):function(e,t,r,n){return $(e).pipe(K((function(e){return function(e,t,r,n,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ca(o.map((function(o){var s,a=ud(o,t,i);if(function(e){return e&&Ql(e.canDeactivate)}(a))s=Xu(a.canDeactivate(e,t,r,n));else{if(!Ql(a))throw new Error(\"Invalid CanDeactivate guard\");s=Xu(a(e,t,r,n))}return s.pipe(rc())}))).pipe(hd()):Ca(!0)}(e.component,e.route,r,t,n)})),rc((function(e){return!0!==e}),!0))}(c,i,o,e).pipe(K((function(r){return r&&\"boolean\"==typeof r?function(e,t,r,n){return $(t).pipe(pc((function(t){return $([md(t.route.parent,n),fd(t.route,n),yd(e,t.path,r),gd(e,t.route,r)]).pipe(Da(),rc((function(e){return!0!==e}),!0))})),rc((function(e){return!0!==e}),!0))}(i,a,e,t):Ca(r)})),H((function(e){return Object(n.__assign)({},r,{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Va((function(e){if(Zl(e.guardsResult)){var r=zu('Redirecting to \"'+t.serializeUrl(e.guardsResult)+'\"');throw r.url=e.guardsResult,r}})),Va((function(e){var r=new Pu(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)})),Ma((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var n=new xu(e.id,t.serializeUrl(e.extractedUrl),\"\");return r.next(n),e.resolve(!1),!1}return!0})),Ed((function(e){if(e.guards.canActivateChecks.length)return Ca(e).pipe(Va((function(e){var r=new Ou(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(r)})),(r=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(K((function(e){var t=e.targetSnapshot,o=e.guards.canActivateChecks;return o.length?$(o).pipe(pc((function(e){return function(e,t,r,i){return function(e,t,r,n){var i=Object.keys(e);if(0===i.length)return Ca({});if(1===i.length){var o=i[0];return kd(e[o],t,r,n).pipe(H((function(e){var t;return(t={})[o]=e,t})))}var s={};return $(i).pipe(K((function(i){return kd(e[i],t,r,n).pipe(H((function(e){return s[i]=e,e})))}))).pipe(Qa(),H((function(){return s})))}(e._resolve,e,t,i).pipe(H((function(t){return e._resolvedData=t,e.data=Object(n.__assign)({},e.data,Pl(e,r).resolve),null})))}(e.route,t,r,i)})),function(e,t){return arguments.length>=2?function(r){return _(uc(e,t),Fa(1),Wa(t))(r)}:function(t){return _(uc((function(t,r,n){return e(t,r,n+1)})),Fa(1))(t)}}((function(e,t){return e})),H((function(t){return e}))):Ca(e)})))}),Va((function(e){var r=new Iu(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(r)})));var r,i})),Ed((function(e){var r=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!r.skipLocationChange,replaceUrl:!!r.replaceUrl})})),H((function(e){var r,i,o,s=(o=function e(t,r,i){if(i&&t.shouldReuseRoute(r.value,i.value.snapshot)){(u=i.value)._futureSnapshot=r.value;var o=function(t,r,i){return r.children.map((function(r){var o,s;try{for(var a=Object(n.__values)(i.children),c=a.next();!c.done;c=a.next()){var u=c.value;if(t.shouldReuseRoute(u.value.snapshot,r.value))return e(t,r,u)}}catch(l){o={error:l}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return e(t,r)}))}(t,r,i);return new Rl(u,o)}var s=t.retrieve(r.value);if(s){var a=s.route;return function e(t,r){if(t.value.routeConfig!==r.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(t.children.length!==r.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");r.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)e(t.children[n],r.children[n])}(r,a),a}var c,u=new El(new Ra((c=r.value).url),new Ra(c.params),new Ra(c.queryParams),new Ra(c.fragment),new Ra(c.data),c.outlet,c.component,c);return o=r.children.map((function(r){return e(t,r)})),new Rl(u,o)}(t.routeReuseStrategy,(r=e.targetSnapshot)._root,(i=e.currentRouterState)?i._root:void 0),new Tl(o,r));return Object(n.__assign)({},e,{targetRouterState:s})})),Va((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,\"deferred\"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(o=t.rootContexts,s=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},H((function(e){return new $l(s,e.targetRouterState,e.currentRouterState,a).activate(o),e}))),Va({next:function(){c=!0},complete:function(){c=!0}}),(i=function(){if(!c&&!u){t.resetUrlToCurrentUrlTree();var n=new xu(e.id,t.serializeUrl(e.extractedUrl),\"Navigation ID \"+e.id+\" is not equal to the current navigation id \"+t.navigationId);r.next(n),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new hc(i))}),Za((function(n){if(u=!0,(a=n)&&a.ngNavigationCancelingError){var i=Zl(n.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new xu(e.id,t.serializeUrl(e.extractedUrl),n.message);r.next(o),e.resolve(!1),i&&t.navigateByUrl(n.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new Tu(e.id,t.serializeUrl(e.extractedUrl),n);r.next(s);try{e.resolve(t.errorHandler(n))}catch(c){e.reject(c)}}var a;return _a})))})))},e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.getTransition=function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e},e.prototype.setTransition=function(e){this.transitions.next(Object(n.__assign)({},this.getTransition(),e))},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var r=e.parseUrl(t.url),n=\"popstate\"===t.type?\"popstate\":\"hashchange\",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(r,n,i,{replaceUrl:!0})}),0)})))},Object.defineProperty(e.prototype,\"url\",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.getCurrentNavigation=function(){return this.currentNavigation},e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){Gu(e),this.config=e.map(Ku),this.navigated=!1,this.lastSuccessfulId=-1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var r=t.relativeTo,i=t.queryParams,o=t.fragment,s=t.preserveQueryParams,a=t.queryParamsHandling,c=t.preserveFragment;Qe()&&s&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");var u=r||this.routerState.root,l=c?this.currentUrlTree.fragment:o,d=null;if(a)switch(a){case\"merge\":d=Object(n.__assign)({},this.currentUrlTree.queryParams,i);break;case\"preserve\":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=s?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(e,t,r,i,o){if(0===r.length)return Nl(t.root,t.root,t,i,o);var s=function(e){if(\"string\"==typeof e[0]&&1===e.length&&\"/\"===e[0])return new Fl(!0,0,e);var t=0,r=!1,i=e.reduce((function(e,i,o){if(\"object\"==typeof i&&null!=i){if(i.outlets){var s={};return Ju(i.outlets,(function(e,t){s[t]=\"string\"==typeof e?e.split(\"/\"):e})),Object(n.__spread)(e,[{outlets:s}])}if(i.segmentPath)return Object(n.__spread)(e,[i.segmentPath])}return\"string\"!=typeof i?Object(n.__spread)(e,[i]):0===o?(i.split(\"/\").forEach((function(n,i){0==i&&\".\"===n||(0==i&&\"\"===n?r=!0:\"..\"===n?t++:\"\"!=n&&e.push(n))})),e):Object(n.__spread)(e,[i])}),[]);return new Fl(r,t,i)}(r);if(s.toRoot())return Nl(t.root,new rl([],{}),t,i,o);var a=function(e,t,r){if(e.isAbsolute)return new Bl(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Bl(r.snapshot._urlSegment,!0,0);var n=Ll(e.commands[0])?0:1;return function(e,t,r){for(var n=e,i=t,o=r;o>i;){if(o-=i,!(n=n.parent))throw new Error(\"Invalid number of '../'\");i=n.segments.length}return new Bl(n,!1,i-o)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(s,t,e),c=a.processChildren?zl(a.segmentGroup,a.index,s.commands):Vl(a.segmentGroup,a.index,s.commands);return Nl(a.segmentGroup,c,t,i,o)}(u,this.currentUrlTree,e,d,l)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1}),Qe()&&this.isNgZoneEnabled&&!Wi.isInAngularZone()&&this.console.warn(\"Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?\");var r=Zl(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,\"imperative\",null,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(null==r)throw new Error(\"The requested path contains \"+r+\" segment at index \"+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){var t;try{t=this.urlSerializer.parse(e)}catch(r){t=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return t},e.prototype.isActive=function(e,t){if(Zl(e))return el(this.currentUrlTree,e,t);var r=this.parseUrl(e);return el(this.currentUrlTree,r,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce((function(t,r){var n=e[r];return null!=n&&(t[r]=n),t}),{})},e.prototype.processNavigations=function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Ru(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn(\"Unhandled Navigation Error: \")}))},e.prototype.scheduleNavigation=function(e,t,r,n){var i=this.getTransition();if(i&&\"imperative\"!==t&&\"imperative\"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&\"hashchange\"==t&&\"popstate\"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&\"popstate\"==t&&\"hashchange\"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise((function(e,t){o=e,s=t})),c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))},e.prototype.setBrowserUrl=function(e,t,r,i){var o=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,\"\",Object(n.__assign)({},i,{navigationId:r})):this.location.go(o,\"\",Object(n.__assign)({},i,{navigationId:r}))},e.prototype.resetStateAndUrl=function(e,t,r){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})},e}(),Bd=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ud,this.attachRef=null}}(),Ud=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Bd,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),Vd=function(){function e(e,t,r,n,i){this.parentContexts=e,this.location=t,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new yi,this.deactivateEvents=new yi,this.name=n||\"primary\",e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,\"isActivated\",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"component\",{get:function(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"activatedRoute\",{get:function(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"activatedRouteData\",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=e;var r=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new zd(e,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}(),zd=function(){function e(e,t,r){this.route=e,this.childContexts=t,this.parent=r}return e.prototype.get=function(e,t){return e===El?this.route:e===Ud?this.childContexts:this.parent.get(e,t)},e}(),Hd=function(){return function(){}}(),qd=function(){function e(){}return e.prototype.preload=function(e,t){return t().pipe(Za((function(){return Ca(null)})))},e}(),Gd=function(){function e(){}return e.prototype.preload=function(e,t){return Ca(null)},e}(),Wd=function(){function e(e,t,r,n,i){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=new Dd(t,r,(function(t){return e.triggerEvent(new Du(t))}),(function(t){return e.triggerEvent(new Mu(t))}))}return e.prototype.setUpPreloading=function(){var e=this;this.subscription=this.router.events.pipe(Ma((function(e){return e instanceof Ru})),pc((function(){return e.preload()}))).subscribe((function(){}))},e.prototype.preload=function(){var e=this.injector.get(Ne);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){var r,i,o=[];try{for(var s=Object(n.__values)(t),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.loadChildren&&!c.canLoad&&c._loadedConfig){var u=c._loadedConfig;o.push(this.processRoutes(u.module,u.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(e,c)):c.children&&o.push(this.processRoutes(e,c.children))}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return $(o).pipe(J(),H((function(e){})))},e.prototype.preloadConfig=function(e,t){var r=this;return this.preloadingStrategy.preload(t,(function(){return r.loader.load(e.injector,t).pipe(K((function(e){return t._loadedConfig=e,r.processRoutes(e.module,e.routes)})))}))},e}(),$d=function(){function e(e,t,r){void 0===r&&(r={}),this.router=e,this.viewportScroller=t,this.options=r,this.lastId=0,this.lastSource=\"imperative\",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||\"disabled\",r.anchorScrolling=r.anchorScrolling||\"disabled\"}return e.prototype.init=function(){\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration(\"manual\"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},e.prototype.createScrollEvents=function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Cu?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ru&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))},e.prototype.consumeScrollEvents=function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Fu&&(t.position?\"top\"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):\"enabled\"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&\"enabled\"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):\"disabled\"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))},e.prototype.scheduleScrollEvent=function(e,t){this.router.triggerEvent(new Fu(e,\"popstate\"===this.lastSource?this.store[this.restoredId]:null,t))},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},e}(),Kd=new ke(\"ROUTER_CONFIGURATION\"),Qd=new ke(\"ROUTER_FORROOT_GUARD\"),Zd=[ia,{provide:sl,useClass:al},{provide:Fd,useFactory:np,deps:[uo,sl,Ud,ia,Et,po,Ni,Id,Kd,[Md,new le],[Pd,new le]]},Ud,{provide:El,useFactory:ip,deps:[Fd]},{provide:po,useClass:mo},Wd,Gd,qd,{provide:Kd,useValue:{enableTracing:!1}}];function Yd(){return new io(\"Router\",Fd)}var Jd=function(){function e(e,t){}var t;return t=e,e.forRoot=function(e,r){return{ngModule:t,providers:[Zd,rp(e),{provide:Qd,useFactory:tp,deps:[[Fd,new le,new pe]]},{provide:Kd,useValue:r||{}},{provide:ra,useFactory:ep,deps:[ea,[new ue(na),new le],Kd]},{provide:$d,useFactory:Xd,deps:[Fd,va,Kd]},{provide:Hd,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Gd},{provide:io,multi:!0,useFactory:Yd},[op,{provide:_i,multi:!0,useFactory:sp,deps:[op]},{provide:cp,useFactory:ap,deps:[op]},{provide:ki,multi:!0,useExisting:cp}]]}},e.forChild=function(e){return{ngModule:t,providers:[rp(e)]}},e}();function Xd(e,t,r){return r.scrollOffset&&t.setOffset(r.scrollOffset),new $d(e,t,r)}function ep(e,t,r){return void 0===r&&(r={}),r.useHash?new sa(e,t):new aa(e,t)}function tp(e){if(e)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function rp(e){return[{provide:Lt,multi:!0,useValue:e},{provide:Id,multi:!0,useValue:e}]}function np(e,t,r,n,i,o,s,a,c,u,l){void 0===c&&(c={});var d=new Fd(null,t,r,n,i,o,s,Zu(a));if(u&&(d.urlHandlingStrategy=u),l&&(d.routeReuseStrategy=l),c.errorHandler&&(d.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(d.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var p=gc();d.events.subscribe((function(e){p.logGroup(\"Router Event: \"+e.constructor.name),p.log(e.toString()),p.log(e),p.logGroupEnd()}))}return c.onSameUrlNavigation&&(d.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(d.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(d.relativeLinkResolution=c.relativeLinkResolution),d}function ip(e){return e.routerState.root}var op=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(ta,Promise.resolve(null)).then((function(){var t=null,r=new Promise((function(e){return t=e})),n=e.injector.get(Fd),i=e.injector.get(Kd);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if(\"disabled\"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if(\"enabled\"!==i.initialNavigation)throw new Error(\"Invalid initialNavigation options: '\"+i.initialNavigation+\"'\");n.hooks.afterPreactivation=function(){return e.initNavigation?Ca(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},n.initialNavigation()}return r}))},e.prototype.bootstrapListener=function(e){var t=this.injector.get(Kd),r=this.injector.get(Wd),n=this.injector.get($d),i=this.injector.get(Fd),o=this.injector.get(uo);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),r.setUpPreloading(),n.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return\"legacy_enabled\"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return\"legacy_disabled\"===e.initialNavigation||!1===e.initialNavigation},e}();function sp(e){return e.appInitializer.bind(e)}function ap(e){return e.bootstrapListener.bind(e)}var cp=new ke(\"Router Initializer\"),up=Hr({encapsulation:2,styles:[],data:{}});function lp(e){return Ho(0,[(e()(),Oo(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Jn(1,212992,null,0,Vd,[Ud,kr,Jt,[8,null],Rt],null,null)],(function(e,t){e(t,1,0)}),null)}function dp(e){return Ho(0,[(e()(),Oo(0,0,null,null,1,\"ng-component\",[],null,null,null,lp,up)),Jn(1,49152,null,0,Bu,[],null,null)],null,null)}var pp=En(\"ng-component\",Bu,dp,{},{},[]),hp=function(){function e(e,t){this.router=e,this.roomService=t}return e.prototype.ngOnInit=function(){},e.prototype.preview=function(e){var t=this;console.log(e),this.roomService.getRoom(e).subscribe((function(r){console.log(\"room from room find\",r),r.length>0?(console.log(\"found\"),t.router.navigate([\"/room/\"+e])):(console.log(\"not found\"),t.notFound=!0),console.log(r)}))},e.prototype.createRoom=function(){var e=this,t=this.makeid(15);console.log(\"created id\",t),this.roomService.createRoom(t).subscribe((function(r){e.router.navigate([\"/room/\"+t]),console.log(r)}))},e.prototype.makeid=function(e){for(var t=\"\",r=\"abcdefghijklmnopqrtuvwxyz\".length,n=0;n<e;n++)t+=\"abcdefghijklmnopqrtuvwxyz\".charAt(Math.floor(Math.random()*r));return t},e}(),fp=function(){function e(e,t){this.http=e,this.ProcessHttpmsgService=t}return e.prototype.isOpen=function(){return this._isOpen},e.prototype.getRoom=function(e){return this.http.get(Ys+\"main/lookup/\"+e).pipe(Za(this.ProcessHttpmsgService.handleError))},e.prototype.createRoom=function(e){return this.http.post(Ys+\"main/create/\",{id:e}).pipe(Za(this.ProcessHttpmsgService.handleError))},e.prototype.joinRoom=function(e,t){return this.http.post(Ys+\"main/join/\",{name:e,room:t}).pipe(Za(this.ProcessHttpmsgService.handleError))},e}(),mp=Hr({encapsulation:0,styles:[[\"\"]],data:{}});function gp(e){return Ho(0,[(e()(),Oo(0,0,null,null,1,\"h3\",[],null,null,null,null,null)),(e()(),Uo(-1,null,[\"Uh oh! Room not found. Try a different link or create a brand new room\"]))],null,null)}function yp(e){return Ho(0,[(e()(),Oo(0,0,null,null,1,\"h1\",[],null,null,null,null,null)),(e()(),Uo(-1,null,[\"Welcome to NEON\"])),(e()(),Oo(2,0,null,null,1,\"p\",[],null,null,null,null,null)),(e()(),Uo(-1,null,[\"Joining a room? Enter the room ID here or enter the join URL in a different tab\"])),(e()(),Oo(4,0,[[\"roomID\",1]],null,0,\"input\",[[\"id\",\"roomID\"],[\"placeholder\",\"Room ID\"]],null,null,null,null,null)),(e()(),Oo(5,0,null,null,1,\"button\",[],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.preview(Bn(e,4).value)&&n),n}),null,null)),(e()(),Uo(-1,null,[\"Preview Video\"])),(e()(),Oo(7,0,null,null,1,\"p\",[],null,null,null,null,null)),(e()(),Uo(-1,null,[\"add imagery of tubes here\"])),(e()(),Oo(9,0,null,null,1,\"button\",[],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.createRoom()&&n),n}),null,null)),(e()(),Uo(-1,null,[\"Create A Room\"])),(e()(),Po(16777216,null,null,1,null,gp)),Jn(12,16384,null,0,ha,[kr,xr],{ngIf:[0,\"ngIf\"]},null)],(function(e,t){e(t,12,0,t.component.notFound)}),null)}function vp(e){return Ho(0,[(e()(),Oo(0,0,null,null,1,\"app-entry\",[],null,null,null,yp,mp)),Jn(1,114688,null,0,hp,[Fd,fp],null,null)],(function(e,t){e(t,1,0)}),null)}var bp=En(\"app-entry\",hp,vp,{},{},[]),_p=r(\"3fo0\"),wp=function(){function e(e,t,r,i,o,s,a,c,u,l,d){var p=this;this.roomService=u,this._EVENTS={exitRoom:\"exitRoom\",openRoom:\"openRoom\",startVideo:\"startVideo\",stopVideo:\"stopVideo\",startAudio:\"startAudio\",stopAudio:\"stopAudio\",startScreen:\"startScreen\",stopScreen:\"stopScreen\"},this.mediaType={audio:\"audioType\",video:\"videoType\",screen:\"screenType\"},console.log(\"vidsource\",l),console.log(\"room\",s),this.room_id=s,this.username=a,console.log(\"socket\",o),this.localMediaEl=e,this.name=a,this.username=a,this.vidSource=l,this.audSource=d,this.userLabel=document.getElementById(\"userLabel\"),this.remoteAudioEl=i,this.remoteVideoEl1=t,this.remoteVideoEl2=r,this.successCallback=c,this.socket=o,this.y=0,this.consumers=new Map,this.producers=new Map,this.roomService.getRoom(this.room_id).subscribe((function(e){p.room=e,console.log(\"room from initial\",e)})),this.socket.request=function(e,t){var r=this;return void 0===t&&(t={}),new Promise((function(n,i){r.emit(e,t,(function(e){e.error?i(e.error):n(e)}))}))},this.producerLabel=new Map,this._isOpen=!1,this.eventListeners=new Map,Object.keys(this._EVENTS).forEach((function(e){this.eventListeners.set(e,[])}).bind(this)),this.createRoom(s).then((function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return[4,this.join(a,s)];case 1:return e.sent(),this.initSockets(),this._isOpen=!0,this.successCallback(),[2]}}))}))}).bind(this))}return e.prototype.isOpen=function(){return this._isOpen},e.prototype.createRoom=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return console.log(\"socket from creatteroom\",this.socket),[4,this.socket.request(\"createRoom\",{room_id:e}).catch((function(e){console.log(e)}))];case 1:return t.sent(),[2]}}))}))},e.prototype.add=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return console.log(\"add button clicked\"),[2]}))}))},e.prototype.join=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o;return n.__generator(this,(function(s){return r=document.getElementById(\"nameInput\"),i=document.getElementById(\"userLabel\"),this.reveal(r),this.reveal(i),o=[],console.log(\"name from join\",e),console.log(\"name input from join\",r.value),this.socket.request(\"join\",{name:e,room_id:t}).then((function(t){return n.__awaiter(this,void 0,void 0,(function(){var r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return o[0]=e,console.log(t),[4,this.socket.request(\"getRouterRtpCapabilities\")];case 1:return r=n.sent(),o[1]=r,console.log(\"data\",r),[4,this.loadDevice(r)];case 2:return i=n.sent(),this.device=i,o[2]=i,[4,this.initTransports(this.device)];case 3:return n.sent(),this.produceAudio(this.mediaType.audio,this.vidSource,this.name),console.log(\"usercount is 0\"),this.produceVideo(this.mediaType.video,this.vidSource,this.name),this.socket.emit(\"getProducers\"),[2]}}))}))}).bind(this)).catch((function(e){console.log(e)})),[2]}))}))},e.prototype.loadDevice=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=new _p.Device,console.log(\"device\",t),[4,t.load({routerRtpCapabilities:e})];case 1:return n.sent(),this.device=t,[2,t];case 2:return\"UnsupportedError\"===(r=n.sent()).name&&console.error(\"browser not supported\"),console.error(r),[3,3];case 3:return[2]}}))}))},e.prototype.initTransports=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(i){switch(i.label){case 0:return console.log(\"init transports\"),console.log(\"name from init transports\",this.username),[4,this.socket.request(\"createWebRtcTransport\",{forceTcp:!1,rtpCapabilities:e.rtpCapabilities})];case 1:return t=i.sent(),console.log(\"createtwebrtc datat\",t),t.error?(console.error(t.error),[2]):(this.producerTransport=e.createSendTransport(t),this.producerTransport.on(\"connect\",(function(e,r,i){var o=e.dtlsParameters;return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return this.socket.request(\"connectTransport\",{dtlsParameters:o,transport_id:t.id}).then(r).catch(i),[2]}))}))}).bind(this)),this.producerTransport.on(\"produce\",(function(e,t,r){var i=e.kind,o=e.rtpParameters;return n.__awaiter(this,void 0,void 0,(function(){var e,s;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.socket.request(\"produce\",{producerTransportId:this.producerTransport.id,kind:i,rtpParameters:o})];case 1:return e=n.sent().producer_id,t({id:e}),[3,3];case 2:return s=n.sent(),r(s),[3,3];case 3:return[2]}}))}))}).bind(this)),this.producerTransport.on(\"connectionstatechange\",(function(e){switch(e){case\"connecting\":case\"connected\":break;case\"failed\":this.producerTransport.close()}}).bind(this)),[4,this.socket.request(\"createWebRtcTransport\",{forceTcp:!1})]);case 2:return r=i.sent(),console.log(\"forcetcp data\",r),r.error?(console.error(r.error),[2]):(this.consumerTransport=e.createRecvTransport(r),this.consumerTransport.on(\"connect\",(function(e,t,r){this.socket.request(\"connectTransport\",{transport_id:this.consumerTransport.id,dtlsParameters:e.dtlsParameters}).then(t).catch(r)}).bind(this)),this.consumerTransport.on(\"connectionstatechange\",(function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(e){case\"connecting\":case\"connected\":break;case\"failed\":this.consumerTransport.close()}return[2]}))}))}).bind(this)),[2])}}))}))},e.prototype.initSockets=function(){this.socket.on(\"consumerClosed\",(function(e){var t=e.consumer_id;console.log(\"closing consumer:\",t),this.removeConsumer(t)}).bind(this)),this.socket.on(\"newProducers\",(function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i,o,s;return n.__generator(this,(function(a){switch(a.label){case 0:console.log(\"new producers\",e),a.label=1;case 1:a.trys.push([1,6,7,8]),t=n.__values(e),r=t.next(),a.label=2;case 2:return r.done?[3,5]:[4,this.consume(r.value.producer_id)];case 3:a.sent(),a.label=4;case 4:return r=t.next(),[3,2];case 5:return[3,8];case 6:return i=a.sent(),o={error:i},[3,8];case 7:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(o)throw o.error}return[7];case 8:return[2]}}))}))}).bind(this)),this.socket.on(\"disconnect\",(function(){this.exit(!0)}).bind(this))},e.prototype.hide=function(e){e.classList.add(\"hidden\")},e.prototype.reveal=function(e){e.classList.remove(\"hidden\")},e.prototype.produceVideo=function(e,t,r){return void 0===t&&(t=null),n.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,d,p,h,f,m,g,y,v,b,_,w,S,C,R,x,T,k,E=this;return n.__generator(this,(function(n){switch(n.label){case 0:switch(console.log(\"produce video called\"),i=document.getElementById(\"previewvid\"),o=document.getElementById(\"nameInput\"),s=document.getElementById(\"startVideoButton\"),a=document.getElementById(\"userLabel\"),c=document.getElementById(\"preview\"),u=document.getElementById(\"remoteVideos1\"),l=document.getElementById(\"remoteVideos2\"),d=document.getElementById(\"radio\"),i&&i.srcObject.getTracks().forEach((function(e){e.stop()})),this.hide(o),this.hide(s),this.hide(a),c&&(c.remove(),this.hide(c)),this.reveal(d),this.reveal(u),this.reveal(l),console.log(\"name is\",r),console.log(\"producetype\",e),console.log(\"device id\",t),p={},h=!1,f=!1,e){case this.mediaType.audio:p={audio:{deviceId:t},video:!1},h=!0;break;case this.mediaType.video:p={audio:!0,video:{width:{min:400,ideal:720},height:{min:400,ideal:720},deviceId:t,aspectRatio:{ideal:1.7777777778}}};break;case this.mediaType.screen:p=!1,f=!0;break;default:return[2]}if(!this.device.canProduce(\"video\")&&!h)return console.error(\"cannot produce video\"),[2];if(this.producerLabel.has(e))return console.log(\"producer already exists for this type \"+e),[2];console.log(\"mediacontraints:\",p),n.label=1;case 1:return n.trys.push([1,7,,8]),g=navigator.mediaDevices,f?[4,g.getDisplayMedia()]:[3,3];case 2:return y=n.sent(),[3,5];case 3:return[4,g.getUserMedia(p)];case 4:y=n.sent(),n.label=5;case 5:return m=y,console.log(g.getSupportedConstraints()),console.log(\"stream from produce\",m),v=h?m.getAudioTracks()[0]:m.getVideoTracks()[0],b={track:v},console.log(b),h||f||(b.track.encodings=[{rid:\"r0\",maxBitrate:1e5,scalabilityMode:\"S1T3\"},{rid:\"r1\",maxBitrate:3e5,scalabilityMode:\"S1T3\"},{rid:\"r2\",maxBitrate:9e5,scalabilityMode:\"S1T3\"}],b.track.codecOptions={videoGoogleStartBitrate:1e3}),[4,this.producerTransport.produce(b)];case 6:if(_=n.sent(),console.log(\"producer\",_),this.producers.set(_.id,_),console.log(\"this producers\",this.producers),S=void 0,this.myPosition=(R=this.room[0].usercount)+1,console.log(\"length before placement\",R),R%2==0?h||((S=document.createElement(\"div\")).className=\"outer\",console.log(\"placing in row 1\"),this.remoteVideoEl1.appendChild(S),(w=document.createElement(\"video\")).srcObject=m,w.muted=!0,w.id=_.id,w.playsinline=!1,w.autoplay=!0,w.className=\"vid\",(C=document.createElement(\"h1\")).innerHTML=this.username,C.className=\"abs\",S.appendChild(w),S.appendChild(C)):h||((S=document.createElement(\"div\")).className=\"outer\",console.log(\"placing in row 2\"),this.remoteVideoEl2.appendChild(S),(w=document.createElement(\"video\")).srcObject=m,w.id=_.id,w.muted=!0,w.playsinline=!1,w.autoplay=!0,w.className=\"vid\",(C=document.createElement(\"h1\")).innerHTML=this.username,C.className=\"abs\",S.appendChild(w),S.appendChild(C)),x=document.getElementsByClassName(\"outer\"),console.log(\"element count\",x.length),1==x.length||2==x.length)for(x=document.getElementsByClassName(\"outer\"),T=0;T<x.length;T++)x[T].classList.add(\"one\");if(3==x.length||4==x.length)for(x=document.getElementsByClassName(\"outer\"),T=0;T<x.length;T++)x[T].classList.add(\"two\");if(5==x.length||6==x.length)for(x=document.getElementsByClassName(\"outer\"),T=0;T<x.length;T++)x[T].classList.add(\"three\");if(7==x.length||8==x.length)for(x=document.getElementsByClassName(\"outer\"),T=0;T<x.length;T++)x[T].classList.add(\"four\");if(9==x.length||10==x.length)for(x=document.getElementsByClassName(\"outer\"),T=0;T<x.length;T++)x[T].classList.add(\"five\");switch(_.on(\"trackended\",(function(){E.closeProducer(e)})),_.on(\"transportclose\",(function(){console.log(\"producer transport close\",_.id),h||(w.srcObject.getTracks().forEach((function(e){console.log(\"velem track\",e),e.stop()})),w.parentNode.removeChild(w),console.log(\"inside\")),E.producers.delete(_.id),document.getElementById(_.id).remove();var e=document.getElementById(\"exitButton\");E.hide(e),console.log(\"stream\",m)})),_.on(\"close\",(function(){console.log(\"closing producer\"),h||(w.srcObject.getTracks().forEach((function(e){e.stop()})),w.parentNode.removeChild(w)),E.producers.delete(_.id)})),this.producerLabel.set(e,_.id),e){case this.mediaType.audio:this.event(this._EVENTS.startAudio);break;case this.mediaType.video:this.event(this._EVENTS.startAudio),this.event(this._EVENTS.startVideo);break;case this.mediaType.screen:this.event(this._EVENTS.startScreen);break;default:return[2]}return[3,8];case 7:return k=n.sent(),console.log(k),[3,8];case 8:return[2]}}))}))},e.prototype.produceAudio=function(e,t,r){return void 0===t&&(t=null),n.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,d,p,h,f=this;return n.__generator(this,(function(n){switch(n.label){case 0:switch(console.log(\"producing audio\"),document.getElementById(\"previewvid\"),this.username=r,console.log(\"type\"),i={},o=!0,s=!1,e){case this.mediaType.audio:i={audio:{deviceId:t},video:!1},o=!0;break;case this.mediaType.video:i={audio:!1,video:{width:{min:400,ideal:720},height:{min:400,ideal:720},deviceId:t,aspectRatio:{ideal:1.7777777778}}};break;case this.mediaType.screen:i=!1,s=!0;break;default:return[2]}if(!this.device.canProduce(\"video\")&&!o)return console.error(\"cannot produce video\"),[2];if(this.producerLabel.has(e))return console.log(\"producer already exists for this type \"+e),[2];console.log(\"mediacontraints:\",i),n.label=1;case 1:return n.trys.push([1,7,,8]),c=navigator.mediaDevices,s?[4,c.getDisplayMedia()]:[3,3];case 2:return u=n.sent(),[3,5];case 3:return[4,c.getUserMedia(i)];case 4:u=n.sent(),n.label=5;case 5:return a=u,console.log(c.getSupportedConstraints()),console.log(\"stream\",a),l=o?a.getAudioTracks()[0]:a.getVideoTracks()[0],d=a.getAudioTracks()[0],console.log(\"audio trakcs\",d),[4,this.producerTransport.produce({track:l})];case 6:switch(p=n.sent(),console.log(\"producer\",p),this.producers.set(p.id,p),p.on(\"trackended\",(function(){f.closeProducer(e)})),p.on(\"transportclose\",(function(){console.log(\"producer transport close\",p.id),f.producers.delete(p.id),document.getElementById(p.id).remove(),console.log(\"stream\",a)})),p.on(\"close\",(function(){console.log(\"closing producer\"),f.producers.delete(p.id)})),this.producerLabel.set(e,p.id),e){case this.mediaType.audio:this.event(this._EVENTS.startAudio);break;case this.mediaType.video:this.event(this._EVENTS.startVideo);break;case this.mediaType.screen:this.event(this._EVENTS.startScreen);break;default:return[2]}return[3,8];case 7:return h=n.sent(),console.log(h),[3,8];case 8:return[2]}}))}))},e.prototype.consume=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(r){return console.log(\"consume event\"),t=document.querySelectorAll(\"video\").length,console.log(\"video count\",t),this.getConsumeStream(e).then((function(t){var r,n,i,o,s=this,a=t.consumer,c=t.stream,u=t.kind;if(this.consumers.set(a.id,a),\"video\"===u){var l=this;console.log(\"before join name\",this.name),console.log(\"before join room id \",this.room_id),this.roomService.joinRoom(this.name,this.room_id).subscribe((function(t){console.log(\"room from room find\",t),console.log(\"join room success: \"),l.roomusers=t[0].users,console.log(\"room users from intro\",l.roomusers);var n=[];console.log(\"comparing\",l.roomusers,e);for(var u=e,d=0;d<l.roomusers.length;d++)l.roomusers[d].produce_id==u&&n.push(l.roomusers[d]),l.roomusers[d].name==s.name&&(s.myPosition=l.roomusers[d].position);if(console.log(\"results after\",n),console.log(\"length before placement\",l.roomusers.length),console.log(\"divided\",l.roomusers.length%2),n[0].position%2!=0?(console.log(\"results\",n),console.log(\"results\",n[0].name),console.log(\"video element creation\",s.y),(i=document.createElement(\"div\")).className=\"outer\",l.remoteVideoEl1.appendChild(i),console.log(\"adding to row 1\"),s.y++,(r=document.createElement(\"video\")).srcObject=c,r.id=a.id,r.playsinline=!1,r.autoplay=!0,r.className=\"vid\",(o=document.createElement(\"h1\")).innerHTML=n[0].name,o.className=\"abs\",i.appendChild(r),i.appendChild(o)):(console.log(\"results\",n),console.log(\"results\",n[0].name),console.log(\"video element creation\",s.y),(i=document.createElement(\"div\")).className=\"outer\",l.remoteVideoEl2.appendChild(i),console.log(\"adding to row 2\"),s.y++,(r=document.createElement(\"video\")).srcObject=c,r.id=a.id,r.playsinline=!1,r.autoplay=!0,r.className=\"vid\",(o=document.createElement(\"h1\")).innerHTML=n[0].name,o.className=\"abs\",i.appendChild(r),i.appendChild(o)),console.log(\"consumer id\",a.id),console.log(\"my position\",s.myPosition,\"result id\",n[0].produce_id),s.myPosition%2!=0)s.myPosition+3==n[0].position?(console.log(\"consumer id\",a.id),p.style.maxHeight=\"35vh\"):s.myPosition-1==n[0].position&&((p=document.getElementById(a.id)).style.maxHeight=\"35vh\");else if(s.myPosition-3==n[0].position)(p=document.getElementById(a.id)).style.maxHeight=\"35vh\";else if(s.myPosition+1==n[0].position){var p;(p=document.getElementById(a.id)).style.maxHeight=\"35vh\"}var h=document.getElementsByClassName(\"outer\");if(console.log(\"element count\",h.length),1==h.length||2==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"one\");if(3==h.length||4==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"two\");if(5==h.length||6==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"three\");if(7==h.length||8==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"four\");if(9==h.length||10==h.length)for(h=document.getElementsByClassName(\"outer\"),d=0;d<h.length;d++)h[d].classList.add(\"five\")}))}else l=this,this.roomService.joinRoom(this.name,this.room_id).subscribe((function(t){console.log(\"room from room find\",t),l.roomusers=t[0].users,console.log(\"room users from intro\",l.roomusers);var r=[];console.log(\"comparing\",l.roomusers,e);for(var i=e,o=0;o<l.roomusers.length;o++)l.roomusers[o].audio_id==i&&r.push(l.roomusers[o]),l.roomusers[o].name==s.name&&(s.myPosition=l.roomusers[o].position);console.log(\"audio results after\",r),console.log(\"length before placement\",l.roomusers.length),console.log(\"divided\",l.roomusers.length%2),(n=document.createElement(\"audio\")).srcObject=c,n.id=a.id,n.playsinline=!1,n.autoplay=!0,s.remoteAudioEl.appendChild(n),s.myPosition%2!=0?s.myPosition+3==r[0].position?(console.log(\"consumer id\",a.id),n.volume=.5):s.myPosition-1==r[0].position&&(document.getElementById(a.id),n.volume=.5):(s.myPosition-3==r[0].position||s.myPosition+1==r[0].position)&&(document.getElementById(a.id),n.volume=.5)}));a.on(\"trackended\",(function(){console.log(\"trackended\",a.id),this.removeConsumer(a.id)}).bind(this)),a.on(\"transportclose\",(function(){console.log(\"transport closed\",a.id),this.removeConsumer(a.id)}).bind(this))}).bind(this)),[2]}))}))},e.prototype.getConsumeStream=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i,o,s;return n.__generator(this,(function(n){switch(n.label){case 0:return console.log(\"consume stream\"),[4,this.socket.request(\"consume\",{rtpCapabilities:this.device.rtpCapabilities,consumerTransportId:this.consumerTransport.id,producerId:e})];case 1:return t=n.sent(),[4,this.consumerTransport.consume({id:t.id,producerId:e,kind:r=t.kind,rtpParameters:t.rtpParameters,codecOptions:{}})];case 2:return i=n.sent(),o=new MediaStream,s=document.getElementById(\"remoteAudios\"),console.log(\"audi\",s),s.volume=1,o.addTrack(i.track),console.log(\"stream from getconsume stream\",o),[2,{consumer:i,stream:o,kind:r}]}}))}))},e.prototype.closeProducer=function(e){if(console.log(\"closing producer\"),this.producerLabel.has(e)){var t=this.producerLabel.get(e);if(console.log(t),this.socket.emit(\"producerClosed\",{producer_id:t}),this.producers.get(t).close(),this.producers.delete(t),this.producerLabel.delete(e),console.log(\"close producer\"),e!==this.mediaType.audio){var r=document.getElementById(t);r.parentNode.removeChild(r)}switch(e){case this.mediaType.audio:this.event(this._EVENTS.stopAudio);break;case this.mediaType.video:this.event(this._EVENTS.stopVideo);break;case this.mediaType.screen:this.event(this._EVENTS.stopScreen);break;default:return}}else console.log(\"there is no producer for this type \"+e)},e.prototype.exit=function(e){void 0===e&&(e=!1);var t=document.getElementById(\"exitButton\");this.hide(t),console.log(\"exit room\");var r=(function(){this._isOpen=!1,this.consumerTransport.close(),this.producerTransport.close(),this.socket.off(\"disconnect\"),this.socket.off(\"newProducers\"),this.socket.off(\"consumerClosed\"),console.log(\"cleaned\")}).bind(this);e?r():this.socket.request(\"exitRoom\").then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)})).finally((function(){r()}).bind(this)),this.event(this._EVENTS.exitRoom)},e.prototype.removeConsumer=function(e){console.log(\"person leaving is \",e);var t=document.getElementById(e);t.parentElement.remove(),t.parentNode.removeChild(t),this.consumers.delete(e)},e.prototype.event=function(e){this.eventListeners.has(e)&&this.eventListeners.get(e).forEach((function(e){return e()}))},e.prototype.on=function(e,t){this.eventListeners.get(e).push(t)},Object.defineProperty(e,\"EVENTS\",{get:function(){return this.EVENTS},enumerable:!0,configurable:!0}),e}(),Sp=function(){function e(e,t,r,n){this.location=e,this.router=t,this.socket=r,this.roomService=n,this.remoteVideos1=document.getElementById(\"remoteVideos1\"),this.remoteVideos2=document.getElementById(\"remoteVideos2\"),this.remoteAudios=document.getElementById(\"remoteAudios\"),this.startVideoButton=document.getElementById(\"startVideoButton\"),this.videoMedia=document.getElementById(\"videoMedia\"),this.login=document.getElementById(\"login\"),this.control=document.getElementById(\"control\"),this.nameInput=document.getElementById(\"nameInput\"),this.userLabel=document.getElementById(\"userLabel\"),this.name=name,this.username=name}return e.prototype.ngOnInit=function(){var e=this,t=this.router.url.split(\"/\"),r=t[t.length-1];this.room_id=r,console.log(\"room id\",r);var n=document.getElementById(\"exitButton\");this.exitButton=n,document.getElementById(\"videoMedia\"),document.getElementById(\"startVideoButton\");var i=document.getElementById(\"previewvid\"),o=document.getElementById(\"remoteVideos1\");this.remoteVideos1=o;var s=document.getElementById(\"remoteVideos2\");this.remoteVideos2=s;var a=document.getElementById(\"localMedia\");this.localMedia=a;var c=document.getElementById(\"remoteAudios\");this.remoteAudios=c,console.log(this.router.url),console.log(\"this\",this),this.socket.on(\"disconnect\",(function(){console.log(e.socket)})),this.socket.on(\"connect_error\",(function(){console.log(\"connect error\")})),this.preview(i,o,s)},e.prototype.handleErrors=function(e){console.log(\"err\",e)},e.prototype.successCallback=function(){},e.prototype.joinRoom=function(e,t){this.addListeners()},e.prototype.exit=function(){this.rc.exit()},e.prototype.roomOpen=function(e,t){console.log(\"this from room oepn\",this);var r=document.getElementById(\"startVideoButton\");console.log(\"start video button\",r),this.reveal(r),console.log(\"exit button\",e),this.reveal(e),console.log(\"video media\",t),this.reveal(t)},e.prototype.hide=function(e){e.classList.add(\"hidden\")},e.prototype.reveal=function(e){e.classList.remove(\"hidden\")},e.prototype.addListeners=function(){},e.prototype.produceVideo=function(e,t,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o;return n.__generator(this,(function(n){return console.log(\"source is\",r),this.rc?console.log(\"already connected to a room\"):(this.rc=new wp(this.localMedia,this.remoteVideos1,this.remoteVideos2,this.remoteAudios,this.socket,this.room_id,t,this.successCallback,this.roomService,e,i),console.log(\"this rc\",this.rc),this.addListeners()),o=this.rc.mediaType.video,this.rc.name=t,console.log(\"this rc\",this.rc),console.log(\"produce video\",o,e,t),[2]}))}))},e.prototype.produceAudio=function(e,t){console.log(\"produce audio\",e,t)},e.prototype.preview=function(e,t,r){var n=document.querySelector(\"video\"),i=document.querySelector(\"select#audioSource\"),o=document.querySelector(\"select#audioOutput\"),s=document.querySelector(\"select#videoSource\"),a=[i,o,s];function c(e){var t=a.map((function(e){return e.value}));a.forEach((function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}));for(var r=0;r!==e.length;++r){var n=e[r],c=document.createElement(\"option\");c.value=n.deviceId,\"audioinput\"===n.kind?(c.text=n.label||\"microphone \"+(i.value.length+1),i.appendChild(c)):\"audiooutput\"===n.kind?(c.text=n.label||\"speaker \"+(o.value.length+1),o.appendChild(c)):\"videoinput\"===n.kind?(c.text=n.label||\"camera \"+(s.value.length+1),s.appendChild(c)):console.log(\"Some other kind of source/device: \",n)}a.forEach((function(e,r){Array.prototype.slice.call(e.childNodes).some((function(e){return e.value===t[r]}))&&(e.value=t[r])}))}function u(e){return window.stream=e,n.srcObject=e,navigator.mediaDevices.enumerateDevices()}function l(e){console.log(\"navigator.MediaDevices.getUserMedia error: \",e.message,e.name)}navigator.mediaDevices.enumerateDevices().then(c).catch(l);var d=document.querySelector(\"video\");function p(){window.stream&&window.stream.getTracks().forEach((function(e){e.stop()}));var e=s.value;navigator.mediaDevices.getUserMedia({video:{deviceId:e?{exact:e}:void 0}}).then(u).then(c).catch(l)}navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){d.srcObject=e})).catch((function(e){console.log(\"navigator.getUserMedia error: \",e)})),i.onchange=p,o.onchange=function(){var e,t;t=o.value,void 0!==(e=n).sinkId?e.setSinkId(t).then((function(){console.log(\"Success, audio output device attached: \"+t)})).catch((function(e){var t=e;\"SecurityError\"===e.name&&(t=\"You need to use HTTPS for selecting audio output device: \"+e),console.error(t)})):console.warn(\"Browser does not support output device selection.\")},s.onchange=p,p()},e.prototype.openNav=function(){document.getElementById(\"mySidenav\").style.width=\"250px\"},e.prototype.closeNav=function(){document.getElementById(\"mySidenav\").style.width=\"0\"},e.prototype.typing=function(e){var t=document.getElementById(\"startVideoButton\");this.reveal(t),document.getElementById(\"previewName\").innerHTML=e},e.prototype.playMusic=function(){if(this.radio)this.playing?(this.radio.pause(),this.playing=!1):(this.radio.play(),this.playing=!0);else{var e=new Audio;e.src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/858/outfoxing.mp3\",this.radio=e,e.load(),e.play(),this.playing=!0}},e}(),Cp=r(\"pqID\"),Rp=r.n(Cp),xp=function(){function e(e){this.config=e,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:\"\",options:{}},void 0===e&&(e=this.emptyConfig),this.ioSocket=(Rp.a?Rp.a:Cp)(e.url,e.options)}return e.prototype.of=function(e){this.ioSocket.of(e)},e.prototype.on=function(e,t){this.ioSocket.on(e,t)},e.prototype.once=function(e,t){this.ioSocket.once(e,t)},e.prototype.connect=function(){return this.ioSocket.connect()},e.prototype.disconnect=function(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.ioSocket.emit.apply(this.ioSocket,arguments)},e.prototype.removeListener=function(e,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)},e.prototype.removeAllListeners=function(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)},e.prototype.fromEvent=function(e){var t=this;return this.subscribersCounter[e]||(this.subscribersCounter[e]=0),this.subscribersCounter[e]++,this.eventObservables$[e]||(this.eventObservables$[e]=new S((function(r){var n=function(e){r.next(e)};return t.ioSocket.on(e,n),function(){t.subscribersCounter[e]--,0===t.subscribersCounter[e]&&(t.ioSocket.removeListener(e,n),delete t.eventObservables$[e])}})).pipe(se())),this.eventObservables$[e]},e.prototype.fromOneTimeEvent=function(e){var t=this;return new Promise((function(r){return t.once(e,r)}))},e}();function Tp(e){return new xp(e)}var kp=new ke(\"__SOCKET_IO_CONFIG__\"),Ep=function(){function e(){}var t;return t=e,e.forRoot=function(e){return{ngModule:t,providers:[{provide:kp,useValue:e},{provide:xp,useFactory:Tp,deps:[kp]}]}},e}(),Pp=Hr({encapsulation:0,styles:[\".containers[_ngcontent-%COMP%] {\\n            display: grid;\\n            grid-gap: 5px;\\n            grid-template-columns: repeat(auto-fit, 1fr);\\n            grid-template-rows: repeat(auto-fit, 300px);\\n        }\\n\\n        .container[_ngcontent-%COMP%] {\\n            display: flex;\\n        }\\n\\n        .vid[_ngcontent-%COMP%] {\\n            flex: 0 1 auto;\\n            height: 400px;\\n        }\\n\\n        .settings[_ngcontent-%COMP%] {\\n            background-color: #4CAF50;\\n            border: none;\\n            color: white;\\n            padding: 5px 10px;\\n            text-align: center;\\n            text-decoration: none;\\n            display: inline-block;\\n            font-size: 14px;\\n            margin: 2px 2px;\\n            cursor: pointer;\\n        }\\n\\n        .hidden[_ngcontent-%COMP%] {\\n            display: none\\n        }\",[\"\"]],data:{}});function Op(e){return Ho(0,[(e()(),Oo(0,0,null,null,46,\"html\",[],null,null,null,null,null)),(e()(),Oo(1,0,null,null,0,\"head\",[],null,null,null,null,null)),(e()(),Oo(2,0,null,null,44,\"body\",[],null,null,null,null,null)),(e()(),Oo(3,0,null,null,1,\"h1\",[],null,null,null,null,null)),(e()(),Uo(-1,null,[\"neon\"])),(e()(),Oo(5,0,null,null,1,\"span\",[[\"class\",\"i\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.openNav()&&n),n}),null,null)),(e()(),Uo(-1,null,[\"\\u24d8\"])),(e()(),Oo(7,0,null,null,14,\"div\",[[\"class\",\"\"],[\"id\",\"videoMedia\"]],null,null,null,null,null)),(e()(),Oo(8,0,null,null,1,\"div\",[[\"class\",\"video-container\"]],null,null,null,null,null)),(e()(),Oo(9,0,null,null,0,\"div\",[[\"id\",\"localMedia\"],[\"onclick\",\"rc.clicked()\"]],null,null,null,null,null)),(e()(),Oo(10,0,null,null,0,\"p\",[[\"id\",\"userLabel\"]],null,null,null,null,null)),(e()(),Oo(11,0,[[\"nameInput\",1]],null,0,\"input\",[[\"id\",\"nameInput\"],[\"placeholder\",\"Your Name\"],[\"type\",\"text\"]],null,[[null,\"keyup\"]],(function(e,t,r){var n=!0;return\"keyup\"===t&&(n=!1!==e.component.typing(Bn(e,11).value)&&n),n}),null,null)),(e()(),Oo(12,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Oo(13,0,null,null,2,\"div\",[[\"class\",\"outer\"],[\"id\",\"preview\"]],null,null,null,null,null)),(e()(),Oo(14,0,null,null,0,\"video\",[[\"autoplay\",\"\"],[\"class\",\"preview\"],[\"id\",\"previewvid\"],[\"playsinline\",\"\"]],null,null,null,null,null)),(e()(),Oo(15,0,[[\"previewName\",1]],null,0,\"h1\",[[\"class\",\"abs\"],[\"id\",\"previewName\"]],null,null,null,null,null)),(e()(),Oo(16,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Oo(17,0,null,null,1,\"button\",[[\"class\",\"hidden\"],[\"id\",\"startVideoButton\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.produceVideo(Bn(e,40).value,Bn(e,11).value,Bn(e,40).value,Bn(e,32).value)&&n),n}),null,null)),(e()(),Uo(-1,null,[\"Join Room\"])),(e()(),Oo(19,0,null,null,0,\"div\",[[\"id\",\"remoteVideos1\"]],null,null,null,null,null)),(e()(),Oo(20,0,null,null,0,\"div\",[[\"id\",\"remoteVideos2\"]],null,null,null,null,null)),(e()(),Oo(21,0,null,null,0,\"div\",[[\"id\",\"remoteAudios\"]],null,null,null,null,null)),(e()(),Oo(22,0,null,null,1,\"div\",[[\"id\",\"login\"]],null,null,null,null,null)),(e()(),Oo(23,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Oo(24,0,null,null,16,\"div\",[[\"class\",\"sidenav\"],[\"id\",\"mySidenav\"]],null,null,null,null,null)),(e()(),Oo(25,0,null,null,1,\"a\",[[\"class\",\"closebtn\"],[\"href\",\"javascript:void(0)\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.closeNav()&&n),n}),null,null)),(e()(),Uo(-1,null,[\"\\xd7\"])),(e()(),Oo(27,0,null,null,13,\"div\",[[\"class\",\"\"],[\"id\",\"control\"]],null,null,null,null,null)),(e()(),Oo(28,0,null,null,0,\"br\",[],null,null,null,null,null)),(e()(),Oo(29,0,null,null,3,\"div\",[[\"class\",\"select\"]],null,null,null,null,null)),(e()(),Oo(30,0,null,null,1,\"label\",[[\"for\",\"audioSource\"]],null,null,null,null,null)),(e()(),Uo(-1,null,[\"Audio input source: \"])),(e()(),Oo(32,0,[[\"audioSource\",1]],null,0,\"select\",[[\"id\",\"audioSource\"]],null,null,null,null,null)),(e()(),Oo(33,0,null,null,3,\"div\",[[\"class\",\"select\"]],null,null,null,null,null)),(e()(),Oo(34,0,null,null,1,\"label\",[[\"for\",\"audioOutput\"]],null,null,null,null,null)),(e()(),Uo(-1,null,[\"Audio output destination: \"])),(e()(),Oo(36,0,null,null,0,\"select\",[[\"id\",\"audioOutput\"]],null,null,null,null,null)),(e()(),Oo(37,0,null,null,3,\"div\",[[\"class\",\"select\"]],null,null,null,null,null)),(e()(),Oo(38,0,null,null,1,\"label\",[[\"for\",\"videoSource\"]],null,null,null,null,null)),(e()(),Uo(-1,null,[\"Video source: \"])),(e()(),Oo(40,0,[[\"videoSource\",1]],null,0,\"select\",[[\"id\",\"videoSource\"]],null,null,null,null,null)),(e()(),Oo(41,0,null,null,1,\"button\",[[\"class\",\"hidden\"],[\"id\",\"exitButton\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.exit()&&n),n}),null,null)),(e()(),Uo(-1,null,[\"Exit\"])),(e()(),Oo(43,0,null,null,3,\"div\",[[\"class\",\"radioOuter\"]],null,null,null,null,null)),(e()(),Oo(44,0,null,null,2,\"div\",[[\"class\",\"radio\"]],null,null,null,null,null)),(e()(),Oo(45,0,null,null,1,\"button\",[[\"aria-checked\",\"false\"],[\"class\",\"tape-controls-play hidden\"],[\"data-playing\",\"false\"],[\"id\",\"radio\"],[\"role\",\"switch\"]],null,[[null,\"click\"]],(function(e,t,r){var n=!0;return\"click\"===t&&(n=!1!==e.component.playMusic()&&n),n}),null,null)),(e()(),Uo(-1,null,[\"Audio Test\"]))],null,null)}function Ip(e){return Ho(0,[(e()(),Oo(0,0,null,null,1,\"app-home\",[],null,null,null,Op,Pp)),Jn(1,114688,null,0,Sp,[ia,Fd,xp,fp],null,null)],(function(e,t){e(t,1,0)}),null)}var Dp=En(\"app-home\",Sp,Ip,{},{},[]),Mp=Hr({encapsulation:0,styles:[[\"\"]],data:{}});function jp(e){return Ho(0,[(e()(),Oo(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Jn(1,212992,null,0,Vd,[Ud,kr,Jt,[8,null],Rt],null,null)],(function(e,t){e(t,1,0)}),null)}function Ap(e){return Ho(0,[(e()(),Oo(0,0,null,null,1,\"app-root\",[],null,null,null,jp,Mp)),Jn(1,49152,null,0,Xs,[],null,null)],null,null)}var Lp=En(\"app-root\",Xs,Ap,{},{},[]),Np=function(){return function(){}}(),Fp=function(){return function(){}}(),Bp=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit=\"string\"==typeof e?function(){t.headers=new Map,e.split(\"\\n\").forEach((function(e){var r=e.indexOf(\":\");if(r>0){var n=e.slice(0,r),i=n.toLowerCase(),o=e.slice(r+1).trim();t.maybeSetNormalizedName(n,i),t.headers.has(i)?t.headers.get(i).push(o):t.headers.set(i,[o])}}))}:function(){t.headers=new Map,Object.keys(e).forEach((function(r){var n=e[r],i=r.toLowerCase();\"string\"==typeof n&&(n=[n]),n.length>0&&(t.headers.set(i,n),t.maybeSetNormalizedName(r,i))}))}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:\"a\"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:\"s\"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:\"d\"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(r){t.headers.set(r,e.headers.get(r)),t.normalizedNames.set(r,e.normalizedNames.get(r))}))},e.prototype.clone=function(t){var r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case\"a\":case\"s\":var r=e.value;if(\"string\"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);var i=(\"a\"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,Object(n.__spread)(r)),this.headers.set(t,i);break;case\"d\":var o=e.value;if(o){var s=this.headers.get(t);if(!s)return;0===(s=s.filter((function(e){return-1===o.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(r){return e(t.normalizedNames.get(r),t.headers.get(r))}))},e}(),Up=function(){function e(){}return e.prototype.encodeKey=function(e){return Vp(e)},e.prototype.encodeValue=function(e){return Vp(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function Vp(e){return encodeURIComponent(e).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/gi,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%2B/gi,\"+\").replace(/%3D/gi,\"=\").replace(/%3F/gi,\"?\").replace(/%2F/gi,\"/\")}var zp=function(){function e(e){var t,r,i,o=this;if(void 0===e&&(e={}),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Up,e.fromString){if(e.fromObject)throw new Error(\"Cannot specify both fromString and fromObject.\");this.map=(t=e.fromString,r=this.encoder,i=new Map,t.length>0&&t.split(\"&\").forEach((function(e){var t=e.indexOf(\"=\"),o=Object(n.__read)(-1==t?[r.decodeKey(e),\"\"]:[r.decodeKey(e.slice(0,t)),r.decodeValue(e.slice(t+1))],2),s=o[0],a=o[1],c=i.get(s)||[];c.push(a),i.set(s,c)})),i)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((function(t){var r=e.fromObject[t];o.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:\"a\"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:\"s\"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:\"d\"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map((function(t){var r=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return r+\"=\"+e.encoder.encodeValue(t)})).join(\"&\")})).join(\"&\")},e.prototype.clone=function(t){var r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat([t]),r},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case\"a\":case\"s\":var r=(\"a\"===t.op?e.map.get(t.param):void 0)||[];r.push(t.value),e.map.set(t.param,r);break;case\"d\":if(void 0===t.value){e.map.delete(t.param);break}var n=e.map.get(t.param)||[],i=n.indexOf(t.value);-1!==i&&n.splice(i,1),n.length>0?e.map.set(t.param,n):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)},e}();function Hp(e){return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function qp(e){return\"undefined\"!=typeof Blob&&e instanceof Blob}function Gp(e){return\"undefined\"!=typeof FormData&&e instanceof FormData}var Wp=function(){function e(e,t,r,n){var i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType=\"json\",this.method=e.toUpperCase(),function(e){switch(e){case\"DELETE\":case\"GET\":case\"HEAD\":case\"OPTIONS\":case\"JSONP\":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,i=n):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Bp),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{var s=t.indexOf(\"?\");this.urlWithParams=t+(-1===s?\"?\":s<t.length-1?\"&\":\"\")+o}}else this.params=new zp,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:Hp(this.body)||qp(this.body)||Gp(this.body)||\"string\"==typeof this.body?this.body:this.body instanceof zp?this.body.toString():\"object\"==typeof this.body||\"boolean\"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body||Gp(this.body)?null:qp(this.body)?this.body.type||null:Hp(this.body)?null:\"string\"==typeof this.body?\"text/plain\":this.body instanceof zp?\"application/x-www-form-urlencoded;charset=UTF-8\":\"object\"==typeof this.body||\"number\"==typeof this.body||Array.isArray(this.body)?\"application/json\":null},e.prototype.clone=function(t){void 0===t&&(t={});var r=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((function(e,r){return e.set(r,t.setHeaders[r])}),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,r){return e.set(r,t.setParams[r])}),u)),new e(r,n,o,{params:u,headers:c,reportProgress:a,responseType:i,withCredentials:s})},e}(),$p=function(e){return e[e.Sent=0]=\"Sent\",e[e.UploadProgress=1]=\"UploadProgress\",e[e.ResponseHeader=2]=\"ResponseHeader\",e[e.DownloadProgress=3]=\"DownloadProgress\",e[e.Response=4]=\"Response\",e[e.User=5]=\"User\",e}({}),Kp=function(){return function(e,t,r){void 0===t&&(t=200),void 0===r&&(r=\"OK\"),this.headers=e.headers||new Bp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),Qp=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r.type=$p.ResponseHeader,r}return Object(n.__extends)(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(Kp),Zp=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r.type=$p.Response,r.body=void 0!==t.body?t.body:null,r}return Object(n.__extends)(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(Kp),Yp=function(e){function t(t){var r=e.call(this,t,0,\"Unknown Error\")||this;return r.name=\"HttpErrorResponse\",r.ok=!1,r.message=r.status>=200&&r.status<300?\"Http failure during parsing for \"+(t.url||\"(unknown url)\"):\"Http failure response for \"+(t.url||\"(unknown url)\")+\": \"+t.status+\" \"+t.statusText,r.error=t.error||null,r}return Object(n.__extends)(t,e),t}(Kp);function Jp(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Xp=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,r){var n,i=this;if(void 0===r&&(r={}),e instanceof Wp)n=e;else{var o;o=r.headers instanceof Bp?r.headers:new Bp(r.headers);var s=void 0;r.params&&(s=r.params instanceof zp?r.params:new zp({fromObject:r.params})),n=new Wp(e,t,void 0!==r.body?r.body:null,{headers:o,params:s,reportProgress:r.reportProgress,responseType:r.responseType||\"json\",withCredentials:r.withCredentials})}var a=Ca(n).pipe(pc((function(e){return i.handler.handle(e)})));if(e instanceof Wp||\"events\"===r.observe)return a;var c=a.pipe(Ma((function(e){return e instanceof Zp})));switch(r.observe||\"body\"){case\"body\":switch(n.responseType){case\"arraybuffer\":return c.pipe(H((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error(\"Response is not an ArrayBuffer.\");return e.body})));case\"blob\":return c.pipe(H((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error(\"Response is not a Blob.\");return e.body})));case\"text\":return c.pipe(H((function(e){if(null!==e.body&&\"string\"!=typeof e.body)throw new Error(\"Response is not a string.\");return e.body})));case\"json\":default:return c.pipe(H((function(e){return e.body})))}case\"response\":return c;default:throw new Error(\"Unreachable: unhandled observe type \"+r.observe+\"}\")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request(\"DELETE\",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request(\"GET\",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request(\"HEAD\",e,t)},e.prototype.jsonp=function(e,t){return this.request(\"JSONP\",e,{params:(new zp).append(t,\"JSONP_CALLBACK\"),observe:\"body\",responseType:\"json\"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request(\"OPTIONS\",e,t)},e.prototype.patch=function(e,t,r){return void 0===r&&(r={}),this.request(\"PATCH\",e,Jp(r,t))},e.prototype.post=function(e,t,r){return void 0===r&&(r={}),this.request(\"POST\",e,Jp(r,t))},e.prototype.put=function(e,t,r){return void 0===r&&(r={}),this.request(\"PUT\",e,Jp(r,t))},e}(),eh=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),th=new ke(\"HTTP_INTERCEPTORS\"),rh=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),nh=/^\\)\\]\\}',?\\n/,ih=function(){return function(){}}(),oh=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),sh=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if(\"JSONP\"===e.method)throw new Error(\"Attempted to construct Jsonp request without JsonpClientModule installed.\");return new S((function(r){var n=t.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((function(e,t){return n.setRequestHeader(e,t.join(\",\"))})),e.headers.has(\"Accept\")||n.setRequestHeader(\"Accept\",\"application/json, text/plain, */*\"),!e.headers.has(\"Content-Type\")){var i=e.detectContentTypeHeader();null!==i&&n.setRequestHeader(\"Content-Type\",i)}if(e.responseType){var o=e.responseType.toLowerCase();n.responseType=\"json\"!==o?o:\"text\"}var s=e.serializeBody(),a=null,c=function(){if(null!==a)return a;var t=1223===n.status?204:n.status,r=n.statusText||\"OK\",i=new Bp(n.getAllResponseHeaders()),o=function(e){return\"responseURL\"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader(\"X-Request-URL\"):null}(n)||e.url;return a=new Qp({headers:i,status:t,statusText:r,url:o})},u=function(){var t=c(),i=t.headers,o=t.status,s=t.statusText,a=t.url,u=null;204!==o&&(u=void 0===n.response?n.responseText:n.response),0===o&&(o=u?200:0);var l=o>=200&&o<300;if(\"json\"===e.responseType&&\"string\"==typeof u){var d=u;u=u.replace(nh,\"\");try{u=\"\"!==u?JSON.parse(u):null}catch(p){u=d,l&&(l=!1,u={error:p,text:u})}}l?(r.next(new Zp({body:u,headers:i,status:o,statusText:s,url:a||void 0})),r.complete()):r.error(new Yp({error:u,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(e){var t=c().url,i=new Yp({error:e,status:n.status||0,statusText:n.statusText||\"Unknown Error\",url:t||void 0});r.error(i)},d=!1,p=function(t){d||(r.next(c()),d=!0);var i={type:$p.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),\"text\"===e.responseType&&n.responseText&&(i.partialText=n.responseText),r.next(i)},h=function(e){var t={type:$p.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),r.next(t)};return n.addEventListener(\"load\",u),n.addEventListener(\"error\",l),e.reportProgress&&(n.addEventListener(\"progress\",p),null!==s&&n.upload&&n.upload.addEventListener(\"progress\",h)),n.send(s),r.next({type:$p.Sent}),function(){n.removeEventListener(\"error\",l),n.removeEventListener(\"load\",u),e.reportProgress&&(n.removeEventListener(\"progress\",p),null!==s&&n.upload&&n.upload.removeEventListener(\"progress\",h)),n.abort()}}))},e}(),ah=new ke(\"XSRF_COOKIE_NAME\"),ch=new ke(\"XSRF_HEADER_NAME\"),uh=function(){return function(){}}(),lh=function(){function e(e,t,r){this.doc=e,this.platform=t,this.cookieName=r,this.lastCookieString=\"\",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if(\"server\"===this.platform)return null;var e=this.doc.cookie||\"\";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pa(e,this.cookieName),this.lastCookieString=e),this.lastToken},e}(),dh=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var r=e.url.toLowerCase();if(\"GET\"===e.method||\"HEAD\"===e.method||r.startsWith(\"http://\")||r.startsWith(\"https://\"))return t.handle(e);var n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)},e}(),ph=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(th,[]);this.chain=t.reduceRight((function(e,t){return new eh(e,t)}),this.backend)}return this.chain.handle(e)},e}(),hh=function(){function e(){}var t;return t=e,e.disable=function(){return{ngModule:t,providers:[{provide:dh,useClass:rh}]}},e.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:ah,useValue:e.cookieName}:[],e.headerName?{provide:ch,useValue:e.headerName}:[]]}},e}(),fh=function(){return function(){}}(),mh=function(){function e(){}return e.prototype.handleError=function(e){return function(e,t){return new S((function(t){return t.error(e)}))}(e.error instanceof ErrorEvent?e.error.message:e.status+\" - \"+(e.statusText||\"\")+\" \"+e.error)},e.ngInjectableDef=me({factory:function(){return new e},token:e,providedIn:\"root\"}),e}(),gh=function(){return function(){}}(),yh=Qs(Js,[Xs],(function(e){return function(e){for(var t={},r=[],n=!1,i=0;i<e.length;i++){var o=e[i];o.token===Tt&&!0===o.value&&(n=!0),1073741824&o.flags&&r.push(o.token),o.index=i,t[zr(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:r,isRoot:n}}([wn(512,Jt,Xt,[[8,[pp,bp,Dp,Lp]],[3,Jt],Ne]),wn(5120,Pi,To,[[3,Pi]]),wn(4608,la,da,[Pi,[2,ua]]),wn(5120,pi,ko,[Wi]),wn(5120,Si,Ci,[]),wn(5120,_r,Ro,[]),wn(5120,wr,xo,[]),wn(4608,du,pu,[ya]),wn(6144,vt,null,[du]),wn(4608,iu,su,[]),wn(5120,Mc,(function(e,t,r,n,i,o,s,a){return[new ru(e,t,r),new lu(n),new au(i,o,s,a)]}),[ya,Wi,Ti,ya,ya,iu,Ei,[2,ou]]),wn(4608,jc,jc,[Mc,Wi]),wn(135680,Nc,Nc,[ya]),wn(4608,zc,zc,[jc,Nc,Si]),wn(6144,or,null,[zc]),wn(6144,Lc,null,[Nc]),wn(4608,eo,eo,[Wi]),wn(5120,El,ip,[Fd]),wn(4608,Gd,Gd,[]),wn(6144,Hd,null,[Gd]),wn(135680,Wd,Wd,[Fd,po,Ni,Et,Hd]),wn(4608,qd,qd,[]),wn(5120,$d,Xd,[Fd,va,Kd]),wn(5120,cp,ap,[op]),wn(5120,ki,(function(e){return[e]}),[cp]),wn(4608,uh,lh,[ya,Ti,ah]),wn(4608,dh,dh,[uh,ch]),wn(5120,th,(function(e){return[e]}),[dh]),wn(4608,oh,oh,[]),wn(6144,ih,null,[oh]),wn(4608,sh,sh,[ih]),wn(6144,Fp,null,[sh]),wn(4608,Np,ph,[Fp,Et]),wn(4608,Xp,Xp,[Np]),wn(5120,xp,Tp,[kp]),wn(4608,mh,mh,[]),wn(4608,fp,fp,[Xp,mh]),wn(1073742336,ga,ga,[]),wn(1024,We,_u,[]),wn(1024,io,(function(){return[Yd()]}),[]),wn(512,op,op,[Et]),wn(1024,_i,(function(e,t){return[(r=e,Oc(\"probe\",Dc),Oc(\"coreTokens\",Object(n.__assign)({},Ic,(r||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return Dc}),sp(t)];var r}),[[2,io],op]),wn(512,wi,wi,[[2,_i]]),wn(131584,uo,uo,[Wi,Ei,Et,We,Jt,wi]),wn(1073742336,Eo,Eo,[uo]),wn(1073742336,wu,wu,[[3,wu]]),wn(1024,Qd,tp,[[3,Fd]]),wn(512,sl,al,[]),wn(512,Ud,Ud,[]),wn(256,Kd,{scrollPositionRestoration:\"enabled\"},[]),wn(1024,ra,ep,[ea,[2,na],Kd]),wn(512,ia,ia,[ra,ea]),wn(512,Ni,Ni,[]),wn(512,po,mo,[Ni,[2,ho]]),wn(1024,Id,(function(){return[[{path:\"welcome\",component:hp},{path:\"\",redirectTo:\"/welcome\",pathMatch:\"full\"},{path:\"room/:id\",component:Sp}]]}),[]),wn(1024,Fd,np,[uo,sl,Ud,ia,Et,po,Ni,Id,Kd,[2,Md],[2,Pd]]),wn(1073742336,Jd,Jd,[[2,Qd],[2,Fd]]),wn(1073742336,gh,gh,[]),wn(1073742336,hh,hh,[]),wn(1073742336,fh,fh,[]),wn(1073742336,Ep,Ep,[]),wn(1073742336,Js,Js,[]),wn(256,Tt,!0,[]),wn(256,ah,\"XSRF-TOKEN\",[]),wn(256,ch,\"X-XSRF-TOKEN\",[]),wn(256,kp,{url:\"http://localhost:8080\",options:{}},[]),wn(256,\"BaseURL\",\"http://localhost:8080/\",[])])}));(function(){if(Ke)throw new Error(\"Cannot enable prod mode after platform setup.\");$e=!1})(),bu().bootstrapModuleFactory(yh).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=\"zn8P\"}},[[0,0]]]);","extractedComments":[]}